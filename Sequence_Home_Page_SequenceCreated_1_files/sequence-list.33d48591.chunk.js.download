(this["webpackJsonpshv3-reactapp"]=this["webpackJsonpshv3-reactapp"]||[]).push([[22],{2098:function(e,t,s){"use strict";s.d(t,"a",(function(){return S}));var n=s(2),a=s(1),c=s.n(a),i=s(73),r=s(31),o=s(28),u=s(40),l=s(92);const d=(e,t)=>{switch(e){case"confirm":if("delete"!==t)return"Invalid confirmation input"}return""};var h=s(340),b=s(41),p=s(0);class m extends c.a.Component{constructor(e){super(e),this.focusInputRef=void 0,this.onCloseHandler=()=>{this.props.onClose(),h.a.dispatch(b.a.MODAL_HANDLER,{isModalOpened:!1})},this.state={values:{confirm:""},errors:{confirm:""},dirty:{confirm:!1}},this.focusInputRef=c.a.createRef(),this.onInputChange=this.onInputChange.bind(this),this.onInputBlur=this.onInputBlur.bind(this),this.onFormSubmit=this.onFormSubmit.bind(this),this.onModalShow=this.onModalShow.bind(this),this.onCloseHandler=this.onCloseHandler.bind(this)}onInputChange(e,t){const s=t.target.name;this.setState(Object(l.a)((t=>{t.values[s]=e,t.dirty[s]=!0})))}onInputBlur(e){const t=e.target.name;this.setState(Object(l.a)((e=>{e.dirty[t]&&(e.errors[t]=d(t,e.values[t]))})))}onFormSubmit(e){e.preventDefault();const t=Object(n.a)({},this.state.dirty),s=Object.keys(t);for(const n of s)t[n]=!0;const a=Object(n.a)({},this.state.errors),c=Object.keys(a);let i=!1;for(const n of c){const e=d(n,this.state.values[n]);a[n]=e,i=i||!!e}this.setState({errors:a,dirty:t}),i||(this.props.onSubmit(),h.a.dispatch(b.a.MODAL_HANDLER,{isModalOpened:!1}))}onModalShow(){this.focusInputRef.current.focus()}render(){const{values:e,errors:t}=this.state,{show:s,header:n,content:a,isRequestPending:c}=this.props;return Object(p.jsx)(u.a,{show:s,className:"confirm-modal-width",hideHeader:!0,hideFooter:!0,backdrop:"static",extraModalProps:{centered:!0,"aria-labelledby":"contained-modal-title-vcenter",onShow:this.onModalShow},children:Object(p.jsxs)("form",{onSubmit:this.onFormSubmit,children:[Object(p.jsxs)("div",{className:"bs-modal-content",children:[Object(p.jsx)("div",{className:"bs-modal-icon icon-error",children:Object(p.jsx)(i.a,{identifier:"info"})}),Object(p.jsxs)("div",{className:"bs-modal-inner-content",children:[Object(p.jsx)("h3",{children:n}),a&&Object(p.jsx)("p",{className:"bs-mt-15",children:a}),Object(p.jsxs)("p",{className:"bs-mt-20 bs-mb-10",children:["Confirm by typing ",Object(p.jsx)("span",{className:"red-txt-5",children:"delete"})," ","below."]}),Object(p.jsx)(r.a,{name:"confirm",className:"bs-mb-20",value:e.confirm,variant:t.confirm&&r.a.Variant.Error,caption:t.confirm,onChange:this.onInputChange,onBlur:this.onInputBlur,autoComplete:"off",ref:this.focusInputRef})]})]}),Object(p.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(p.jsx)(o.a,{className:"bs-mr-5 cancel-btn",variant:o.a.Variant.Outlined,onClick:this.onCloseHandler,children:"Cancel"}),Object(p.jsx)(o.a,{type:o.a.Type.Submit,variant:o.a.Variant.Primary,isLoading:c,disabled:c,className:"font-medium submit-btn",children:"Yes"})]})]})})}}var S=m},2107:function(e,t,s){"use strict";s.d(t,"c",(function(){return r})),s.d(t,"e",(function(){return o})),s.d(t,"d",(function(){return u})),s.d(t,"f",(function(){return l})),s.d(t,"b",(function(){return d})),s.d(t,"a",(function(){return h})),s.d(t,"h",(function(){return b})),s.d(t,"g",(function(){return p}));var n=s(41),a=s(134),c=s(9),i=s(540);const r=e=>{switch(e.toLowerCase()){case a.b.ASC.toLowerCase():return a.a.Asc;case a.b.DESC.toLowerCase():return a.a.Desc;default:return a.a.Asc}},o=e=>{let t=null;const s=Object(i.b)();if(s){t=JSON.parse(s).progress}if((!e||null===e)&&null!==t)return t;switch(null===e||void 0===e?void 0:e.toLowerCase()){case c.J.ALL.toLowerCase():return null;case c.J.ACTIVE.toLowerCase():return c.s.Active;case c.J.PAUSED.toLowerCase():return c.s.Pause;case c.J.DRAFT.toLowerCase():return c.s.Draft;default:return null}},u=e=>{switch(e){case a.a.Asc:return a.b.ASC;case a.a.Desc:return a.b.DESC;default:return a.b.ASC}},l=e=>{let t=null;const s=Object(i.b)();if(s){t=JSON.parse(s).progress}let n=e;switch(e&&null!==e||null===t||(n=Number(t)),n){case c.s.Active:return c.J.ACTIVE;case c.s.Pause:return c.J.PAUSED;case c.s.Draft:return c.J.DRAFT;case null:default:return c.J.ALL}},d=e=>{var t,s,a,c,i;let{search:r,page:o,limit:u,progress:l,owners:d,teamsAndUsersList:h,clients:b}=e,p=[];const m=""!==r||1!==o||u!==n.a.DEFAULT_PAGE_SIZE||null!==l,S=(null===d||void 0===d||null===(t=d.split(","))||void 0===t||null===(s=t.filter(Boolean))||void 0===s?void 0:s.map((e=>parseInt(e,10))))||[],j=(null===b||void 0===b||null===(a=b.split(","))||void 0===a||null===(c=a.filter(Boolean))||void 0===c?void 0:c.map((e=>parseInt(e,10))))||[];if((null===h||void 0===h?void 0:h.length)>0){const e=h.reduce(((e,t)=>(e.push(...t.users.map((e=>e.id))),e)),[])||[];p=(null===e||void 0===e?void 0:e.filter(((e,t,s)=>s.indexOf(e)===t)))||[]}const g=(null===S||void 0===S?void 0:S.length)>0&&(null===S||void 0===S?void 0:S.length)!==(null===(i=p)||void 0===i?void 0:i.length),O=(null===j||void 0===j?void 0:j.length)>0;return m||g||O},h=(e,t)=>{if((null===e||void 0===e?void 0:e.length)&&(null===t||void 0===t?void 0:t.length)){var s;const n=(null===e||void 0===e||null===(s=e.split(","))||void 0===s?void 0:s.map((e=>parseInt(e,10))))||[],a=null===t||void 0===t?void 0:t.reduce(((e,t)=>(e.push(...t.users.map((e=>e.id))),e)),[]);return n.filter((e=>a.includes(e)))}const n=Object(i.b)();if(n&&(null===t||void 0===t?void 0:t.length)){var a;const e=JSON.parse(n);if(null===e||void 0===e||null===(a=e.owners)||void 0===a?void 0:a.length){var c,r,o;const s=t.reduce(((e,t)=>(e.push(...t.users.map((e=>e.id))),e)),[]);return null===e||void 0===e||null===(c=e.owners)||void 0===c||null===(r=c.split(","))||void 0===r||null===(o=r.map((e=>Number(e))))||void 0===o?void 0:o.filter((e=>s.includes(e)))}}if(null===t||void 0===t?void 0:t.length){return t.reduce(((e,t)=>(e.push(...t.users.map((e=>e.id))),e)),[]).filter(((e,t,s)=>s.indexOf(e)===t))}return[]},b=e=>{switch(e){case c.y.Opened:return c.H.Opened;case c.y.Replied:return c.H.Replied;default:return e}},p=e=>{let t;switch(e){case c.H.Opened:t=c.y.Opened;break;case c.H.Replied:t=c.y.Replied;break;case c.y.Title:t=c.y.Title;break;case c.y.Status:t=c.y.Status;break;case c.y.Active:t=c.y.Active;break;case c.y.Finished:t=c.y.Finished;break;case c.y.Total:t=c.y.Total;break;case c.y.CreatedAt:t=c.y.CreatedAt;break;case c.y.SequenceScore:t=c.y.SequenceScore;break;case c.y.TotalSteps:t=c.y.TotalSteps}return t}},2116:function(e,t,s){"use strict";s.d(t,"a",(function(){return w}));var n=s(15),a=s(2),c=s(1),i=s(4),r=s(5),o=s(11),u=s(90),l=s(17);const d=(e,t)=>e.filter((e=>{var s;const n=t.toLowerCase();if(e.name.toLowerCase().includes(n))return!0;const a=null===(s=e.users)||void 0===s?void 0:s.filter((e=>e.userName.toLowerCase().includes(n)));return!!(a&&a.length>0)&&(e.users=a,!0)}));var h=s(70),b=s(18),p=s(19);const m=e=>{var t,s;const n=[],a=!Object(p.a)(b.a.ACCOUNT_USER_READ)&&!Object(p.a)(b.a.TEAM_USER_READ)||(null===h.a||void 0===h.a||null===(t=h.a.getState())||void 0===t||null===(s=t.home)||void 0===s?void 0:s.isAgencyUser);return(null===e||void 0===e?void 0:e.length)&&e.forEach((e=>{if(null===e.id&&a)e.users&&e.users.forEach((e=>{const t={key:"".concat(e.id),id:e.id,name:e.userName,email:e.email,type:"user"};n.push(t)}));else{const t={key:"".concat((null===e||void 0===e?void 0:e.id)||0),id:(null===e||void 0===e?void 0:e.id)||0,name:(null===e||void 0===e?void 0:e.id)?e.teamName:"Uncategorized",type:"team",users:e.users,isDisabled:0===e.users.length};n.push(t)}})),n},S=(e,t,s)=>{const n=d(m(e),s),a=[];return n.forEach((e=>{if("team"===e.type){e.users.every((e=>t.includes(e.id)))&&a.push(e.key)}else"user"===e.type&&t.includes(e.id)&&a.push(e.key)})),a};var j=s(560);var g=s(254),O=s(6),q=s(8),R=s(131),v=s(16),f=s(0);var A=e=>{let{selectLabel:t="team",btnClassName:s="",teamsAndUsersList:n,data:h=[],resetSelectedUserIds:b=!1,setResetSelectedUserIds:p=null,onUserIdsChange:A,defaultSelectedUsers:C,shouldMakeInitialAPICall:x=!0,customSelectBox:y=null,hideFooter:w=!1,transferClassName:E="",disabled:P=!1,sendGetTeamsAndMembersListRequest:N,resetGetTeamsAndMembersListRequest:M,getTeamsAndMembersListRequestStatus:L,getTeamsAndMembersListRequestError:k}=e;const[I,D]=Object(c.useState)(!1),[T,U]=Object(c.useState)(!1),[B,F]=Object(c.useState)([]),[_,H]=Object(c.useState)(!1),[G,Q]=Object(c.useState)(""),J=Object(c.useMemo)((()=>n.length>0?n:(null===h||void 0===h?void 0:h.length)>0?h:[]),[n,h]),W=Object(c.useMemo)((()=>m(J)),[J]),V=((e,t)=>{if((null===e||void 0===e?void 0:e.length)>0)return e.reduce(((e,t)=>("team"===t.type?e.push(...t.users.map((e=>e.id))):"user"===t.type&&e.push(t.id),e)),[]).every((e=>t.includes(e)));return!1})(W,B),{isSelectAllCheckboxChecked:K,intermediate:Z}=((e,t,s)=>{if((null===e||void 0===e?void 0:e.length)>0){const n=d(e,s).reduce(((e,t)=>("team"===t.type?e.push(...t.users.map((e=>e.id))):"user"===t.type&&e.push(t.id),e)),[]);return{isSelectAllCheckboxChecked:n.every((e=>t.includes(e))),intermediate:n.some((e=>t.includes(e)))}}return{isSelectAllCheckboxChecked:!1,intermediate:!1}})(W,B,G),z=e=>{"user"===e.type&&Object(j.b)(e.id,B,F),"team"===e.type&&Object(j.a)(e,B,F),_||H(!0)},Y=e=>{let s="",n=14;return V?(s="owners"===t?"Sequence Owner":"All Teams",n=20):(s="".concat(e.length,"owners"===t?" Sequence Owner selected":" Team Members selected"),n="owners"===t?13:10),{label:s,count:n}};return Object(c.useEffect)((()=>{x&&N()}),[x]),Object(c.useEffect)((()=>{(null===C||void 0===C?void 0:C.length)&&F(C)}),[C,I]),Object(c.useEffect)((()=>{b&&(F([]),null===p||void 0===p||p(!1))}),[b]),Object(c.useEffect)((()=>{w&&_&&A(B)}),[B]),Object(c.useEffect)((()=>{Object(O.p)({status:L,onSuccess:()=>{M()},onFailed:()=>{Object(O.o)({error:k,onError:()=>{q.d.error(k.message)}}),M()}})}),[L]),Object(c.useEffect)((()=>{!I&&_&&H(!1)}),[I]),Object(f.jsx)(g.a,Object(a.a)(Object(a.a)({show:I,onToggle:e=>{P||D(e)},showSearch:!0,className:"team-filter-select ".concat(E),multiSelect:!0,placement:o.d.BottomStart,options:W,selectedOptionKey:S(J,B,G),optionFilterProp:"name",searchPlaceholder:"Search",onSearch:e=>{Q(e)},customFilterOption:(e,t)=>{const s=d(m(J),t);return 0!==s.length||T?0!==s.length&&T&&U(!1):U(!0),s},onSelect:z,onDeselect:z,optionRenderer:e=>{var t;return"team"===e.type?Object(f.jsx)(i.a,{allowMultipleExpanded:!0,allowZeroExpanded:!0,preExpanded:[e.id],children:Object(f.jsxs)(i.a.Item,{uuid:e.id,children:[Object(f.jsx)(i.a.ItemHeading,{children:Object(f.jsxs)(i.a.ItemButton,{children:[Object(f.jsx)("span",{children:e.name}),Object(f.jsx)(i.a.ItemState,{children:e=>{let{expanded:t}=e;return t?Object(f.jsx)(r.S,{}):Object(f.jsx)(r.P,{})}})]})}),(null===(t=e.users)||void 0===t?void 0:t.length)>0&&Object(f.jsx)(i.a.ItemPanel,{children:e.users.map((e=>Object(f.jsxs)("div",Object(a.a)(Object(a.a)({className:"team-member"},Object(l.a)((()=>{Object(j.b)(e.id,B,F),_||H(!0)}))),{},{children:[Object(f.jsx)(u.a,{checked:B.includes(e.id)}),Object(f.jsx)("span",{className:"team-member-name",children:e.userName.trim()||e.email})]}))))})]})}):Object(f.jsx)("div",Object(a.a)(Object(a.a)({className:"single-team-member"},Object(l.a)((()=>{Object(j.b)(e.id,B,F),_||H(!0)}))),{},{children:Object(f.jsx)("span",{className:"team-member-name",children:e.name.trim()||e.email})}))},isLoading:Object(O.G)(L),showOptionsSeparator:!0,clickListenerOn:"checkbox"},!T&&!w&&{footer:Object(f.jsxs)("div",{className:"team-filter-footer d-flex justify-content-between align-items-center",children:[Object(f.jsx)(u.a,{checked:K,intermediate:Z,label:"Select All",onChange:e=>{const t=d(m(J),G).reduce(((e,t)=>("team"===t.type?e.push(...t.users.map((e=>e.id))):"user"===t.type&&e.push(t.id),e)),[]);F(e?Object(O.M)([...B,...t]):B.filter((e=>!t.includes(e)))),_||H(!0)}}),Object(f.jsx)(i.d,{onClick:()=>{A(B),D(!1),Q("")},disabled:0===B.length||!_,className:"apply-btn",children:"Apply"})]})}),{},{customEmptyElement:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("img",{src:v.a.NoResult,alt:"No Result"}),Object(f.jsx)("h1",{children:"No Result Found"}),Object(f.jsx)("p",{children:"Please try searching with another term"})]}),children:Object(f.jsxs)(i.d,{className:"transfer-select-btn ".concat(s," ").concat(P?"disabled":""),variant:"tertiary",onClick:()=>{P||D(!I)},children:[Object(f.jsx)("div",{className:"transfer-select-btn-content",children:y||Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"select-icon",children:"team"===t?Object(f.jsx)(r.Sc,{}):Object(f.jsx)(r.Oc,{})}),Object(f.jsx)(R.a,{string:Y(B).label,length:Y(B).count})]})}),Object(f.jsx)("div",{className:"bs-select-box-icon-wrapper",children:I?Object(f.jsx)(r.S,{}):Object(f.jsx)(r.P,{})})]})}))},C=s(56),x=s(183);const y={sendGetTeamsAndMembersListRequest:()=>Object(C.n)(),resetGetTeamsAndMembersListRequest:()=>Object(x.n)()};var w=Object(n.connect)((e=>({teamsAndUsersList:e.usersAndTeams.teamsAndUsersList,getTeamsAndMembersListRequestStatus:e.usersAndTeams.getTeamsAndMembersListRequest.status,getTeamsAndMembersListRequestError:e.usersAndTeams.getTeamsAndMembersListRequest.error,getTeamsAndMembersListRequestMessage:e.usersAndTeams.getTeamsAndMembersListRequest.message})),y)(A)},2118:function(e,t,s){"use strict";s.d(t,"a",(function(){return g}));var n=s(15),a=s(1),c=s(29),i=s(5),r=s(27),o=s(4),u=s(254),l=s(243),d=s(90),h=s(293),b=s(6),p=s(0);var m=Object(c.j)((e=>{let{clients:t,clientIds:s,onClientIdsChange:n,btnClassName:c="",className:m,getAssociatedClientsOnToggle:S=null,getAgencyClientsDropdownRequestStatus:j}=e;const{t:g}=Object(r.b)(),[O,q]=Object(a.useState)([]),[R,v]=Object(a.useState)(!1);Object(a.useEffect)((()=>{q([...s])}),[R,s]);const f=t.map((e=>({key:e.id.toString(),id:e.id,name:Object(h.b)(e,60,{company:!0,email:!0,deleted:!0})}))),A=null===t||void 0===t?void 0:t.length,C=Object(a.useCallback)((e=>{v(e),S&&e&&0===A&&S()}),[S,A]),x=Object(b.G)(j);return Object(p.jsx)(u.a,{show:R,onToggle:C,className:"agency-filter-dropdown agency-filter ".concat(m),showSearch:!0,searchPlaceholder:"Search",multiSelect:!0,options:f,showOptionsSeparator:!0,selectedOptionKey:O.map((e=>e.toString())),optionFilterProp:"name",filterOption:(e,t)=>{var s;return null===t||void 0===t||null===(s=t.name)||void 0===s?void 0:s.toLowerCase().includes(e.toLowerCase())},optionRenderer:e=>Object(p.jsx)("span",{className:"sequence-name-item",children:e.name}),onChange:e=>{q(e.map((e=>parseInt(e.key,10))))},placement:l.a.BottomStart,footer:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(d.a,{checked:O.length===f.length,intermediate:0!==O.length,label:g("labels.select_all"),onChange:e=>{q(e?f.map((e=>parseInt(e.key,10))):[])}}),Object(p.jsx)(o.d,{onClick:()=>{n(O),v(!1)},children:g("labels.apply")})]}),isLoading:x,children:Object(p.jsxs)(o.d,{className:"transfer-select-btn btn-white w-1 ".concat(c),variant:"tertiary",onClick:()=>v(!R),children:[Object(p.jsxs)("div",{className:"transfer-select-btn-content",children:[Object(p.jsx)("div",{className:"select-icon",children:Object(p.jsx)(i.Sc,{})}),Object(p.jsx)("span",{children:(()=>{let e="Client Associated";return s.length===f.length?e="All clients":1===s.length?e="1 client ".concat(g("labels.selected")).toLowerCase():s.length>1?e="".concat(s.length," clients ").concat(g("labels.selected")).toLowerCase():e.length>18&&(e="".concat(e.slice(0,15),"...")),e})()})]}),Object(p.jsx)("div",{className:"bs-select-box-icon-wrapper",children:R?Object(p.jsx)(i.S,{}):Object(p.jsx)(i.P,{})})]})})})),S=s(111);const j={sendGetAgencyClientsDropdownRequest:e=>Object(S.e)(e)};var g=Object(n.connect)((e=>({getAgencyClientsDropdownRequestStatus:e.agencyClient.getAgencyClientsDropdownRequest.status,getAgencyClientsDropdownRequestMessage:e.agencyClient.getAgencyClientsDropdownRequest.message,getAgencyClientsDropdownRequestError:e.agencyClient.getAgencyClientsDropdownRequest.error,clients:e.agencyClient.clients})),j)(m)},2119:function(e,t,s){"use strict";s.d(t,"a",(function(){return d})),s.d(t,"f",(function(){return h})),s.d(t,"g",(function(){return b})),s.d(t,"d",(function(){return p})),s.d(t,"e",(function(){return m})),s.d(t,"b",(function(){return S})),s.d(t,"h",(function(){return j})),s.d(t,"c",(function(){return g}));var n=s(2),a=s(80),c=s(5),i=s(53),r=s(21),o=s(0);const u=[{id:1,icon:Object(o.jsx)(c.yc,{width:16,height:16,className:"popover-arrow-color-txt"}),label:"Create New Sequence",stepName:a.c.CreateSequence},{id:2,icon:Object(o.jsx)(c.Sc,{width:16,height:16,className:"popover-arrow-color-txt"}),label:"Add Prospects",stepName:a.c.AddProspects},{id:3,icon:Object(o.jsx)(i.q,{width:16,height:16}),label:"Add Email Account",stepName:a.c.ConnectEmail},{id:4,icon:Object(o.jsx)(c.M,{width:16,height:16,className:"popover-arrow-color-txt"}),label:"Launch Sequence",stepName:a.c.ActivateSequence},...Object(r.J)()?[{id:5,icon:Object(o.jsx)(c.Oc,{width:16,height:16,className:"popover-arrow-color-txt"}),label:"Add Clients",stepName:a.c.CreateClient}]:[]],l=[{id:1,icon:Object(o.jsx)(c.N,{width:16,height:16,className:"popover-arrow-color-txt"}),label:"All-In-One Deliverability Checklist",action:"Download Checklist",stepName:a.c.DeliverabilityPDF},{id:2,icon:Object(o.jsx)(c.N,{width:16,height:16,className:"popover-arrow-color-txt"}),label:"How to get ROI from Cold Emails?",action:"Download Guide",stepName:a.c.ColdEmailBestPracticePdf}];let d=function(e){return e.FirstSection="first-section",e.SecondSection="second-section",e}({});const h=e=>{const t=u.some((t=>{const s=e.find((e=>{var s;return(null===(s=e.profileProgressStep)||void 0===s?void 0:s.stepName)===t.stepName}));return s&&!s.isCompleted})),s=e.some((e=>!u.some((t=>{var s;return t.stepName===(null===(s=e.profileProgressStep)||void 0===s?void 0:s.stepName)}))&&!e.isCompleted));return t?d.FirstSection:!!s&&d.SecondSection},b=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;return t.map((t=>{const s=e.find((e=>{var s;return(null===(s=e.profileProgressStep)||void 0===s?void 0:s.stepName)===t.stepName}));return Object(n.a)(Object(n.a)({},t),{},{isCompleted:!!s&&s.isCompleted})}))},p=e=>e.filter((e=>e.isCompleted)).length,m=(e,t)=>{const s=(e=>e===d.FirstSection?u:l)(t);for(const n of s){const t=e.find((e=>{var t;return(null===(t=e.profileProgressStep)||void 0===t?void 0:t.stepName)===n.stepName.toLowerCase()}));if(t&&!t.isCompleted)return n.id}return 1},S=e=>!e||e.every((e=>e.isCompleted)),j=e=>{if(Array.isArray(e)&&e.length>0){const t=e.find((e=>e.code===a.d.SkipOnboarding));if(t)return"1"===t.value}return!0},g=e=>{if(!Array.isArray(e))return[];const t=[...u,...l];return e.filter((e=>{var t;return e.isCompleted&&(null===(t=e.profileProgressStep)||void 0===t?void 0:t.stepName)})).map((e=>{const s=t.find((t=>t.stepName&&t.stepName.toLowerCase()===e.profileProgressStep.stepName.toLowerCase()));return s?s.label:null})).filter(Boolean)}},2142:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var n=s(2),a=(s(1),s(2098)),c=s(0);var i=e=>Object(c.jsx)(a.a,Object(n.a)(Object(n.a)({},e),{},{content:"If you delete the sequence, you will permanently lose your sequence data."}))},2143:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));s(1);var n=s(4),a=s(21),c=s(19),i=s(18),r=s(0);var o=e=>{let{isSubsequence:t=!1}=e;return Object(r.jsxs)("div",{className:"sequence-filter-bar-skeleton skeleton-height-1",children:[Object(r.jsxs)("div",{className:"sequence-filter-bar-left",children:[Object(r.jsx)(n.l,{width:202,height:32}),Object(r.jsx)(n.l,{width:126,height:32}),!t&&Object(c.a)(i.a.CLIENT_READ)&&Object(a.J)()&&Object(r.jsx)(n.l,{width:126,height:32}),!t&&Object(r.jsx)(n.l,{width:124,height:32})]}),Object(r.jsx)("div",{children:Object(r.jsx)(n.l,{width:147,height:32})})]})}},2144:function(e,t,s){"use strict";s(1);var n=s(16),a=s(34),c=s(0);t.a=()=>Object(c.jsx)(a.a,{src:n.a.EmptyData2,alt:"empty-data/"})},2145:function(e,t,s){"use strict";s(1);var n=s(4),a=s(16),c=s(40),i=s(34),r=s(82),o=s(0);t.a=e=>{let{show:t,onClose:s,action:u,sequenceActionStats:l}=e;return Object(o.jsxs)(c.a,{show:t,onClose:s,className:"confirm-modal-width pause-resume-report-modal",hideHeader:!0,hideFooter:!0,backdrop:"static",extraModalProps:{centered:!0,"aria-labelledby":"contained-modal-title-vcenter"},children:[Object(o.jsxs)("div",{className:"pause-resume-report-modal--header",children:[Object(o.jsx)(i.a,{src:a.a.SentEmailBlue}),Object(o.jsx)("span",{children:"Action Stats"})]}),Object(o.jsxs)("div",{className:"pause-resume-report-modal--content",children:[Object(o.jsxs)("div",{className:"pause-resume-stat",children:[Object(o.jsx)("p",{children:"Sequences ".concat(u,"d successfully")}),Object(o.jsxs)("p",{children:[l.success,Object(o.jsx)(r.a,{identifier:"check-o",className:"green-txt-14"})]})]}),Object(o.jsxs)("div",{className:"pause-resume-stat",children:[Object(o.jsx)("p",{children:"Sequences failed to ".concat(u)}),Object(o.jsxs)("p",{children:[l.failed,Object(o.jsx)(r.a,{identifier:"danger",className:"gold-txt-6"})]})]})]}),Object(o.jsx)("div",{className:"pause-resume-report-modal--footer",children:Object(o.jsx)(n.d,{onClick:s,children:"Done"})})]})}},2192:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var n=s(2),a=(s(1),s(2142)),c=s(0);var i=e=>Object(c.jsx)(a.a,Object(n.a)(Object(n.a)({},e),{},{header:"Do you want to delete these sequences?"}))},2193:function(e,t,s){"use strict";s.d(t,"a",(function(){return l}));var n=s(1),a=s(9),c=s(19),i=s(18),r=s(778),o=s(11),u=s(0);var l=e=>{let{progress:t,onChange:s}=e;const[l,d]=Object(n.useState)("0"),h=[{key:"0",label:"All",value:null},{key:a.s.Active.toString(),label:"Active",value:a.s.Active},{key:a.s.Pause.toString(),label:"Paused",value:a.s.Pause},Object(c.a)(i.a.DRAFT_SEQUENCE_READ)&&{key:a.s.Draft.toString(),label:"Draft",value:a.s.Draft}].filter((e=>e));Object(n.useEffect)((()=>{t&&d(t.toString())}),[t]);return Object(u.jsx)(r.a,{className:"select-sequence-status",options:h,placement:o.d.BottomStart,selectedOptionKey:l,optionRenderer:e=>Object(u.jsx)("span",{children:e.label}),onChange:e=>{let[t]=e;(e=>{d(e.key),s(e.value)})(t)},selectedOptionRenderer:e=>{let[t]=e;return Object(u.jsxs)("span",{children:["Status (",null===t||void 0===t?void 0:t.label,")"]})}})}},2194:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s(1),a=s(31),c=s(704),i=s(0);var r=e=>{let{search:t,onChange:s}=e;const[r,o]=Object(n.useState)(t),[u,l]=Object(n.useState)([{place:a.a.IconPlace.Left,identifier:"search"}]),d=()=>{o(""),s(""),l([{place:a.a.IconPlace.Left,identifier:"search"}])};return Object(i.jsx)(a.a,{defaultValue:t,value:r,onKeyPress:e=>{const{value:n}=e.currentTarget||{value:""};Object(c.a)(e.key)&&n!==t&&s(n)},onChange:e=>{e.length>0&&l([{place:a.a.IconPlace.Left,identifier:"search"},e.length>0&&{place:a.a.IconPlace.Right,identifier:"close-o",onClick:d}]),o(e)},placeholder:"Search here...",icons:u},t)}},2333:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return De}));var n=s(29),a=s(63),c=s(15),i=s(1),r=s.n(i),o=s(2076),u=s(2062),l=s(220),d=s.n(l),h=s(46),b=s(2),p=s(785),m=s.n(p),S=s(27),j=s(9),g=s(2193),O=s(2194),q=s(73),R=s(4),v=s(16),f=s(161),A=s(3),C=s(18),x=s(19),y=s(17),w=s(97),E=s(108),P=s(21),N=s(0);class M extends r.a.Component{render(){const{isEmpty:e,createSequence:t,createSequenceRequestStatus:s,updateSetGenerateAiSeqModal:n,updateRequestStatus:a,hasAiSequenceGenerator:c}=this.props,i=s===A.a.Pending;return!e&&Object(x.a)(C.a.SEQUENCE_WRITE)&&Object(N.jsxs)("div",{className:"d-flex align-items-center gap-16",children:[c&&!Object(P.K)()&&Object(N.jsxs)("div",Object(b.a)(Object(b.a)({className:"d-flex align-items-center ai-sequence cr-sequence ",role:"button"},Object(y.a)((()=>{n({isOpen:!0,currentStep:E.a.INITIATE_AI_SEQUENCE}),a()}))),{},{children:[Object(N.jsx)(R.h,{src:v.a.Stars,width:16,height:16,alt:"stars"}),Object(N.jsx)("span",{children:"Write With AI"})]})),Object(N.jsx)(R.d,{id:f.a.CreateSequence,onClick:t,isLoading:i,disabled:i,children:"Create Sequence"})]})}}const L={updateSetGenerateAiSeqModal:e=>Object(w.rb)(e),updateRequestStatus:()=>Object(w.K)()};var k=Object(c.connect)(null,L)(M),I=s(809),D=s(544);var T=s(12),U=s(55),B=s(2143),F=s(11),_=s(2116),H=s(2118),G=s(2119),Q=s(230);var J=e=>{let{progress:t,search:s,onPaginationOptionsChange:n,selectedSequence:a,onDeleteMultipleSequences:c,owners:r,createSequenceRequestStatus:o,createSequence:u,isEmpty:l,featureUsages:d,subscription:h,getSequencesRequestStatus:p,getTeamsAndMembersListRequestStatus:m,getAgencyClientsDropdownRequestStatus:R,selectedSequenceIds:v,handleOnPauseResumeAction:f,clients:A,profileProgress:w}=e;const{t:E}=Object(S.b)(),[M,L]=Object(i.useState)(!1),J=Object(D.a)(d),W=a.length,V=Object(U.c)(p)||Object(U.c)(m)||Object(U.c)(R),K=Object(i.useMemo)((()=>null===d||void 0===d?void 0:d.some((e=>(null===e||void 0===e?void 0:e.featureCode)===Q.a.AI_CREDITS))),[d]);return V?Object(N.jsx)(B.a,{}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"sequence-filter-bar",children:[Object(N.jsxs)("div",{className:"sequence-filter-bar-left",children:[Object(N.jsx)("div",{className:"sequence-search-input-wrap",children:Object(N.jsx)(O.a,{search:s,onChange:e=>n({search:e,page:1})})}),Object(x.a)(C.a.CLIENT_READ)&&Object(P.J)()&&Object(N.jsx)(H.a,{clientIds:A.split(",").filter(Boolean).map((e=>parseInt(e,10))),onClientIdsChange:e=>n({clients:e.join(","),page:1})}),(Object(x.a)(C.a.ACCOUNT_USER_READ)||Object(x.a)(C.a.TEAM_USER_READ))&&Object(N.jsx)(_.a,{selectLabel:"owners",btnClassName:"btn-white w-1",defaultSelectedUsers:r.split(",").map(Number),onUserIdsChange:e=>n({owners:e.join(","),page:1}),shouldMakeInitialAPICall:!1,transferClassName:!Object(G.b)(w)&&"team-filter-select-onboarding"}),Object(N.jsx)(g.a,{progress:t,onChange:e=>n({progress:e,page:1})}),Object(x.a)(C.a.SEQUENCE_WRITE)&&Object(N.jsxs)("div",{className:"sequence-action-btn-wrapper ".concat(0===(null===v||void 0===v?void 0:v.length)?"disabled":""),children:[Object(N.jsx)(F.c,{text:"Pause Sequence",children:Object(N.jsx)("div",Object(b.a)(Object(b.a)({className:"sequence-action-btn"},Object(y.a)((()=>f(j.p.Pause)))),{},{children:Object(N.jsx)(q.a,{identifier:"pause-circle"})}))}),Object(N.jsx)(F.c,{text:"Resume Sequence",children:Object(N.jsx)("div",Object(b.a)(Object(b.a)({className:"sequence-action-btn"},Object(y.a)((()=>f(j.p.Resume)))),{},{children:Object(N.jsx)(q.a,{identifier:"right-arrow"})}))})]}),W>0&&Object(N.jsxs)("span",Object(b.a)(Object(b.a)({className:"action-delete semibold-1 pointer"},Object(y.a)(c)),{},{children:[Object(N.jsx)(q.a,{identifier:"trash"}),E("labels.delete")," ",W," ",E("labels.sequence"),W>1?"s":""]}))]}),Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-md-12",children:Object(N.jsx)(k,{isEmpty:l,createSequence:()=>{(null===h||void 0===h?void 0:h.planCode)===T.k.TRIAL&&(e=>null!==e.remainingQuota&&+e.remainingQuota<=0)(J)?L(!0):u()},createSequenceRequestStatus:o,hasAiSequenceGenerator:K})})})]}),M&&Object(N.jsx)(I.a,{onClose:()=>{L(!1)}})]})};var W=Object(c.connect)((e=>({selectedSequence:e.sequence.selectedSequence,subscription:e.home.subscription,featureUsages:e.home.featureUsages,profileProgress:e.home.profileProgress,getSequencesRequestStatus:e.sequence.getSequencesRequest.status,getTeamsAndMembersListRequestStatus:e.usersAndTeams.getTeamsAndMembersListRequest.status,getAgencyClientsDropdownRequestStatus:e.agencyClient.getAgencyClientsDropdownRequest.status})),{})(J),V=s(2144);var K=()=>Object(N.jsxs)("div",{className:"empty-block",children:[Object(N.jsx)(V.a,{}),Object(N.jsx)("div",{children:"No Sequences Found"})]}),Z=s(8),z=s(100),Y=s(2192),X=s(103),$=s(113),ee=s(2107),te=s(134),se=s(41),ne=s(39),ae=s(852),ce=s(2145),ie=s(540),re=s(80),oe=s(107),ue=s(802),le=s(826);const de=r.a.lazy((()=>Object(X.a)((()=>Promise.all([s.e(5),s.e(23)]).then(s.bind(null,2336)))))),he=r.a.lazy((()=>Object(X.a)((()=>s.e(17).then(s.bind(null,2339))))));class be extends r.a.Component{constructor(e){super(e),this.skipOnboardingRetryCount=0,this.onUpdatePaginationAndGetSequences=()=>{const{location:e,getSequences:t}=this.props;t(this.setPaginationOptions(e))},this.onPaginationOptionsChangeHandler=e=>{const{page:t,limit:s}=this.state;this.setURLQueryParams(!0),this.setState({page:e.page||t,limit:e.limit||s},(()=>this.fetchData(e)))},this.onDeleteMultipleSequencesModalSubmit=()=>{const{selectedSequence:e,sendDeleteSequencesRequest:t}=this.props;t(e.map((e=>{let{id:t}=e;return t})))},this.showDeleteMultipleSequencesModal=()=>{this.setState({showDeleteMultipleSequencesModal:!0})},this.hideDeleteMultipleSequencesModal=()=>{this.setState({showDeleteMultipleSequencesModal:!1})},this.hidePauseResumeModal=()=>{this.setState({showPauseResumeModal:!1})},this.hideSequenceActionReportModal=()=>{this.setState({showSequenceActionReportModal:!1,sequenceAction:null})},this.state={showDeleteMultipleSequencesModal:!1,sortBy:j.y.CreatedAt,order:te.a.Desc,page:1,limit:se.a.DEFAULT_PAGE_SIZE,isURLQueryParams:!1,selectedSequenceIds:[],showPauseResumeModal:!1,showSequenceActionReportModal:!1,sequenceAction:null,resetSelected:!1,hideOnboardingSteps:!1},this.onSortHandler=this.onSortHandler.bind(this),this.onUpdatePaginationAndGetSequences=this.onUpdatePaginationAndGetSequences.bind(this),this.handleAllRowSelect=this.handleAllRowSelect.bind(this),this.handleSingleRowSelect=this.handleSingleRowSelect.bind(this),this.handleClearSelection=this.handleClearSelection.bind(this),this.handleOnPauseResumeAction=this.handleOnPauseResumeAction.bind(this),this.hidePauseResumeModal=this.hidePauseResumeModal.bind(this),this.hideSequenceActionReportModal=this.hideSequenceActionReportModal.bind(this),this.handleOnPauseResume=this.handleOnPauseResume.bind(this),this.handleResetSelected=this.handleResetSelected.bind(this),this.handleSendSkipOnboardingRequest=this.handleSendSkipOnboardingRequest.bind(this),this.handleHideOnboarding=this.handleHideOnboarding.bind(this)}componentDidMount(){const{location:e,pagination:t}=this.props,s=d.a.parse(e.search),{sortBy:n,order:a,onboarding:c}=s;this.setState({sortBy:n?Object(ee.g)(n):j.y.CreatedAt,order:a?Object(ee.c)(a):te.a.Desc},(()=>{e.search&&!c||this.updateQueryParams(t.options)}))}componentDidUpdate(e){const{deleteSequencesRequestStatus:t,deleteSequencesRequestMessage:s,deleteSequencesRequestError:n,getSequences:a,pagination:c,bulkPauseSequenceRequestStatus:i,bulkPauseSequenceRequestError:r,resetBulkPauseSequenceRequest:o,bulkResumeSequenceRequestStatus:u,bulkResumeSequenceRequestError:l,resetBulkResumeSequenceRequest:d,profileProgress:h,updateUserSettingsRequestStatus:b,updateSkipOnboardingValue:p}=this.props,{isURLQueryParams:m,hideOnboardingSteps:S}=this.state;(m||c.options!==e.pagination.options)&&(this.setURLQueryParams(!1),Object(ie.d)({owners:c.options.owners,progress:c.options.progress}),this.updateQueryParams(c.options)),Object(ne.c)({status:t,prevStatus:e.deleteSequencesRequestStatus,onSuccess:()=>{Z.d.success(s),this.hideDeleteMultipleSequencesModal(),a(c.options)},onFailed:()=>{Object(ne.a)({error:n,onError:()=>{Object(z.a)(n.message)}})}}),Object(ne.c)({status:i,prevStatus:e.bulkPauseSequenceRequestStatus,onSuccess:()=>{this.setState({showSequenceActionReportModal:!0}),o(),this.hidePauseResumeModal(),this.handleClearSelection(),a(c.options)},onFailed:()=>{Object(ne.a)({error:r,onError:()=>{Z.d.error(r.message,{theme:Z.a.New})}}),o(),this.hidePauseResumeModal(),this.handleClearSelection(),a(c.options)}}),Object(ne.c)({status:u,prevStatus:e.bulkResumeSequenceRequestStatus,onSuccess:()=>{this.setState({showSequenceActionReportModal:!0}),d(),this.hidePauseResumeModal(),this.handleClearSelection(),a(c.options)},onFailed:()=>{Object(ne.a)({error:l,onError:()=>{Z.d.error(l.message,{theme:Z.a.New})}}),d(),this.hidePauseResumeModal(),this.handleClearSelection(),a(c.options)}}),Object(ne.c)({status:b,prevStatus:e.updateUserSettingsRequestStatus,onSuccess:()=>{var e,t;S&&(p(),null===(e=window.analytics)||void 0===e||null===(t=e.track)||void 0===t||t.call(e,{userId:Object(P.E)(),event:oe.a.OnboardingSkipped,properties:{shAccountId:Object(P.B)(),role:Object(P.A)(),current_plan:Object(P.y)(),completedSteps:Object(G.c)(h)}}))},onFailed:()=>{S&&(this.skipOnboardingRetryCount<3?this.handleSendSkipOnboardingRequest():(Z.d.error("We couldn't save your preference \u2014 please try again."),this.setState({hideOnboardingSteps:!1}),this.skipOnboardingRetryCount=0))}})}componentWillUnmount(){const{resetSelectedSequences:e}=this.props;e()}onSortHandler(e,t){const s="asc"===t?1:-1;this.setState({sortBy:e,order:s,isURLQueryParams:!0},(()=>this.fetchData({})))}setURLQueryParams(e){this.setState({isURLQueryParams:e})}setPaginationOptions(e){const{teamsAndUsersList:t}=this.props,s=d.a.parse(e.search),{page:n,sortBy:a,order:c,status:i,search:r,owners:o,limit:u}=s;return{order:c?Object(ee.c)(c):te.a.Desc,sortBy:a?Object(ee.g)(a):j.y.CreatedAt,search:r||"",page:n?parseInt(n,10):1,progress:Object(ee.e)(i),owners:Object(ee.a)(o,t).join(","),limit:u?parseInt(u,10):se.a.DEFAULT_PAGE_SIZE}}handleOnPauseResumeAction(e){const{selectedSequenceIds:t}=this.state;t.length>0&&this.setState({showPauseResumeModal:!0,sequenceAction:e})}handleOnPauseResume(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{sequenceAction:t,selectedSequenceIds:s}=this.state,{sendBulkPauseSequenceRequest:n,sendBulkResumeSequenceRequest:a}=this.props;t!==j.p.Pause?t===j.p.Resume&&a(s):n(s,e)}handleAllRowSelect(e,t){const{selectedSequenceIds:s}=this.state,{sequences:n}=this.props;if(t){const t=e.map((e=>e.id)),n=se.a.SELECTED_SEQUENCE_LIMIT-s.length;if(n>0){const e=t.slice(0,n);this.setState((t=>({selectedSequenceIds:[...t.selectedSequenceIds,...e]})))}}else{const e=n.map((e=>e.id));this.setState((t=>({selectedSequenceIds:t.selectedSequenceIds.filter((t=>!e.includes(t)))})))}}handleSingleRowSelect(e,t){const{selectedSequenceIds:s}=this.state;t?s.length<se.a.SELECTED_SEQUENCE_LIMIT&&this.setState((t=>({selectedSequenceIds:[...t.selectedSequenceIds,e.id]}))):this.setState((t=>({selectedSequenceIds:t.selectedSequenceIds.filter((t=>t!==e.id))})))}handleSendSkipOnboardingRequest(){const{sendSkipOnboardingRequest:e}=this.props;this.skipOnboardingRetryCount+=1,e({settings:[{code:re.d.SkipOnboarding,value:"1"}]})}handleClearSelection(){this.setState({selectedSequenceIds:[],resetSelected:!0})}handleResetSelected(){this.setState({resetSelected:!1})}handleHideOnboarding(){this.setState({hideOnboardingSteps:!0}),this.handleSendSkipOnboardingRequest()}fetchData(e){const{getSequencesRequestStatus:t,getSequences:s,pagination:{options:n}}=this.props;if(t!==A.a.Pending){const{page:t,limit:a,order:c,sortBy:i}=this.state;s(Object(b.a)(Object(b.a)(Object(b.a)({},n),e),{},{page:t,limit:a,order:c,sortBy:i}))}}updateQueryParams(e){const{location:t,history:s}=this.props,n=new URLSearchParams(t.search);Object.keys(e).forEach((t=>{switch(t){case j.j.PAGE:case j.j.LIMIT:n.set(t,e[t].toString());break;case j.j.SORT_BY:{const s=Object(ee.h)(e[t]);n.set(t,s);break}case j.j.ORDER:{const s=Object(ee.d)(e[t]);n.set(t,s);break}case j.j.PROGRESS:{const s=Object(ee.f)(e[t]);n.set("status",s);break}case j.j.OWNERS:case j.j.SEARCH:case j.j.CLIENTS:n.set(t,e[t])}})),s.push({pathname:"/sequence",search:n.toString()})}render(){const{pagination:e,isEmpty:t,getSequences:s,deleteSequencesRequestStatus:n,selectedSequenceLength:a,createSequence:c,createSequenceRequestStatus:i,getSequencesRequestStatus:r,getTeamsAndMembersListRequestStatus:o,getAgencyClientsDropdownRequestStatus:u,sequenceActionStats:l,bulkPauseSequenceRequestStatus:d,bulkResumeSequenceRequestStatus:h,profileProgress:b,meta:p}=this.props,{sortBy:S,order:g,showDeleteMultipleSequencesModal:O,selectedSequenceIds:q,showPauseResumeModal:R,sequenceAction:v,showSequenceActionReportModal:f,resetSelected:C,hideOnboardingSteps:x}=this.state,y=n===A.a.Pending,w=Object(U.c)(r)||Object(U.c)(o)||Object(U.c)(u);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"sequence-list-container",children:[!Object(G.b)(b)&&!m()(b)&&!Object(G.h)(p)&&!x&&Object(N.jsx)($.a,{fallback:Object(N.jsx)(le.a,{profileProgressSection:Object(G.f)(b),isAgencyUser:Object(P.J)()}),children:Object(N.jsx)(he,{handleHideOnboarding:this.handleHideOnboarding,isLoading:w})}),Object(N.jsx)(W,{progress:e.options.progress,sortBy:e.options.sortBy,order:e.options.order,search:e.options.search,owners:e.options.owners,page:e.options.page,onPaginationOptionsChange:this.onPaginationOptionsChangeHandler,onDeleteMultipleSequences:()=>this.showDeleteMultipleSequencesModal(),isEmpty:t,createSequence:c,createSequenceRequestStatus:i,selectedSequenceIds:q,handleOnPauseResumeAction:this.handleOnPauseResumeAction,clients:e.options.clients}),t&&!w?Object(N.jsx)(K,{}):Object(N.jsx)(N.Fragment,{children:Object(N.jsx)($.a,{fallback:Object(N.jsx)(ue.a,{}),children:Object(N.jsx)(de,{getSequences:()=>s(e.options),paginationOptions:{page:e.options.page,limit:e.options.limit,totalElements:a},onPaginationOptionsChange:this.onPaginationOptionsChangeHandler,sort:{sortBy:S,order:g},onSort:this.onSortHandler,handleAllRowSelect:this.handleAllRowSelect,handleSingleRowSelect:this.handleSingleRowSelect,selectedSequenceIds:q,handleClearSelection:this.handleClearSelection,maxSelectedRowsLimit:se.a.SELECTED_SEQUENCE_LIMIT,resetSelected:C,handleResetSelected:this.handleResetSelected})})})]}),O&&Object(N.jsx)(Y.a,{show:O,onSubmit:this.onDeleteMultipleSequencesModalSubmit,onClose:this.hideDeleteMultipleSequencesModal,isRequestPending:y}),Object(N.jsx)(ae.a,{show:R,action:v===j.p.Pause?j.o.Pause:j.o.Resume,onClose:this.hidePauseResumeModal,onSubmit:this.handleOnPauseResume,isRequestPending:Object(U.c)(d)||Object(U.c)(h),shouldShowPauseSubsequenceCheckbox:!0}),Object(N.jsx)(ce.a,{show:f,action:v,sequenceActionStats:l,onClose:this.hideSequenceActionReportModal})]})}}var pe=be,me=s(20),Se=s(78);const je={sendDeleteSequencesRequest:e=>Object(me.v)({sequenceIds:e}),resetSelectedSequences:()=>Object(w.O)(),resetApplicationState:()=>Object(Se.h)(),sendBulkPauseSequenceRequest:(e,t)=>Object(me.h)({sequenceIds:e,shouldPauseSubSequences:t}),resetBulkPauseSequenceRequest:()=>Object(w.m)(),sendBulkResumeSequenceRequest:e=>Object(me.i)(e),resetBulkResumeSequenceRequest:()=>Object(w.n)(),sendSkipOnboardingRequest:e=>Object(Se.B)(e),updateSkipOnboardingValue:()=>Object(Se.A)()},ge=Object(c.connect)((e=>{var t;return{deleteSequencesRequestStatus:e.sequence.deleteSequencesRequest.status,deleteSequencesRequestMessage:e.sequence.deleteSequencesRequest.message,deleteSequencesRequestError:e.sequence.deleteSequencesRequest.error,getSequencesRequestStatus:e.sequence.getSequencesRequest.status,getTeamsAndMembersListRequestStatus:e.usersAndTeams.getTeamsAndMembersListRequest.status,pagination:e.sequence.pagination,isEmpty:0===e.sequence.sequences.length,selectedSequence:e.sequence.selectedSequence,teamsAndUsersList:e.usersAndTeams.teamsAndUsersList,createSequenceRequestStatus:e.sequence.createSequenceRequest.status,sequenceLength:e.sequence.totalSequences,selectedSequenceLength:e.sequence.totalSelectedSequences,hasSignUpCompleted:e.home.application.hasSignUpCompleted,planCode:null===(t=e.home.subscription)||void 0===t?void 0:t.planCode,sequences:e.sequence.sequences,profileProgress:e.home.profileProgress,bulkPauseSequenceRequestStatus:e.sequence.bulkPauseSequenceRequest.status,bulkPauseSequenceRequestMessage:e.sequence.bulkPauseSequenceRequest.message,bulkPauseSequenceRequestError:e.sequence.bulkPauseSequenceRequest.error,bulkResumeSequenceRequestStatus:e.sequence.bulkResumeSequenceRequest.status,bulkResumeSequenceRequestMessage:e.sequence.bulkResumeSequenceRequest.message,bulkResumeSequenceRequestError:e.sequence.bulkResumeSequenceRequest.error,sequenceActionStats:e.sequence.sequenceActionStats,getAgencyClientsDropdownRequestStatus:e.agencyClient.getAgencyClientsDropdownRequest.status,getAgencyClientsDropdownRequestMessage:e.agencyClient.getAgencyClientsDropdownRequest.message,getAgencyClientsDropdownRequestError:e.agencyClient.getAgencyClientsDropdownRequest.error,meta:e.home.meta,updateUserSettingsRequestStatus:e.home.updateUserSettingsRequest.status}}),je);var Oe=Object(n.j)(ge(pe)),qe=s(545),Re=s(28);var ve=e=>{let{createSequence:t,createSequenceRequestStatus:s}=e;const n=s===A.a.Pending;return Object(N.jsx)("div",{className:"create-sequence-container",children:Object(N.jsxs)("div",{className:"empty-block",children:[Object(N.jsx)(qe.a,{}),Object(N.jsx)("h3",{children:"Create your first sequence"}),Object(N.jsx)("p",{className:"regular-2",children:"Create a multi steps sequence and get high engagement on your emails. Add steps, upload contacts, and start your sequence."}),Object(x.a)(C.a.SEQUENCE_WRITE)&&Object(N.jsx)(Re.a,{variant:Re.a.Variant.Primary,onClick:t,isLoading:n,children:"Create Sequence"})]})})},fe=s(6),Ae=s(200),Ce=s(418),xe=s(787),ye=s(181);class we extends r.a.Component{constructor(e){super(e),this.state={isFilteredApplied:!1,showUpgradePlanErrorModal:!1},this.constructPaginationOption=this.constructPaginationOption.bind(this),this.createSequence=this.createSequence.bind(this),this.getSequences=this.getSequences.bind(this),this.hideUpgradePlanErrorModal=this.hideUpgradePlanErrorModal.bind(this)}async componentDidMount(){const{sendGetTeamsAndMembersListRequest:e,planCode:t,sendGetAgencyClientsDropdownRequest:s}=this.props;Object(x.a)(C.a.CLIENT_READ)&&Object(P.J)()&&s({}),t&&(Object(x.a)(C.a.ACCOUNT_USER_READ)||Object(x.a)(C.a.TEAM_USER_READ)?e():this.getSequences(this.constructPaginationOption())),Object(ye.d)("sequences")}componentDidUpdate(e){const{authUrl:t,connectEmailAccountRequestStatus:s,getSequencesRequestStatus:n,getSequencesRequestError:a,createSequenceRequestStatus:c,createSequenceRequestError:i,createSequenceRequestMessage:r,onBoardingRequestStatus:o,sequenceId:u,showLoadingBar:l,hideLoadingBar:d,history:h,getUserSettingsRequestStatus:b,getTeamsAndMembersListRequestStatus:p,resetGetTeamsAndMembersListRequest:m,setIsSequenceCreatedFromOnboarding:S}=this.props;Object(ne.c)({status:s,prevStatus:e.connectEmailAccountRequestStatus,onSuccess:()=>{Object(fe.Z)(t)}}),Object(ne.c)({status:n,prevStatus:e.getSequencesRequestStatus,onPending:()=>{l()},onSuccess:()=>{d()},onFailed:()=>{d(),a&&Object(z.a)(a.message)}}),Object(ne.c)({status:c,prevStatus:e.createSequenceRequestStatus,onSuccess:()=>{const{isSequenceCreatedFromOnboarding:e}=this.props;Z.d.success(r,{theme:Z.a.New}),h.push("/sequence/".concat(u,"/steps").concat(e?"?addNewStep=true":"")),S(!1)},onFailed:()=>{i&&Object(z.a)(i.message)}}),Object(ne.c)({status:o,prevStatus:e.onBoardingRequestStatus,onSuccess:()=>{this.getSequences(this.constructPaginationOption())}}),Object(ne.c)({status:b,prevStatus:e.getUserSettingsRequestStatus,onSuccess:()=>{this.getSequences(this.constructPaginationOption())}}),Object(ne.c)({status:p,prevStatus:e.getTeamsAndMembersListRequestStatus,onSuccess:()=>{this.getSequences(this.constructPaginationOption()),m()},onFailed:()=>{m()}})}componentWillUnmount(){const{resetApplicationState:e,resetSequencesData:t,resetTeamsAndUsersListData:s}=this.props;e(),t(),s()}getSequences(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sendGetSequencesRequest:t,meta:s,teamsAndUsersList:n}=this.props;if(Object(h.isEmpty)(s))t(e);else{const n=s.find((e=>e.code===re.d.Onboarding));(null===n||void 0===n?void 0:n.value)!==re.b.Step1&&t(e)}this.setState({isFilteredApplied:Object(ee.b)({search:e.search,page:e.page,limit:e.limit,progress:e.progress,owners:e.owners,teamsAndUsersList:n,clients:e.clients})})}constructPaginationOption(){const{location:e,paginationOptions:t,teamsAndUsersList:s}=this.props,n=d.a.parse(e.search),{page:a,sortBy:c,order:i,status:r,search:o,owners:u,clients:l}=n,h={order:i?Object(ee.c)(i):t.order,sortBy:c?Object(ee.g)(c):t.sortBy,search:o||t.search,page:a?parseInt(a,10):t.page,progress:Object(ee.e)(r),owners:Object(ee.a)(u,s).join(","),limit:t.limit,clients:l||t.clients};return this.setState({isFilteredApplied:Object(ee.b)({search:h.search,page:h.page,limit:h.limit,progress:h.progress,owners:h.owners,teamsAndUsersList:s,clients:h.clients})}),h}createSequence(){const{sendCreateSequenceRequest:e}=this.props;Object(x.a)(C.a.SEQUENCE_WRITE)?Object(xe.a)()?this.setState({showUpgradePlanErrorModal:!0}):Object(x.a)(C.a.SEQUENCE_WRITE)&&e(Object(ie.a)()):Object(x.a)(C.a.ACCOUNT_SUBSCRIPTION_READ)?Object(Ae.a)(2002):Object(Ae.a)(3002)}hideUpgradePlanErrorModal(){this.setState({showUpgradePlanErrorModal:!1})}render(){const{isEmpty:e,getSequencesRequestStatus:t,createSequenceRequestStatus:s,getTeamsAndMembersListRequestStatus:n}=this.props,{showUpgradePlanErrorModal:a,isFilteredApplied:c}=this.state,i=Object(U.c)(t)||Object(U.c)(n);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(o.a,{className:"m-0 h-100",children:Object(N.jsx)(u.a,{className:"p-0 h-100",children:Object(N.jsx)("div",{className:"sequence-components",children:Object(x.a)(C.a.SEQUENCE_WRITE)&&e&&!c&&!i?Object(N.jsx)(ve,{createSequence:this.createSequence,createSequenceRequestStatus:s}):Object(N.jsx)(Oe,{getSequences:this.getSequences,createSequence:this.createSequence})})})}),Object(N.jsx)(Ce.a,{show:a,onClose:this.hideUpgradePlanErrorModal,planName:"starter",restrictionOn:"sequence"})]})}}var Ee=we,Pe=s(35),Ne=s(183),Me=s(56),Le=s(111);const ke={sendGetSequencesRequest:e=>Object(me.eb)(e),sendGetSequencesStatsRequest:e=>Object(me.fb)(e),sendCreateSequenceRequest:e=>Object(me.p)({title:e}),resetPaginationOptions:()=>Object(w.D)(),showLoadingBar:()=>Object(a.showLoading)(),hideLoadingBar:()=>Object(a.hideLoading)(),sendConnectEmailAccountRequest:(e,t)=>Object(Pe.e)({method:e,emailAccountId:t}),resetApplicationState:()=>Object(Se.h)(),resetSequencesData:()=>Object(w.hb)(),sendGetTeamsAndMembersListRequest:()=>Object(Me.n)(),resetGetTeamsAndMembersListRequest:()=>Object(Ne.n)(),resetTeamsAndUsersListData:()=>Object(Ne.t)(),sendGetAgencyClientsDropdownRequest:e=>Object(Le.e)(e),setIsSequenceCreatedFromOnboarding:e=>Object(w.xb)(e)},Ie=Object(c.connect)((e=>{var t,s;return{getUsersListRequestStatus:e.usersAndTeams.getMembersListRequest.status,getSequencesRequestStatus:e.sequence.getSequencesRequest.status,getSequencesRequestError:e.sequence.getSequencesRequest.error,getSequencesStatsRequestStatus:e.sequence.getSequencesStatsRequest.status,getSequencesStatsRequestError:e.sequence.getSequencesStatsRequest.error,createSequenceRequestStatus:e.sequence.createSequenceRequest.status,createSequenceRequestMessage:e.sequence.createSequenceRequest.message,createSequenceRequestError:e.sequence.createSequenceRequest.error,connectEmailAccountRequestStatus:e.emailAccount.connectEmailAccountRequest.status,connectEmailAccountRequestMessage:e.emailAccount.connectEmailAccountRequest.message,connectEmailAccountRequestError:e.emailAccount.connectEmailAccountRequest.error,getEmailAccountsRequestStatus:e.emailAccount.getEmailAccountsRequest.status,emailAccounts:e.emailAccount.emailAccounts,authUrl:e.emailAccount.authUrl,isEmpty:0===(null===(t=e.sequence.sequences)||void 0===t?void 0:t.length),sequenceId:e.sequence.createdSequenceId,paginationOptions:e.sequence.pagination.options,meta:e.home.meta,subscriptionDetails:e.home.subscription,role:e.home.role,pageHeaderBannerMessage:e.pageHeader.message,ctaURL:e.pageHeader.CTAUrl,ctaText:e.pageHeader.CTAText,target:e.pageHeader.target,teamsAndUsersList:e.usersAndTeams.teamsAndUsersList,getTeamsAndMembersListRequestStatus:e.usersAndTeams.getTeamsAndMembersListRequest.status,planCode:null===(s=e.home.subscription)||void 0===s?void 0:s.planCode,onBoardingRequestStatus:e.signup.onBoardingDetailsRequest.status,getUserSettingsRequestStatus:e.home.getUserSettingsRequest.status,isSequenceCreatedFromOnboarding:e.sequence.isSequenceCreatedFromOnboarding}}),ke);var De=Object(n.j)(Ie(Ee))}}]);
//# sourceMappingURL=sequence-list.33d48591.chunk.js.map