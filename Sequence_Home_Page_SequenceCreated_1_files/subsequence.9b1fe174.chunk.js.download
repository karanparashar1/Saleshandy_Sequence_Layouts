(this["webpackJsonpshv3-reactapp"]=this["webpackJsonpshv3-reactapp"]||[]).push([[29],{2098:function(e,t,s){"use strict";s.d(t,"a",(function(){return S}));var n=s(2),a=s(1),c=s.n(a),r=s(73),i=s(31),o=s(28),u=s(40),l=s(92);const d=(e,t)=>{switch(e){case"confirm":if("delete"!==t)return"Invalid confirmation input"}return""};var h=s(340),p=s(41),b=s(0);class q extends c.a.Component{constructor(e){super(e),this.focusInputRef=void 0,this.onCloseHandler=()=>{this.props.onClose(),h.a.dispatch(p.a.MODAL_HANDLER,{isModalOpened:!1})},this.state={values:{confirm:""},errors:{confirm:""},dirty:{confirm:!1}},this.focusInputRef=c.a.createRef(),this.onInputChange=this.onInputChange.bind(this),this.onInputBlur=this.onInputBlur.bind(this),this.onFormSubmit=this.onFormSubmit.bind(this),this.onModalShow=this.onModalShow.bind(this),this.onCloseHandler=this.onCloseHandler.bind(this)}onInputChange(e,t){const s=t.target.name;this.setState(Object(l.a)((t=>{t.values[s]=e,t.dirty[s]=!0})))}onInputBlur(e){const t=e.target.name;this.setState(Object(l.a)((e=>{e.dirty[t]&&(e.errors[t]=d(t,e.values[t]))})))}onFormSubmit(e){e.preventDefault();const t=Object(n.a)({},this.state.dirty),s=Object.keys(t);for(const n of s)t[n]=!0;const a=Object(n.a)({},this.state.errors),c=Object.keys(a);let r=!1;for(const n of c){const e=d(n,this.state.values[n]);a[n]=e,r=r||!!e}this.setState({errors:a,dirty:t}),r||(this.props.onSubmit(),h.a.dispatch(p.a.MODAL_HANDLER,{isModalOpened:!1}))}onModalShow(){this.focusInputRef.current.focus()}render(){const{values:e,errors:t}=this.state,{show:s,header:n,content:a,isRequestPending:c}=this.props;return Object(b.jsx)(u.a,{show:s,className:"confirm-modal-width",hideHeader:!0,hideFooter:!0,backdrop:"static",extraModalProps:{centered:!0,"aria-labelledby":"contained-modal-title-vcenter",onShow:this.onModalShow},children:Object(b.jsxs)("form",{onSubmit:this.onFormSubmit,children:[Object(b.jsxs)("div",{className:"bs-modal-content",children:[Object(b.jsx)("div",{className:"bs-modal-icon icon-error",children:Object(b.jsx)(r.a,{identifier:"info"})}),Object(b.jsxs)("div",{className:"bs-modal-inner-content",children:[Object(b.jsx)("h3",{children:n}),a&&Object(b.jsx)("p",{className:"bs-mt-15",children:a}),Object(b.jsxs)("p",{className:"bs-mt-20 bs-mb-10",children:["Confirm by typing ",Object(b.jsx)("span",{className:"red-txt-5",children:"delete"})," ","below."]}),Object(b.jsx)(i.a,{name:"confirm",className:"bs-mb-20",value:e.confirm,variant:t.confirm&&i.a.Variant.Error,caption:t.confirm,onChange:this.onInputChange,onBlur:this.onInputBlur,autoComplete:"off",ref:this.focusInputRef})]})]}),Object(b.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(b.jsx)(o.a,{className:"bs-mr-5 cancel-btn",variant:o.a.Variant.Outlined,onClick:this.onCloseHandler,children:"Cancel"}),Object(b.jsx)(o.a,{type:o.a.Type.Submit,variant:o.a.Variant.Primary,isLoading:c,disabled:c,className:"font-medium submit-btn",children:"Yes"})]})]})})}}var S=q},2107:function(e,t,s){"use strict";s.d(t,"c",(function(){return i})),s.d(t,"e",(function(){return o})),s.d(t,"d",(function(){return u})),s.d(t,"f",(function(){return l})),s.d(t,"b",(function(){return d})),s.d(t,"a",(function(){return h})),s.d(t,"h",(function(){return p})),s.d(t,"g",(function(){return b}));var n=s(41),a=s(134),c=s(9),r=s(540);const i=e=>{switch(e.toLowerCase()){case a.b.ASC.toLowerCase():return a.a.Asc;case a.b.DESC.toLowerCase():return a.a.Desc;default:return a.a.Asc}},o=e=>{let t=null;const s=Object(r.b)();if(s){t=JSON.parse(s).progress}if((!e||null===e)&&null!==t)return t;switch(null===e||void 0===e?void 0:e.toLowerCase()){case c.J.ALL.toLowerCase():return null;case c.J.ACTIVE.toLowerCase():return c.s.Active;case c.J.PAUSED.toLowerCase():return c.s.Pause;case c.J.DRAFT.toLowerCase():return c.s.Draft;default:return null}},u=e=>{switch(e){case a.a.Asc:return a.b.ASC;case a.a.Desc:return a.b.DESC;default:return a.b.ASC}},l=e=>{let t=null;const s=Object(r.b)();if(s){t=JSON.parse(s).progress}let n=e;switch(e&&null!==e||null===t||(n=Number(t)),n){case c.s.Active:return c.J.ACTIVE;case c.s.Pause:return c.J.PAUSED;case c.s.Draft:return c.J.DRAFT;case null:default:return c.J.ALL}},d=e=>{var t,s,a,c,r;let{search:i,page:o,limit:u,progress:l,owners:d,teamsAndUsersList:h,clients:p}=e,b=[];const q=""!==i||1!==o||u!==n.a.DEFAULT_PAGE_SIZE||null!==l,S=(null===d||void 0===d||null===(t=d.split(","))||void 0===t||null===(s=t.filter(Boolean))||void 0===s?void 0:s.map((e=>parseInt(e,10))))||[],j=(null===p||void 0===p||null===(a=p.split(","))||void 0===a||null===(c=a.filter(Boolean))||void 0===c?void 0:c.map((e=>parseInt(e,10))))||[];if((null===h||void 0===h?void 0:h.length)>0){const e=h.reduce(((e,t)=>(e.push(...t.users.map((e=>e.id))),e)),[])||[];b=(null===e||void 0===e?void 0:e.filter(((e,t,s)=>s.indexOf(e)===t)))||[]}const m=(null===S||void 0===S?void 0:S.length)>0&&(null===S||void 0===S?void 0:S.length)!==(null===(r=b)||void 0===r?void 0:r.length),g=(null===j||void 0===j?void 0:j.length)>0;return q||m||g},h=(e,t)=>{if((null===e||void 0===e?void 0:e.length)&&(null===t||void 0===t?void 0:t.length)){var s;const n=(null===e||void 0===e||null===(s=e.split(","))||void 0===s?void 0:s.map((e=>parseInt(e,10))))||[],a=null===t||void 0===t?void 0:t.reduce(((e,t)=>(e.push(...t.users.map((e=>e.id))),e)),[]);return n.filter((e=>a.includes(e)))}const n=Object(r.b)();if(n&&(null===t||void 0===t?void 0:t.length)){var a;const e=JSON.parse(n);if(null===e||void 0===e||null===(a=e.owners)||void 0===a?void 0:a.length){var c,i,o;const s=t.reduce(((e,t)=>(e.push(...t.users.map((e=>e.id))),e)),[]);return null===e||void 0===e||null===(c=e.owners)||void 0===c||null===(i=c.split(","))||void 0===i||null===(o=i.map((e=>Number(e))))||void 0===o?void 0:o.filter((e=>s.includes(e)))}}if(null===t||void 0===t?void 0:t.length){return t.reduce(((e,t)=>(e.push(...t.users.map((e=>e.id))),e)),[]).filter(((e,t,s)=>s.indexOf(e)===t))}return[]},p=e=>{switch(e){case c.y.Opened:return c.H.Opened;case c.y.Replied:return c.H.Replied;default:return e}},b=e=>{let t;switch(e){case c.H.Opened:t=c.y.Opened;break;case c.H.Replied:t=c.y.Replied;break;case c.y.Title:t=c.y.Title;break;case c.y.Status:t=c.y.Status;break;case c.y.Active:t=c.y.Active;break;case c.y.Finished:t=c.y.Finished;break;case c.y.Total:t=c.y.Total;break;case c.y.CreatedAt:t=c.y.CreatedAt;break;case c.y.SequenceScore:t=c.y.SequenceScore;break;case c.y.TotalSteps:t=c.y.TotalSteps}return t}},2142:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s(2),a=(s(1),s(2098)),c=s(0);var r=e=>Object(c.jsx)(a.a,Object(n.a)(Object(n.a)({},e),{},{content:"If you delete the sequence, you will permanently lose your sequence data."}))},2143:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));s(1);var n=s(4),a=s(21),c=s(19),r=s(18),i=s(0);var o=e=>{let{isSubsequence:t=!1}=e;return Object(i.jsxs)("div",{className:"sequence-filter-bar-skeleton skeleton-height-1",children:[Object(i.jsxs)("div",{className:"sequence-filter-bar-left",children:[Object(i.jsx)(n.l,{width:202,height:32}),Object(i.jsx)(n.l,{width:126,height:32}),!t&&Object(c.a)(r.a.CLIENT_READ)&&Object(a.J)()&&Object(i.jsx)(n.l,{width:126,height:32}),!t&&Object(i.jsx)(n.l,{width:124,height:32})]}),Object(i.jsx)("div",{children:Object(i.jsx)(n.l,{width:147,height:32})})]})}},2145:function(e,t,s){"use strict";s(1);var n=s(4),a=s(16),c=s(40),r=s(34),i=s(82),o=s(0);t.a=e=>{let{show:t,onClose:s,action:u,sequenceActionStats:l}=e;return Object(o.jsxs)(c.a,{show:t,onClose:s,className:"confirm-modal-width pause-resume-report-modal",hideHeader:!0,hideFooter:!0,backdrop:"static",extraModalProps:{centered:!0,"aria-labelledby":"contained-modal-title-vcenter"},children:[Object(o.jsxs)("div",{className:"pause-resume-report-modal--header",children:[Object(o.jsx)(r.a,{src:a.a.SentEmailBlue}),Object(o.jsx)("span",{children:"Action Stats"})]}),Object(o.jsxs)("div",{className:"pause-resume-report-modal--content",children:[Object(o.jsxs)("div",{className:"pause-resume-stat",children:[Object(o.jsx)("p",{children:"Sequences ".concat(u,"d successfully")}),Object(o.jsxs)("p",{children:[l.success,Object(o.jsx)(i.a,{identifier:"check-o",className:"green-txt-14"})]})]}),Object(o.jsxs)("div",{className:"pause-resume-stat",children:[Object(o.jsx)("p",{children:"Sequences failed to ".concat(u)}),Object(o.jsxs)("p",{children:[l.failed,Object(o.jsx)(i.a,{identifier:"danger",className:"gold-txt-6"})]})]})]}),Object(o.jsx)("div",{className:"pause-resume-report-modal--footer",children:Object(o.jsx)(n.d,{onClick:s,children:"Done"})})]})}},2192:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var n=s(2),a=(s(1),s(2142)),c=s(0);var r=e=>Object(c.jsx)(a.a,Object(n.a)(Object(n.a)({},e),{},{header:"Do you want to delete these sequences?"}))},2223:function(e,t,s){"use strict";s(1);var n=s(138),a=s(2152),c=s(0);t.a=e=>{let{subsequencesCount:t,sequenceName:s,onCreate:r,isLoading:i}=e;return Object(c.jsx)(n.a,{onClick:()=>{r(Object(a.a)(t,s))},variant:"primary",isLoading:i,disabled:i,loadingText:"Create Subsequence",children:"Create Subsequence"})}},2340:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return se}));var n=s(15),a=s(63),c=s(29),r=s(2),i=s(1),o=s.n(i),u=s(220),l=s.n(u),d=s(2076),h=s(2062),p=s(46),b=s.n(p),q=s(19),S=s(39),j=s(6),m=s(8),g=s(2107),O=s(5),v=s(16),f=s(790),C=s(17),y=s(42),R=s(21),x=s(0);var A=e=>{let{children:t}=e;const[s,n]=o.a.useState({url:"",title:""}),[a,c]=o.a.useState(!1);return Object(x.jsxs)("div",{className:"subsequence-empty-list-wrapper",children:[Object(x.jsxs)("div",{className:"subsequence-empty-list-container",children:[Object(x.jsxs)("div",{className:"header",children:[Object(x.jsx)("img",{src:v.a.EmailSubsequence,alt:"empty icon"}),Object(x.jsxs)("div",{className:"header__content",children:[Object(x.jsx)("h3",{children:"Smart follow-ups, made easy!"}),Object(x.jsx)("p",{children:"Target the right prospects based on opens, tags, outcomes or engagement\u2014then let the magic happen!"}),Object(R.P)()&&Object(x.jsxs)("div",Object(r.a)(Object(r.a)({className:"learn-more"},Object(C.a)((()=>{return e={url:y.a.subsequenceVideoURL,title:"Learn more about Subsequences"},n(e),void c(!0);var e}))),{},{children:["Learn More",Object(x.jsx)("span",{className:"icon-wrapper",children:Object(x.jsx)(O.oc,{})})]}))]})]}),Object(x.jsx)("div",{className:"steps",children:[{number:1,title:"Set a subsequence",description:"Create a follow-up sequence to re-engage prospects seamlessly."},{number:2,title:"Define your conditions",description:"Select when automation should trigger based on specific criteria."},{number:3,title:"Define your outreach",description:"Send targeted follow-ups at the right time, effortlessly."}].map((e=>Object(x.jsxs)("div",{className:"steps__item",children:[Object(x.jsx)("div",{className:"steps__item-number",children:e.number}),Object(x.jsx)("h4",{className:"steps__item-title",children:e.title}),Object(x.jsx)("p",{className:"steps__item-description",children:e.description})]},e.number)))}),Object(x.jsx)("div",{className:"action",children:t})]}),Object(x.jsx)(f.a,{show:a,onClose:()=>c(!1),url:s.url,title:s.title,scriptSrc:"https://fast.wistia.net/player.js"})]})},w=s(2223),E=s(20),P=s(97),D=s(78),N=s(41),M=s(9),L=s(113),I=s(3),U=s(134),k=s(100),B=s(2192),H=s(2145),T=s(103),F=s(2143),_=s(802);const G=o.a.lazy((()=>Object(T.a)((()=>s.e(30).then(s.bind(null,2344)))))),J=o.a.lazy((()=>Object(T.a)((()=>Promise.all([s.e(5),s.e(31)]).then(s.bind(null,2341))))));class Q extends o.a.Component{constructor(e){super(e),this.onUpdatePaginationAndGetSequences=()=>{const{location:e,getSubsequences:t}=this.props;t(this.setPaginationOptions(e))},this.onPaginationOptionsChangeHandler=e=>{const{page:t,limit:s}=this.state;this.setURLQueryParams(!0),this.setState({page:e.page||t,limit:e.limit||s},(()=>this.fetchData(e)))},this.onDeleteMultipleSequencesModalSubmit=()=>{const{selectedSequence:e,sendDeleteSequencesRequest:t}=this.props;t(e.map((e=>{let{id:t}=e;return t})))},this.showDeleteMultipleSequencesModal=()=>{this.setState({showDeleteMultipleSequencesModal:!0})},this.hideDeleteMultipleSequencesModal=()=>{this.setState({showDeleteMultipleSequencesModal:!1})},this.hideSequenceActionReportModal=()=>{this.setState({showSequenceActionReportModal:!1,sequenceAction:null})},this.state={showDeleteMultipleSequencesModal:!1,sortBy:M.y.CreatedAt,order:U.a.Desc,page:1,limit:N.a.DEFAULT_PAGE_SIZE,isURLQueryParams:!1,showSequenceActionReportModal:!1,sequenceAction:null},this.onSortHandler=this.onSortHandler.bind(this),this.onUpdatePaginationAndGetSequences=this.onUpdatePaginationAndGetSequences.bind(this),this.hideSequenceActionReportModal=this.hideSequenceActionReportModal.bind(this)}componentDidMount(){const{location:e,pagination:t}=this.props,s=l.a.parse(e.search),{sortBy:n,order:a,onboarding:c}=s;this.setState({sortBy:n?Object(g.g)(n):M.y.CreatedAt,order:a?Object(g.c)(a):U.a.Desc},(()=>{e.search&&!c||this.updateQueryParams(t.options)}))}componentDidUpdate(e){const{deleteSequencesRequestStatus:t,deleteSequencesRequestMessage:s,deleteSequencesRequestError:n,getSubsequences:a,pagination:c}=this.props,{isURLQueryParams:r}=this.state;(r||c.options!==e.pagination.options)&&(this.setURLQueryParams(!1),this.updateQueryParams(c.options)),Object(S.c)({status:t,prevStatus:e.deleteSequencesRequestStatus,onSuccess:()=>{m.d.success(s),this.hideDeleteMultipleSequencesModal(),a(c.options)},onFailed:()=>{Object(S.a)({error:n,onError:()=>{Object(k.a)(n.message)}})}})}componentWillUnmount(){const{resetSelectedSequences:e}=this.props;e()}onSortHandler(e,t){const s="asc"===t?1:-1;this.setState({sortBy:e,order:s,isURLQueryParams:!0},(()=>this.fetchData({})))}setURLQueryParams(e){this.setState({isURLQueryParams:e})}setPaginationOptions(e){const{teamsAndUsersList:t}=this.props,s=l.a.parse(e.search),{page:n,sortBy:a,order:c,status:r,search:i,owners:o,limit:u}=s;return{order:c?Object(g.c)(c):U.a.Desc,sortBy:a?Object(g.g)(a):M.y.CreatedAt,search:i||"",page:n?parseInt(n,10):1,progress:Object(g.e)(r),owners:Object(g.a)(o,t).join(","),limit:u?parseInt(u,10):N.a.DEFAULT_PAGE_SIZE}}fetchData(e){const{getSequencesRequestStatus:t,getSubsequences:s,pagination:{options:n}}=this.props;if(t!==I.a.Pending){const{page:t,limit:a,order:c,sortBy:i}=this.state;s(Object(r.a)(Object(r.a)(Object(r.a)({},n),e),{},{page:t,limit:a,order:c,sortBy:i}))}}updateQueryParams(e){const{location:t,history:s,sequenceId:n}=this.props,a=new URLSearchParams(t.search);Object.keys(e).forEach((t=>{switch(t){case M.j.PAGE:case M.j.LIMIT:a.set(t,e[t].toString());break;case M.j.SORT_BY:{const s=Object(g.h)(e[t]);a.set(t,s);break}case M.j.ORDER:{const s=Object(g.d)(e[t]);a.set(t,s);break}case M.j.PROGRESS:{const s=Object(g.f)(e[t]);a.set("status",s);break}case M.j.SEARCH:a.set(t,e[t])}})),s.push({pathname:"/sequence/".concat(n,"/subsequence"),search:a.toString()})}render(){const{pagination:e,isEmpty:t,getSubsequences:s,deleteSequencesRequestStatus:n,totalSubsequences:a,sequenceActionStats:c,sequenceId:r,sequenceName:i,createSubsequence:o}=this.props,{sortBy:u,order:l,showDeleteMultipleSequencesModal:d,sequenceAction:h,showSequenceActionReportModal:p}=this.state,b=n===I.a.Pending;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"subsequence-list-container",children:[Object(x.jsx)(L.a,{fallback:Object(x.jsx)(F.a,{isSubsequence:!0}),children:Object(x.jsx)(G,{progress:e.options.progress,sortBy:e.options.sortBy,order:e.options.order,search:e.options.search,page:e.options.page,onPaginationOptionsChange:this.onPaginationOptionsChangeHandler,isEmpty:t,sequenceId:r,sequenceName:i,createSubsequence:o})}),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(L.a,{fallback:Object(x.jsx)(_.a,{}),children:Object(x.jsx)(J,{getSubsequences:()=>s(e.options),paginationOptions:{page:e.options.page,limit:e.options.limit,totalElements:a},onPaginationOptionsChange:this.onPaginationOptionsChangeHandler,sort:{sortBy:u,order:l},onSort:this.onSortHandler})})})]}),d&&Object(x.jsx)(B.a,{show:d,onSubmit:this.onDeleteMultipleSequencesModalSubmit,onClose:this.hideDeleteMultipleSequencesModal,isRequestPending:b}),Object(x.jsx)(H.a,{show:p,action:h,sequenceActionStats:c,onClose:this.hideSequenceActionReportModal})]})}}var V=Q;const Z={sendDeleteSequencesRequest:e=>Object(E.v)({sequenceIds:e}),resetSelectedSequences:()=>Object(P.O)(),resetApplicationState:()=>Object(D.h)()},z=Object(n.connect)((e=>{var t;return{deleteSequencesRequestStatus:e.sequence.deleteSequencesRequest.status,deleteSequencesRequestMessage:e.sequence.deleteSequencesRequest.message,deleteSequencesRequestError:e.sequence.deleteSequencesRequest.error,getSequencesRequestStatus:e.sequence.getSequencesRequest.status,pagination:e.sequence.subsequencePagination,isEmpty:0===e.sequence.sequences.length,selectedSequence:e.sequence.selectedSequence,teamsAndUsersList:e.usersAndTeams.teamsAndUsersList,createSequenceRequestStatus:e.sequence.createSequenceRequest.status,totalSubsequences:e.sequence.totalSubsequences,selectedSequenceLength:e.sequence.totalSelectedSequences,hasSignUpCompleted:e.home.application.hasSignUpCompleted,planCode:null===(t=e.home.subscription)||void 0===t?void 0:t.planCode,sequences:e.sequence.sequences,profileProgress:e.home.profileProgress,sequenceActionStats:e.sequence.sequenceActionStats,getAgencyClientsDropdownRequestStatus:e.agencyClient.getAgencyClientsDropdownRequest.status,getAgencyClientsDropdownRequestMessage:e.agencyClient.getAgencyClientsDropdownRequest.message,getAgencyClientsDropdownRequestError:e.agencyClient.getAgencyClientsDropdownRequest.error}}),Z);var W=Object(c.j)(z(V)),Y=s(418),K=s(18);class X extends o.a.Component{constructor(e){super(e),this.state={isFilteredApplied:!1,showUpgradePlanErrorModal:!1,isSubsequenceCreatedHere:!1},this.constructPaginationOption=this.constructPaginationOption.bind(this),this.hideUpgradePlanErrorModal=this.hideUpgradePlanErrorModal.bind(this),this.handleOnCreateClick=this.handleOnCreateClick.bind(this),this.createSubsequence=this.createSubsequence.bind(this),this.getSubsequences=this.getSubsequences.bind(this)}componentDidMount(){this.getSubsequences(this.constructPaginationOption())}componentDidUpdate(e){const{getSubsequencesRequestStatus:t,sequenceId:s,showLoadingBar:n,hideLoadingBar:a,history:c,createSubsequenceRequestStatus:r,createSubsequenceRequestError:i,subsequenceId:o,getSequenceStatsCountRequest:u}=this.props,{isSubsequenceCreatedHere:l}=this.state;Object(S.c)({status:r,prevStatus:e.createSubsequenceRequestStatus,onSuccess:()=>{l&&(m.d.success("Subsequence created successfully"),u(s),c.push("/sequence/".concat(s,"/subsequence/").concat(o,"/conditions"))),this.setState({isSubsequenceCreatedHere:!1})},onFailed:()=>{Object(S.a)({error:i,onError:()=>{m.d.error(i.message)}}),this.setState({isSubsequenceCreatedHere:!1})}}),Object(S.c)({status:t,prevStatus:e.getSubsequencesRequestStatus,onPending:()=>{n()},onSuccess:()=>{a()},onFailed:()=>{a()}})}componentWillUnmount(){const{resetApplicationState:e,resetSequencesData:t}=this.props;e(),t()}getSubsequences(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{meta:t,sendGetSubsequencesRequest:s,sequenceId:n}=this.props;b()(t)&&s(Object(r.a)(Object(r.a)({},e),{},{sequenceId:n})),this.setState({isFilteredApplied:Object(g.b)({search:e.search,page:e.page,limit:e.limit,progress:e.progress,owners:"",teamsAndUsersList:"",clients:e.clients})})}constructPaginationOption(){const{location:e,paginationOptions:t}=this.props,s=l.a.parse(e.search),{page:n,sortBy:a,order:c,status:r,search:i}=s,o={order:c?Object(g.c)(c):t.order,sortBy:a?Object(g.g)(a):t.sortBy,search:i||t.search,page:n?parseInt(n,10):t.page,progress:Object(g.e)(r),limit:t.limit};return this.setState({isFilteredApplied:Object(g.b)({search:o.search,page:o.page,limit:o.limit,progress:o.progress,owners:"",teamsAndUsersList:"",clients:""})}),o}createSubsequence(e){const{sendCreateSubsequenceRequest:t,sequenceId:s}=this.props;Object(q.a)(K.a.SUBSEQUENCE_CREATE)&&(this.setState({isSubsequenceCreatedHere:!0}),t(e,s))}hideUpgradePlanErrorModal(){this.setState({showUpgradePlanErrorModal:!1})}handleOnCreateClick(e){this.createSubsequence(e)}render(){const{isEmpty:e,getSubsequencesRequestStatus:t,sequenceName:s,sequenceId:n,subsequencesCount:a,createSubsequenceRequestStatus:c}=this.props,{showUpgradePlanErrorModal:r,isFilteredApplied:i}=this.state,o=Object(j.G)(t);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(d.a,{className:"m-0 h-100",children:Object(x.jsx)(h.a,{className:"p-0 h-100",children:Object(x.jsx)("div",{className:"subsequence-components",children:!e||i||o?Object(x.jsx)(W,{getSubsequences:this.getSubsequences,sequenceId:n,sequenceName:s,createSubsequence:this.createSubsequence}):Object(x.jsx)(A,{children:Object(q.a)(K.a.SUBSEQUENCE_CREATE)?Object(x.jsx)(w.a,{subsequencesCount:a,sequenceName:s,onCreate:this.handleOnCreateClick,isLoading:Object(j.G)(c)}):Object(x.jsx)(x.Fragment,{})})})})}),Object(x.jsx)(Y.a,{show:r,onClose:this.hideUpgradePlanErrorModal,planName:"starter",restrictionOn:"subsequence"})]})}}var $=X;const ee={sendGetSequencesRequest:e=>Object(E.eb)(e),sendGetSequencesStatsRequest:e=>Object(E.fb)(e),sendCreateSequenceRequest:e=>Object(E.p)({title:e}),resetSubsequencePaginationOptions:()=>Object(P.ib)(),showLoadingBar:()=>Object(a.showLoading)(),hideLoadingBar:()=>Object(a.hideLoading)(),resetApplicationState:()=>Object(D.h)(),resetSequencesData:()=>Object(P.hb)(),setIsSequenceCreatedFromOnboarding:e=>Object(P.xb)(e),sendCreateSubsequenceRequest:(e,t)=>Object(E.q)({title:e,sequenceId:t}),sendGetSubsequencesRequest:e=>Object(E.nb)(e),getSequenceStatsCountRequest:e=>Object(E.ab)(e)},te=Object(n.connect)((e=>{var t,s,n,a;return{getSequencesStatsRequestStatus:e.sequence.getSequencesStatsRequest.status,getSequencesStatsRequestError:e.sequence.getSequencesStatsRequest.error,createSequenceRequestStatus:e.sequence.createSequenceRequest.status,createSequenceRequestError:e.sequence.createSequenceRequest.error,isEmpty:0===(null===(t=e.sequence.subsequences)||void 0===t?void 0:t.length),paginationOptions:e.sequence.subsequencePagination.options,meta:e.home.meta,subscriptionDetails:e.home.subscription,role:e.home.role,pageHeaderBannerMessage:e.pageHeader.message,ctaURL:e.pageHeader.CTAUrl,ctaText:e.pageHeader.CTAText,target:e.pageHeader.target,planCode:null===(s=e.home.subscription)||void 0===s?void 0:s.planCode,isStepsListEmpty:0===(null===(n=e.sequence.sequence)||void 0===n?void 0:n.steps.length),subSequences:e.sequence.sequence.subSequences,createSubsequenceRequestStatus:e.sequence.createSubsequenceRequest.status,createSubsequenceRequestMessage:e.sequence.createSubsequenceRequest.message,createSubsequenceRequestError:e.sequence.createSubsequenceRequest.error,subsequenceId:e.sequence.createdSubsequenceId,getSubsequencesRequestStatus:e.sequence.getSubsequencesRequest.status,subsequencesCount:(null===(a=e.sequence.sequenceStatsCounts)||void 0===a?void 0:a.subSequenceCount)||0}}),ee);var se=Object(c.j)(te($))}}]);
//# sourceMappingURL=subsequence.9b1fe174.chunk.js.map