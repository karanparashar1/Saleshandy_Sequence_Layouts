(this["webpackJsonpshv3-reactapp"]=this["webpackJsonpshv3-reactapp"]||[]).push([[26],{2086:function(e,t,s){"use strict";s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return c}));let n=function(e){return e.Auto="auto",e.Top="top",e.Bottom="bottom",e.Right="right",e.Left="left",e.AutoStart="auto-start",e.AutoEnd="auto-end",e.TopStart="top-start",e.TopEnd="top-end",e.BottomStart="bottom-start",e.BottomEnd="bottom-end",e.RightStart="right-start",e.RightEnd="right-end",e.LeftStart="left-start",e.LeftEnd="left-end",e}({}),c=function(e){return e.Click="click",e.Hover="hover",e.Focus="focus",e}({})},2097:function(e,t,s){"use strict";s.d(t,"b",(function(){return n.a})),s.d(t,"a",(function(){return g}));var n=s(2086),c=s(2),i=s(26),a=s(1),l=s(1039),o=s(41),r=s(340),u=s(0);const d=e=>{let{children:t,target:s,show:n,onHide:d}=e,b=Object(i.a)(e,["children","target","show","onHide"]);Object(a.useEffect)((()=>{n&&r.a.dispatch(o.a.MODAL_HANDLER,{isModalOpened:!0})}),[n]);return Object(a.useEffect)((()=>()=>{r.a.dispatch(o.a.MODAL_HANDLER,{isModalOpened:!1})}),[]),Object(u.jsx)(l.a,Object(c.a)(Object(c.a)({target:s,show:n,onHide:e=>{r.a.dispatch(o.a.MODAL_HANDLER,{isModalOpened:!1}),d&&d(e)},rootClose:!0},b),{},{children:t}))};var b=s(255),j=s(355);(e=>{let{id:t,placement:s,text:n,rePositionOnChange:l,className:o}=e,r=Object(i.a)(e,["id","placement","text","rePositionOnChange","className"]);const[m]=Object(a.useState)(t||Object(j.b)({prefix:"tooltip",variableLength:g}));var g;const O=Object(u.jsx)(b.b,{id:m,text:n,rePositionOnChange:l,className:o});return Object(u.jsx)(d,Object(c.a)(Object(c.a)({},r),{},{placement:s,children:O}))}).defaultProps={placement:n.a.Bottom};var m=s(11);const g=e=>{let{id:t,placement:s,header:n,content:l,rePositionOnChange:o,className:r,theme:b}=e,g=Object(i.a)(e,["id","placement","header","content","rePositionOnChange","className","theme"]);const[O]=Object(a.useState)(t||Object(j.b)({prefix:"popover",variableLength:h}));var h;const S=Object(u.jsx)(m.e,{id:O,header:n,content:l,rePositionOnChange:o,className:r,theme:b});return Object(u.jsx)(d,Object(c.a)(Object(c.a)({},g),{},{placement:s,children:S}))};g.defaultProps={placement:n.a.Right};(e=>{let{id:t,placement:s,content:n,footer:l,rePositionOnChange:o,className:r}=e,b=Object(i.a)(e,["id","placement","content","footer","rePositionOnChange","className"]);const[g]=Object(a.useState)(t||Object(j.b)({prefix:"popover-confirm",variableLength:O}));var O;const h=Object(u.jsx)(m.f,{id:g,content:n,footer:l,rePositionOnChange:o,className:r});return Object(u.jsx)(d,Object(c.a)(Object(c.a)({},b),{},{placement:s,children:h}))}).defaultProps={placement:n.a.Right}},2100:function(e,t,s){"use strict";s(1);var n=s(27),c=s(16),i=s(34),a=s(0);var l=()=>Object(a.jsx)(i.a,{src:c.a.Shield,alt:"sh-reply-disabled-icon/"}),o=s(40),r=s(815);t.a=e=>{let{show:t,onHide:s,onVerify:c,isRequestPending:i,isActionRequiredForEmailVerification:u,availableCredits:d,requiredCredits:b,title:j}=e;const{t:m}=Object(n.b)();return Object(a.jsx)(o.a,{show:t,className:"email-verification-modal",titleContent:Object(a.jsxs)("div",{className:"d-flex",children:[Object(a.jsx)(l,{}),Object(a.jsxs)("div",{className:"pl-2",children:[" ",m("messages.email_verification")]})]}),onClose:s,onSubmit:c,showCloseIcon:!0,submitButtonText:m(u?"labels.buy_now":"labels.verify_now"),isSubmitLoading:i,isSubmitDisabled:i,backdrop:"static",extraModalProps:{centered:!0},children:Object(a.jsx)("div",{className:"email-verification",children:Object(a.jsx)(r.a,{availableCredits:d,requiredCredits:b,title:j})})})}},2320:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return ls}));var n=s(2),c=s(29),i=s(15),a=s(1),l=s.n(a),o=s(27),r=s(17),u=s(0);var d=e=>{let{scrollIntoView:t,activeSidebarLabel:s="Email Account",isAgency:c=!1,isProspectEnrollmentEnabled:i=!1}=e;const l=[...c?[{label:"Associate Client",id:"associate-client"}]:[],{label:"Email Account",id:"email-accounts"},{label:"ESP Matching",id:"esp-matching"},{label:"Sending Schedule",id:"schedule-settings"},...i?[{label:"Prospect Enrollment",id:"enrollment-settings"}]:[],{label:"Safety Settings",id:"safety-settings"},{label:"Sending Priority",id:"sending_priority"},{label:"Deal Value",id:"average-deal-value-settings"},{label:"Email Verification",id:"email-verification"},{label:"Cc & Bcc",id:"cc-bcc-settings"},{label:"Unsubscribe",id:"unsubscribe"}],[o,d]=Object(a.useState)("Email Account");return Object(a.useEffect)((()=>{d(s)}),[s]),Object(u.jsx)("div",{className:"sequence-settings-sidebar",children:l.map((e=>{let{label:s,id:c}=e;return Object(u.jsx)("div",Object(n.a)(Object(n.a)({role:"button",className:"sequence-settings-sidebar__item ".concat(o===s&&"active")},Object(r.a)((()=>((e,s)=>{d(e),t(s)})(s,c)))),{},{children:Object(u.jsx)("span",{className:"regular-1 font-medium ".concat(o===s?"semibold-1 blue-txt-11":"gray-txt-15"),children:s})}),c)}))})},b=s(20),j=s(4),m=s(14),g=s.n(m),O=s(97),h=s(91),S=s(76),p=s(5),v=s(11),q=s(2115),x=s(792),f=s(6),R=s(481),E=s(777),C=s(41),N=s(293),y=s(19),_=s(18),A=s(21),L=s(350),T=s(2104),w=s(312);const P=[{key:"remove",icon:Object(u.jsx)(p.eb,{width:16,height:16}),displayName:"Remove email",position:"out"}],I=Object(y.a)(_.a.CLIENT_READ)&&Object(A.J)(),k=(e,t,s,c)=>[{dataField:"senderEmail",text:"Sender Email",cellClasses:"sequence-settings--email-address",component:(e,t)=>{return Object(u.jsxs)("div",{className:"d-flex flex-column",children:[Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)("span",{className:"regular-2 font-medium popover-arrow-color-txt mr-2",children:t.senderName}),Object(q.a)(t.emailType)]}),Object(u.jsxs)("div",{className:"d-flex align-items-center",children:[Object(u.jsx)("span",{className:"regular-1 gray-txt-15 mr-1",children:e}),Object(u.jsx)(v.c,{text:(s=t.status,s===L.b.Active?"Email account is connected":s===L.b.Pause?"Email account is paused":"Email account is disconnected"),children:Object(u.jsx)("div",{children:Object(u.jsx)(x.a,{variant:Object(T.a)(t.status)})})})]})]});var s},headerLoadingSkeleton:Object(u.jsx)(j.l,{width:84,height:14}),cellLoadingSkeleton:Object(u.jsxs)("div",{children:[Object(u.jsx)(j.l,{width:72,height:14}),Object(u.jsx)(j.l,{width:100,height:8})]})},{dataField:"tags",text:"Tags",headerAlign:"left",cellClasses:"tag-detail",component:e=>Object(u.jsx)(w.a,{tags:e}),headerLoadingSkeleton:Object(u.jsx)(j.l,{width:29,height:14}),cellLoadingSkeleton:Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)(j.l,{width:84,height:24}),Object(u.jsx)("div",{className:"ml-2",children:Object(u.jsx)(j.l,{width:64,height:24})})]})},Object(y.a)(_.a.EMAIL_ACCOUNT_SETTINGS_GENERAL_SETTING_UPDATE)&&{dataField:"isSignaturePresent",text:"Signature",align:"left",cellClasses:"sequence-settings--email-address",component:(e,t)=>Object(u.jsx)("span",Object(n.a)(Object(n.a)({className:"hover-underline blue-txt-11 regular-2 font-medium pointer"},Object(r.a)((()=>Object(f.ab)("/email-accounts/".concat(t.hashId,"/general-settings"))))),{},{children:e?"View":"Add"})),headerLoadingSkeleton:Object(u.jsx)(j.l,{width:84,height:14}),cellLoadingSkeleton:Object(u.jsxs)("div",{children:[Object(u.jsx)(j.l,{width:72,height:14}),Object(u.jsx)(j.l,{width:100,height:8})]})},{dataField:"activeSequence",text:"Active Sequence",cellClasses:"sequence-settings--email-address",component:e=>Object(u.jsx)("span",{children:e}),headerLoadingSkeleton:Object(u.jsx)(j.l,{width:84,height:14}),cellLoadingSkeleton:Object(u.jsxs)("div",{children:[Object(u.jsx)(j.l,{width:72,height:14}),Object(u.jsx)(j.l,{width:100,height:8})]})},(Object(y.a)(_.a.EMAIL_ACCOUNT_SETTINGS_SENDING_SETTING_UPDATE)||"client-full-access"===c||"client-restricted-access"===c)&&{dataField:"dailyLimit",text:"Daily Limit",cellClasses:"sequence-settings--email-limit",component:(e,t)=>{return Object(u.jsx)(v.c,{text:(s=t.totalDailyLimit,i=t.totalDailyLimit-t.availableQuota,a=t.availableQuota,"Daily sending limit: ".concat(s,"\nUsed today: ").concat(i,"\nRemaining: ").concat(a)),className:"line-break",children:Object(u.jsx)("span",Object(n.a)(Object(n.a)({className:"hover-underline blue-txt-11 regular-2 font-medium pointer"},"client-restricted-access"!==c&&"client-full-access"!==c?Object(r.a)((()=>Object(f.ab)("/email-accounts/".concat(t.hashId,"/sending-settings")))):{}),{},{children:"".concat(t.availableQuota,"/").concat(t.totalDailyLimit)}))});var s,i,a},headerLoadingSkeleton:Object(u.jsx)(j.l,{width:84,height:14}),cellLoadingSkeleton:Object(u.jsxs)("div",{children:[Object(u.jsx)(j.l,{width:72,height:14}),Object(u.jsx)(j.l,{width:100,height:8})]})},Object(y.a)(_.a.EMAIL_ACCOUNT_SETTINGS_SETUP_SCORE)&&{dataField:"emailHealthScore",text:"Setup Score",cellClasses:"sequence-settings--email-address",component:(e,s)=>(Object(R.k)(e),Object(u.jsx)("span",Object(n.a)(Object(n.a)({className:"hover-underline blue-txt-11 regular-2 font-medium pointer"},Object(r.a)((()=>Object(f.ab)("/email-accounts/".concat(s.hashId,"/").concat(E.a.EMAIL_SETUP_SCORE))))),{},{children:e&&e>10?"".concat(e,"/").concat(C.a.EMAIL_ACCOUNT_SETUP_SCORE_LIMIT):t("labels.check_new_score")}))),headerLoadingSkeleton:Object(u.jsx)(j.l,{width:84,height:14}),cellLoadingSkeleton:Object(u.jsxs)("div",{children:[Object(u.jsx)(j.l,{width:72,height:14}),Object(u.jsx)(j.l,{width:100,height:8})]})},...I?[{dataField:"client",text:"Client Associated",headerAlign:"start",cellClasses:"sequence-email-account-client-associated",headerStyle:()=>({minWidth:"10.5rem",width:"10.5rem"}),component:e=>{if(e){const{firstName:t,companyName:s,email:n}=e;return t&&s&&n?Object(u.jsx)("div",{className:"sequence-client-associated-name",children:Object(u.jsx)(v.c,{text:Object(N.b)(e,60,{email:!0,deleted:!0}),placement:v.d.BottomStart,className:"sequence-email-account-client-associated-tooltip",children:Object(u.jsx)("p",{children:Object(N.b)(e,23,{company:!0})})})}):"-"}return"-"},headerLoadingSkeleton:Object(u.jsx)(j.l,{width:68,height:14}),cellLoadingSkeleton:Object(u.jsx)(j.l,{width:76,height:14})}]:[],{dataField:"owner",text:"Owner",cellClasses:"sequence-settings--owner",component:e=>{const t=null===e||void 0===e?void 0:e.split(" ")[0],s=null===e||void 0===e?void 0:e.split(" ")[1];return Object(u.jsx)(v.c,{text:e,children:Object(u.jsx)(j.c,{firstName:t,lastName:s,className:"pointer"})})},headerLoadingSkeleton:Object(u.jsx)(j.l,{width:84,height:14}),cellLoadingSkeleton:Object(u.jsxs)("div",{children:[Object(u.jsx)(j.l,{width:72,height:14}),Object(u.jsx)(j.l,{width:100,height:8})]})},!s&&{dataField:"action",text:"",cellClasses:"sequence-settings--action",component:(t,s)=>P.map((t=>{let{displayName:c,icon:i,key:a}=t;return Object(u.jsx)(v.c,{text:c,children:Object(u.jsx)("div",Object(n.a)(Object(n.a)({className:"gray-txt-15 regular-3 pointer"},Object(r.a)((()=>e(a,s)))),{},{children:i}))},a)})),headerLoadingSkeleton:Object(u.jsx)(j.l,{width:84,height:14}),cellLoadingSkeleton:Object(u.jsxs)("div",{children:[Object(u.jsx)(j.l,{width:72,height:14}),Object(u.jsx)(j.l,{width:100,height:8})]})}].filter((e=>e));var M=s(2237),U=s(240),D=s(39),V=s(8);var G=e=>{let{sequenceId:t,linkedEmailAccounts:s,getLinkedEmailAccountsRequestStatus:c,removeConnectedEmailAccountRequestStatus:i,removeConnectedEMailAccountRequestMessage:l,sendGetLinkedEmailAccounts:d,sendRemoveConnectedEmailAccountRequest:b,sendGetSequenceRequest:j,hasMoreLinkedEmailAccounts:m,linkEmailAccountsRequestStatus:g,resetRemoveEmailAccountState:O,resetLinkEmailAccountsState:p,onSeeMore:v,disabled:q,atmRole:x}=e;const{t:f}=Object(o.b)(),[R,E]=Object(a.useState)([]),[C,N]=Object(a.useState)(1),[y,_]=Object(a.useState)(!1),[A,L]=Object(a.useState)(null),[T,w]=Object(a.useState)(!1),P=()=>w(!1);return Object(a.useEffect)((()=>{Object(D.b)({status:c,onSuccess:()=>{const e=[...R,...s].reduce(((e,t)=>(e.some((e=>e.id===t.id))||e.push(t),e)),[]);let t=s.length;E(1===C?s:e),m||_(!1),1===C&&s.length>3&&s.length<=10&&(t=3,E(s.slice(0,3)),_(!0)),v(1===C?t:e.length)}})}),[c]),Object(a.useEffect)((()=>{Object(D.b)({status:g,onSuccess:()=>{N(1),d(t,1),p()}})}),[g]),Object(a.useEffect)((()=>{Object(D.b)({status:i,onSuccess:()=>{N(1),d(t,1),j(Number(t)),P(),V.d.success(l,{theme:V.a.New}),O()},onFailed:()=>{N(1),P(),V.d.error(l,{theme:V.a.New}),O()}})}),[i]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"mt-4",children:[Object(u.jsx)(h.a,{data:R,columns:k(((e,s)=>{if("remove"===e){if(s.isAnySequenceMailSent)return L(s.id),void w(!0);b(t,s.id)}}),f,q,x),paginationOptions:{options:{totalElements:null===R||void 0===R?void 0:R.length}},onPaginationOptionsChange:()=>console.log("paginationChange"),headerVisibleForGenerateColumn:!0,pagination:S.b.HIDE,tableWrapperClasses:"sequence-email-account-table-list",bodyWrapperClasses:"sequence-email-account-table-body",isLoading:Object(U.c)(c)}),(y||m)&&!Object(U.c)(c)&&Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-end pagination-btn",children:Object(u.jsx)("span",Object(n.a)(Object(n.a)({className:"regular-2 font-medium blue-txt-11 pointer pb-2"},Object(r.a)((()=>{m||_(!1),1===C&&E(s),R.length>=10&&y&&(N((e=>e+1)),d(t,C+1))}))),{},{children:"See more email accounts"}))})]}),Object(u.jsx)(M.a,{show:T,isRequestPending:Object(U.c)(i),onSubmit:()=>{b(t,A)},onClose:P})]})};const B={sendGetLinkedEmailAccounts:(e,t)=>Object(b.I)({sequenceId:e,pageNum:t}),sendRemoveConnectedEmailAccountRequest:(e,t)=>Object(b.ub)({sequenceId:e,emailAccountId:t}),sendGetSequenceRequest:e=>Object(b.Y)(e),resetRemoveEmailAccountState:()=>Object(O.I)(),resetLinkEmailAccountsState:()=>Object(O.B)()},F=Object(i.connect)((e=>{var t,s,n;return{removeConnectedEmailAccountRequestStatus:e.sequence.removeConnectedEMailAccountRequest.status,removeConnectedEMailAccountRequestMessage:e.sequence.removeConnectedEMailAccountRequest.message,getLinkedEmailAccountsRequestStatus:e.sequence.getLinkedEmailAccountsRequest.status,linkedEmailAccounts:(null===(t=e.sequence.getLinkedEmailAccountsResponse)||void 0===t?void 0:t.responseWithActiveSequences)||[],hasMoreLinkedEmailAccounts:null===(s=e.sequence.getLinkedEmailAccountsResponse)||void 0===s?void 0:s.hasMore,linkEmailAccountsRequestStatus:e.sequence.linkEmailToSequenceRequest.status,atmRole:null===(n=e.home)||void 0===n?void 0:n.atmRole}}),B);var Y=Object(c.j)(F(G)),K=s(60),H=s.n(K);var J=e=>{let{identifier:t,label:s,value:c="",emails:i,onEmailRemove:l,onEmailValueChange:o,onAction:d,isEmailError:b,errorMessage:m,disabled:O}=e;const h=Object(a.useRef)(null),S=i.length>5,p=g()(["cc-bcc-email-input--container",{error:S||b,disabled:O}]);return Object(u.jsxs)("div",{className:"cc-bcc-email-input--wrapper",children:[Object(u.jsx)("p",{className:"cc-bcc-label",children:s}),Object(u.jsx)("div",Object(n.a)(Object(n.a)({className:p},Object(r.a)((()=>{(null===h||void 0===h?void 0:h.current)&&h.current.focus()}))),{},{children:Object(u.jsxs)("div",{className:"cc-bcc-email-input--pills",children:[null===i||void 0===i?void 0:i.map((e=>e&&Object(u.jsx)(j.i,{theme:"outline",size:"md",label:e,showCloseIcon:!O,onClose:()=>l(t,e)},e))),((null===i||void 0===i?void 0:i.length)<5||5===(null===i||void 0===i?void 0:i.length)&&c)&&Object(u.jsx)("input",{className:"cc-bcc-email-input--input",value:c,placeholder:"Enter Email, comma separated",onChange:e=>{var s;return o(t,null===e||void 0===e||null===(s=e.target)||void 0===s?void 0:s.value)},ref:h,onKeyPress:e=>{O||d(t,e.key)},onPaste:e=>{if(!O){d(t,"Paste");const s=e.clipboardData.getData("text/plain");o(t,c+s)}},onBlur:()=>{O||d(t,"Blur")},disabled:O})]})})),Object(u.jsxs)("div",{className:"cc-bcc-email-input--helper-wrapper",children:[Object(u.jsxs)("span",{className:"cc-bcc-email-input--error-msg",children:[S&&"You can add maximum 5 email addresses",!S&&b&&m]}),Object(u.jsxs)("span",{className:"cc-bcc-email-input--count",children:[i.length,"/5"]})]})]})},X=s(9),Q=s(42);var W=e=>{var t,s;let{sequenceId:c,settings:i,sendUpdateSequenceSettingsRequest:l,updateSequenceSettingsRequestStatus:o,resetSequenceSettingUpdateRequestStatus:r,disabled:d,onSaveRef:b,sendGetSequenceRequest:m,updateSequenceSettingsRequestMessage:g,getSequenceConfig:O,updateSequenceSettingsRequesError:h}=e;const S=Object(a.useRef)(!1),[p,v]=Object(a.useState)(!1),q=null===i||void 0===i||null===(t=i.find((e=>e.code===X.x.CC)))||void 0===t?void 0:t.value,x=null===i||void 0===i||null===(s=i.find((e=>e.code===X.x.BCC)))||void 0===s?void 0:s.value,[R,E]=Object(a.useState)({cc:(null===q||void 0===q?void 0:q.length)?JSON.parse(q):[],bcc:(null===x||void 0===x?void 0:x.length)?JSON.parse(x):[]}),[C,N]=Object(a.useState)({cc:"",bcc:""}),[y,_]=Object(a.useState)({cc:!1,bcc:!1}),[L,T]=Object(a.useState)({cc:"",bcc:""}),[w,P]=Object(a.useState)({event:"",key:""}),I=(e,t)=>{","!==t&&" "!==t&&N(Object(n.a)(Object(n.a)({},C),{},{[e]:t})),S.current||(S.current=!0),""===t&&_(Object(n.a)(Object(n.a)({},y),{},{[e]:!1}))},k=e=>{const t=C[e].replaceAll(","," ").split(" ").filter((e=>e.trim())),s=[];let c="",i=!1,a="";t.forEach(((n,l)=>{const o=H.a.isEmail(n),r=R[e].includes(n)||s.includes(n);o&&!r?s.push(n):c=l===t.length-1?c.concat("".concat(n)):c.concat("".concat(n,", ")),a||o?!a&&r&&(a="Duplicate email address(es)"):a="Invalid email address(es)",i=i||!!c})),_(Object(n.a)(Object(n.a)({},y),{},{[e]:i})),T(Object(n.a)(Object(n.a)({},L),{},{[e]:a})),N(Object(n.a)(Object(n.a)({},C),{},{[e]:c})),E(Object(n.a)(Object(n.a)({},R),{},{[e]:[...R[e],...s]}))},M=(e,t)=>{","!==t&&" "!==t&&"Enter"!==t&&"Blur"!==t||k(e),"Paste"===t&&P({event:"Paste",key:e})},U=(e,t)=>{E(Object(n.a)(Object(n.a)({},R),{},{[e]:R[e].filter((e=>e!==t))})),S.current||(S.current=!0)};return Object(a.useEffect)((()=>{"Paste"===w.event&&(C.cc||C.bcc)&&(k(w.key),P({event:"",key:""}))}),[w,C.cc,C.bcc]),Object(a.useEffect)((()=>{"SequenceCcBccSettings"===b.current&&Object(f.p)({status:o,onSuccess:()=>{v(!1),S.current=!1,m(parseInt(c,10)),O(),V.d.success(g,{theme:V.a.New}),r(),b.current=""},onFailed:()=>{v(!1),S.current=!1,Object(f.o)({error:h,onError:()=>{V.d.error(g,{theme:V.a.New})}}),r(),b.current=""}})}),[o]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"card",children:Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsxs)("div",{className:"d-flex flex-column",children:[Object(u.jsx)("span",{className:"sequence-setting-title",children:"Add Cc & Bcc Email"}),Object(u.jsxs)("span",{className:"sequence-setting-description",children:["Send all sequence emails with Cc & Bcc Recipients."," ",Object(A.P)()&&Object(u.jsx)("a",{href:Q.a.ccBccBlog,target:"_blank",rel:"noreferrer",children:"Learn more"})]})]}),Object(u.jsxs)("div",{className:"mt-4 d-flex flex-wrap cs-gap-4",children:[Object(u.jsx)(J,{identifier:"cc",label:"Cc",emails:R.cc,value:C.cc,onEmailRemove:U,onEmailValueChange:I,onAction:M,isEmailError:y.cc,errorMessage:L.cc,disabled:d}),Object(u.jsx)(J,{identifier:"bcc",label:"Bcc",emails:R.bcc,value:C.bcc,onEmailRemove:U,onEmailValueChange:I,onAction:M,isEmailError:y.bcc,errorMessage:L.bcc,disabled:d})]}),Object(u.jsx)(j.d,{loadingText:"Saving...",isLoading:p,disabled:p||!S.current||y.cc||y.bcc||R.cc.length>5||R.bcc.length>5||d,onClick:()=>{v(!0),b.current="SequenceCcBccSettings",l(c,{settings:[{code:X.x.CC,value:JSON.stringify(R.cc)},{code:X.x.BCC,value:JSON.stringify(R.bcc)}]})},children:"Save"})]})})})};const z={sendUpdateSequenceSettingsRequest:(e,t)=>Object(b.Jb)(Object(n.a)({sequenceId:e},t)),resetSequenceConfigRequestStatus:()=>Object(O.Q)(),resetSequenceSettingUpdateRequestStatus:()=>Object(O.bb)(),sendGetSequenceRequest:e=>Object(b.Y)(e)},Z=Object(i.connect)((e=>{var t;return{settings:null===(t=e.sequence.sequenceConfig)||void 0===t?void 0:t.settings,getSequenceConfigRequestStatus:e.sequence.getSequenceConfigRequest.status,updateSequenceSettingsRequestStatus:e.sequence.updateSequenceSettingsRequest.status,updateSequenceSettingsRequestMessage:e.sequence.updateSequenceSettingsRequest.message,updateSequenceSettingsRequesError:e.sequence.updateSequenceSettingsRequest.error}}),z);var $=Object(c.j)(Z(W)),ee=s(81),te=s(285),se=s(2097);var ne=e=>{let{sequenceId:t,schedules:s,defaultSequenceScheduleId:c,sendUpdateSequenceSettingsRequest:i,disabled:l,onSaveRef:o,updateSequenceSettingsRequestStatus:r,updateSequenceSettingsRequestMessage:d,updateSequenceSettingsRequesError:b,resetSequenceSettingUpdateRequestStatus:j,sendGetSequenceRequest:m,getSequenceConfig:g}=e;const O=s.map((e=>Object(n.a)(Object(n.a)({},e),{},{key:e.id}))).find((e=>c&&e.id===c)),[h,S]=Object(a.useState)(O||null),v=s.map((e=>Object(n.a)(Object(n.a)({},e),{},{key:e.id}))),q=e=>{S(e),(e=>{const s={settings:[]};s.scheduleId=e.id,o.current="SequenceScheduleSettings",i(t,s)})(e)},x=e=>e.toString().length<2?"0".concat(e.toString()):"".concat(e.toString());return Object(a.useEffect)((()=>{"SequenceScheduleSettings"===o.current&&Object(f.p)({status:r,onSuccess:async()=>{m(parseInt(t,10)),g(),V.d.success(d,{theme:V.a.New}),j(),o.current=""},onFailed:()=>{Object(f.o)({error:b,onError:()=>{V.d.error(d,{theme:V.a.New})}}),j(),o.current=""}})}),[r]),Object(u.jsx)("div",{className:"card",children:Object(u.jsxs)("div",{className:"card-body d-flex justify-content-between",children:[Object(u.jsxs)("div",{className:"d-flex flex-column",children:[Object(u.jsx)("span",{className:"sequence-setting-title",children:"Sending Schedule"}),Object(u.jsx)("span",{className:"sequence-setting-description",children:"Choose the schedule for sending emails from this sequence."})]}),Object(u.jsxs)("div",{className:"d-flex align-items-center",children:[Object(u.jsx)(ee.a,{options:v,selectedOptionKey:null===h||void 0===h?void 0:h.key,optionRenderer:e=>Object(u.jsx)("span",{children:null===e||void 0===e?void 0:e.name}),showOptionsSeparator:!0,selectedOptionRenderer:e=>{let[t]=e;return Object(u.jsx)("span",{children:null===t||void 0===t?void 0:t.name})},onChange:e=>{let[t]=e;return q(t)},className:"schedule-select",placeholder:"Select Schedule ",disabled:l}),Object(u.jsx)(te.a,{rootClose:!0,text:(()=>{const e=[];return s.forEach((t=>{if(t.id===(null===h||void 0===h?void 0:h.id)){JSON.parse(t.timeSlots).forEach((t=>{const s=[];t.slots.length>0&&(t.slots.forEach((e=>{s.push(Object(u.jsx)("span",{children:"".concat(x(e.start.hour.toString()),":").concat(x(e.start.minute.toString())," - ").concat(x(e.end.hour.toString()),":").concat(x(e.end.minute.toString())," ")}))})),e.push(Object(u.jsxs)("div",{className:"schedule-day",children:[Object(u.jsx)("p",{children:f.m[t.day]}),Object(u.jsx)("p",{}),Object(u.jsx)("p",{children:s})]})))}));const s=Object(f.K)(t.timezone).split("("),n="(".concat(s[1]," ").concat(s[0]);e.unshift(Object(u.jsx)("div",{className:"schedule-timezone font-semibold",children:n}))}})),e})(),className:"tooltip-schedule tooltip-lg",placement:se.b.Left,children:Object(u.jsx)("div",{className:"info-icon ml-1","aria-describedby":"tooltip-i09oB4y2M",children:Object(u.jsx)(p.Mb,{className:"info-circle-schedule"})})})]})]})})};const ce={sendUpdateSequenceSettingsRequest:(e,t)=>Object(b.Jb)(Object(n.a)({sequenceId:e},t)),resetSequenceSettingUpdateRequestStatus:()=>Object(O.bb)(),sendGetSequenceRequest:e=>Object(b.Y)(e)},ie=Object(i.connect)((e=>{var t,s;return{schedules:e.sequence.schedules,defaultSequenceScheduleId:null===(t=e.sequence.sequenceConfig)||void 0===t||null===(s=t.schedule)||void 0===s?void 0:s.id,updateSequenceSettingsRequestStatus:e.sequence.updateSequenceSettingsRequest.status,updateSequenceSettingsRequestMessage:e.sequence.updateSequenceSettingsRequest.message,updateSequenceSettingsRequesError:e.sequence.updateSequenceSettingsRequest.error}}),ce);var ae=Object(c.j)(ie(ne)),le=s(67),oe=s(22),re=s(172),ue=s(341),de=s(257),be=s(542),je=s(528),me=s(16),ge=s(2100),Oe=s(531),he=s(2105),Se=s(354),pe=s(34);var ve=e=>{let{show:t,onClose:s,onSubmit:n,hasCustomDomain:c=!1,isRequestPending:i}=e;const{t:a}=Object(o.b)();return Object(u.jsx)(Se.a,{show:t,onClose:s,onHide:s,onSubmit:n,className:"link-track-nudge-user-modal",titleContent:Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)(pe.a,{src:me.a.InfoCircleYellow}),Object(u.jsxs)("div",{className:"ml-2",children:[" ",a("messages.do_you_want_to_send_emails_to_risky_prospects")]})]}),submitButtonText:a("labels.yes"),cancelButtonText:a("labels.no"),showCloseIcon:!0,isSubmitLoading:i,isSubmitDisabled:i,children:Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"mt-3",children:Object(u.jsx)("p",{children:a("messages.risky_prospect_model_title_1")})})})})})},qe=s(2146),xe=s(625),fe=s(95),Re=s(96),Ee=s(145);var Ce=e=>{var t;let{sequenceId:s,agencyConfig:n,settings:i,getSequenceConfigRequestStatus:l,resetSequenceConfigRequestStatus:r,sendUpdateSequenceSettingsRequest:d,resetSequenceSettingUpdateRequestStatus:b,updateSequenceSettingsRequestMessage:m,updateSequenceSettingsRequestStatus:O,title:h,sendSequenceProspectVerifyStartRequestStatus:S,sendPurchaseEmailVerificationCreditsRequestStatus:p,getPurchaseEmailVerificationCreditsResponse:v,sendPurchaseEmailVerificationCreditsRequestMessage:q,sendSequenceProspectVerifyStartRequestMessage:x,sendGetSequenceProspectVerificationStatsResponse:f,sendGetSequenceProspectVerificationStartResponse:R,getEmailVerificationCreditsResponse:E,verifyProspectManuallyRequestStatus:C,getEmailVerificationPlanResponse:N,sendGetEmailVerificationCreditsRequest:L,sendSequenceProspectVerifyStartRequest:T,sendPurchaseEmailVerificationCreditsRequest:w,resetPurchaseEmailVerificationCreditsResponse:P,currentPlanName:I,disabled:k,getEmailVerificationCreditsRequestStatus:M,updateSequenceSettingsRequestError:G,onSaveRef:B,getSequenceConfig:F,sendGetSequenceRequest:Y}=e;const{t:K}=Object(o.b)(),H=Object(c.g)(),J=Object(a.useRef)(!1),W="1"===(null===i||void 0===i||null===(t=i.find((e=>(null===e||void 0===e?void 0:e.code)===X.x.TRACK_RISKY_PROSPECTS)))||void 0===t?void 0:t.value)||!1,[z,Z]=Object(a.useState)(!1),[$,ee]=Object(a.useState)(!1),[te,se]=Object(a.useState)(!1),[ne,ce]=Object(a.useState)(!1),[ie,ae]=Object(a.useState)(),[le,oe]=Object(a.useState)(W),[Se,pe]=Object(a.useState)(!1),Ce=()=>ee(!0),Ne=()=>ee(!1),ye=()=>se(!1),_e=()=>+(null===f||void 0===f?void 0:f.verifiableProspect)>(null===E||void 0===E?void 0:E.creditsAvailable);Object(a.useEffect)((()=>{const e=new URLSearchParams(H.location.search);"true"===e.get("verifyProspects")&&f&&+f.verifiableProspect>0&&(Ce(),e.delete("verifyProspects"),H.push({search:e.toString()}))}),[f]),Object(a.useEffect)((()=>{Object(D.b)({status:l,onSuccess:()=>{var e;const t="1"===(null===i||void 0===i||null===(e=i.find((e=>(null===e||void 0===e?void 0:e.code)===X.x.TRACK_RISKY_PROSPECTS)))||void 0===e?void 0:e.value)||!1;oe(t),r()}})}),[l]),Object(a.useEffect)((()=>{Object(D.b)({status:M,onSuccess:()=>{J.current&&(Ce(),J.current=!1)}})}),[M]);const Ae=()=>{pe(!1)},[Le,Te]=Object(a.useState)(!1);Object(a.useEffect)((()=>{"SequenceProspectVerificationSettings"===B.current&&Object(D.b)({status:O,onSuccess:async()=>{await Object(xe.a)(1e3),Te(!1),V.d.success(m,{theme:V.a.New}),b(),Ae(),Y(parseInt(s,10)),F(),B.current=""},onFailed:async()=>{await Object(xe.a)(1e3),Te(!1),Ae(),Object(D.a)({error:G,onError:()=>{V.d.error(m,{theme:V.a.New})}}),b(),B.current=""}})}),[O]),Object(a.useEffect)((()=>{Object(D.b)({status:S,onSuccess:()=>{ue.b.success({content:K("messages.verification_started_content"),header:K("messages.verification_started"),delay:3e3})},onFailed:()=>{V.d.warning(x)}}),Ne()}),[S]),Object(a.useEffect)((()=>{Object(D.b)({status:p,onSuccess:()=>{v.requires_action?(async e=>{ce(!0);const{isError:t,serverResponse:s}=await Object(de.a)({response:e,apiEndPoint:"/email-verification-credits/confirm-payment-intent"});t?V.d.error(K("messages.ev_credits_payment_failed_message")):(L(),V.d.success(s.payload.message),ye(),Ce(),P()),ce(!1)})(v):(V.d.success(q),ye(),P(),Ce()),L()},onFailed:()=>{V.d.error(q),P()}})}),[p]),Object(a.useEffect)((()=>{Object(D.b)({status:p,onSuccess:()=>{v.requires_action||Ce()}})}),[p]);const we=Object(U.c)(S)||(null===f||void 0===f?void 0:f.isPending)||(null===R||void 0===R?void 0:R.hasVerificationStarted),Pe=g()(["verify-button",{"verify-button-pending":we}]),Ie=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=t?"1":"0",c=[];c.push({code:e,value:n});const i={settings:c};B.current="SequenceProspectVerificationSettings",d(s,i)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"card",children:Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("div",{children:Object(u.jsx)("span",{className:"sequence-setting-title",children:"Email Verification Settings"})}),f&&Object(u.jsxs)("div",{className:"d-flex align-items-center sequence-setting-verify-status style={{ color: '#1f2937' }}",children:[Object(u.jsx)("span",{className:"email-verification-span",children:(()=>{const{verifiableProspect:e,totalProspect:t}=f;if(0===Number(t))return K("messages.no_prospect_found_in_sequence");switch(Number(e)){case 0:return"All Prospects are verified.";case 1:return"1 Prospect is not verified.";default:return"".concat(e," Prospects are not verified.")}})()}),+f.verifiableProspect>0&&Object(fe.a)(Re.a.SEQUENCES_VERIFY_PROSPECTS)&&Object(u.jsx)(j.d,{variant:"secondary",onClick:()=>{(null===E||void 0===E?void 0:E.creditsAvailable)?Ce():(L(),J.current=!0)},className:Pe,isLoading:Object(U.c)(M),loadingText:"Verify Now",disabled:!Object(y.a)(_.a.SEQUENCE_SETTING_EV_SETTING_UPDATE),children:(e=>K(e?"labels.verifying":"labels.verify_now"))(we)})]}),+(null===f||void 0===f?void 0:f.verifiableProspect)>0&&Object(u.jsx)(be.a,{variant:(e=>e?je.a.Primary:je.a.Warning)(we),Icon:(e=>e?Object(u.jsx)("img",{src:me.a.AlertCircleBlue,alt:"alert"}):Object(u.jsx)("img",{src:me.a.AlertCircleRed,alt:"alert"}))(we),className:"sequence-setting-verify-status__banner",children:Object(u.jsx)("div",{className:"banner-message-wrap",children:(e=>Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{className:"alert-message-text",children:e?K("messages.verify_status_pending_banner_message").toString():K("messages.verify_status_banner_message").toString()}),(null===n||void 0===n?void 0:n.showFAQ)&&!e&&Object(A.P)()&&Object(u.jsxs)("span",{className:"anchor-link-text",children:[Object(u.jsxs)("a",{href:Q.a.evCreditsFAQPage,target:"_blank",rel:"noreferrer",className:"mr-1",children:[" ",K("labels.click_here")]}),"to know more."]})]}))(we)})}),Object(u.jsx)("div",{className:"mt-4",children:(e=>{let{checked:t,onChange:s,label:n}=e;return Object(u.jsx)(he.a,{checked:t,onChange:e=>s(e),label:n,size:re.a.Small,className:"sequence-settings-switch sequence-setting-tab-switch",disabled:Le||k})})({checked:le,onChange:e=>(e=>{e?pe(!0):(Te(!0),Ie(X.x.TRACK_RISKY_PROSPECTS,e))})(e),label:(ke="Send emails to risky prospects.",Me=qe.c,Object(u.jsxs)(u.Fragment,{children:[ke," ",Object(A.P)()&&Object(u.jsx)("a",{href:Me,target:"_blank",rel:"noopener noreferrer",className:"link-2",onClick:e=>e.stopPropagation(),children:"Learn more"})]}))})})]})}),(e=>{let{onSubmit:t,onClose:s,isUpdateSequenceSettingsRequestPending:n}=e;return Se&&Object(u.jsx)(ve,{show:Se,onSubmit:t,onClose:s,isRequestPending:n||Le})})({onSubmit:()=>{Te(!0),Ie(X.x.TRACK_RISKY_PROSPECTS,!0)},onClose:Ae,isUpdateSequenceSettingsRequestPending:Object(U.c)(O)}),Object(u.jsx)(ge.a,{onHide:Ne,show:$,onVerify:()=>{Object(A.g)()?Z(!0):_e()?(ae(+f.verifiableProspect-(null===E||void 0===E?void 0:E.creditsAvailable)),Ne(),se(!0)):(T(s),Ne())},isRequestPending:Object(U.c)(C),isActionRequiredForEmailVerification:_e(),availableCredits:null===E||void 0===E?void 0:E.creditsAvailable,requiredCredits:+(null===f||void 0===f?void 0:f.verifiableProspect),title:h}),te&&Object(u.jsx)(Oe.a,{show:te,evCreditPlans:N,remainingCredit:ie,onBuyCredits:(e,t)=>w({stripeCardToken:e,planId:t}),onClose:ye,isPurchaseEmailVerificationCreditsLoading:Object(U.c)(p)||ne,sequenceName:h,currentPlan:I,type:"email-verification"}),Object(u.jsx)(Ee.a,{show:z,onClose:()=>Z(!1),title:"Email verification is disabled in demo mode",content:"This is a demo account with sample data. Signup to verify email addresses and improve your deliverability",primaryBtnLabel:"Sign up"})]});var ke,Me};const Ne={sendUpdateSequenceSettingsRequest:(e,t)=>Object(b.Jb)(Object(n.a)({sequenceId:e},t)),resetSequenceSettingUpdateRequestStatus:()=>Object(O.bb)(),sendGetSequenceProspectVerificationStatsRequest:e=>Object(b.X)(e),sendSequenceProspectVerifyStartRequest:e=>Object(b.Ab)(e),sendGetEmailVerificationPlansRequest:()=>Object(oe.n)(),sendGetEmailVerificationCreditsRequest:()=>Object(oe.m)(),sendPurchaseEmailVerificationCreditsRequest:e=>Object(oe.G)(e),resetPurchaseEmailVerificationCreditsResponse:()=>Object(le.q)(),resetSequenceConfigRequestStatus:()=>Object(O.Q)(),resetSequenceProspectVerifyStart:()=>Object(O.Z)(),sendGetSequenceRequest:e=>Object(b.Y)(e)},ye=Object(i.connect)((e=>{var t,s,n,c;return{settings:null===(t=e.sequence.sequenceConfig)||void 0===t?void 0:t.settings,getEmailVerificationCreditsRequestStatus:e.billingAndSubscription.getEmailVerificationCreditsRequest.status,getSequenceConfigRequestStatus:e.sequence.getSequenceConfigRequest.status,updateSequenceSettingsRequestStatus:e.sequence.updateSequenceSettingsRequest.status,getSequenceProspectVerificationStatsRequestStatus:e.sequence.getSequenceProspectVerificationStatsRequest.status,getSequenceProspectVerificationStatsRequestMessage:e.sequence.getSequenceProspectVerificationStatsRequest.message,sendGetSequenceProspectVerificationStatsResponse:e.sequence.sequenceProspectsVerificationStatsResponse,updateSequenceSettingsRequestMessage:e.sequence.updateSequenceSettingsRequest.message,updateSequenceSettingsRequestError:e.sequence.updateSequenceSettingsRequest.error,getEmailVerificationCreditsResponse:e.billingAndSubscription.getEmailVerificationCreditsResponse,getEmailVerificationPlanResponse:e.billingAndSubscription.getEmailVerificationPlanResponse,sendPurchaseEmailVerificationCreditsRequestStatus:e.billingAndSubscription.purchaseEmailVerificationCreditsRequest.status,verifyProspectManuallyRequestStatus:e.prospect.verifyProspectManuallyRequest.status,sendSequenceProspectVerifyStartRequestStatus:e.sequence.sendSequenceProspectVerifyStartRequest.status,sendSequenceProspectVerifyStartRequestMessage:e.sequence.sendSequenceProspectVerifyStartRequest.message,sendGetSequenceProspectVerificationStartResponse:e.sequence.sequenceProspectsVerifyStartResponse,getPurchaseEmailVerificationCreditsResponse:e.billingAndSubscription.purchaseEmailVerificationCreditsResponse,sendPurchaseEmailVerificationCreditsRequestMessage:e.billingAndSubscription.purchaseEmailVerificationCreditsRequest.message,title:null===(s=e.sequence.sequence)||void 0===s?void 0:s.title,agencyConfig:e.home.agencyConfig,currentPlanName:null===(n=e.home)||void 0===n||null===(c=n.subscription)||void 0===c?void 0:c.planName}}),Ne);var _e=Object(c.j)(ye(Ce)),Ae=s(175),Le=s(918);var Te=e=>{var t;let{sequenceId:s,settings:n,getSequenceConfigRequestStatus:c,sendUpdateSequenceSettingsRequest:i,resetSequenceConfigRequestStatus:l,disabled:r,onSaveRef:d,getSequenceConfig:b,sendGetSequenceRequest:m,updateSequenceSettingsRequestError:g,updateSequenceSettingsRequestMessage:O,updateSequenceSettingsRequestStatus:h,resetSequenceSettingUpdateRequestStatus:S}=e;const{t:p}=Object(o.b)(),v=(null===n||void 0===n||null===(t=n.find((e=>(null===e||void 0===e?void 0:e.code)===X.x.DEAL_VALUE)))||void 0===t?void 0:t.value)||"0",[q,x]=Object(a.useState)(!1),[f,R]=Object(a.useState)(v.toString());Object(a.useEffect)((()=>{Object(D.b)({status:c,onSuccess:()=>{var e;const t=(null===n||void 0===n||null===(e=n.find((e=>(null===e||void 0===e?void 0:e.code)===X.x.DEAL_VALUE)))||void 0===e?void 0:e.value)||"0";R(t.toString()),l()}})}),[c]),Object(a.useEffect)((()=>{"AverageDealValueSetting"===d.current&&Object(D.b)({status:h,onSuccess:async()=>{m(parseInt(s,10)),b(),V.d.success(O,{theme:V.a.New}),S(),d.current=""},onFailed:()=>{Object(D.a)({error:g,onError:()=>{V.d.error(O,{theme:V.a.New})}}),S(),d.current=""}})}),[h]);return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"card",children:Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsxs)("div",{className:"d-flex flex-column",children:[Object(u.jsx)("span",{className:"sequence-setting-title",children:p("labels.average_deal_value_settings")}),Object(u.jsxs)("span",{className:"sequence-setting-description",children:["Enter the estimated deal value per prospect, and the system will display the total revenue pipeline next to"," ",Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(te.a,{text:Object(u.jsxs)("div",{className:"tooltip-average-deal mb-0 mr-0 ml-0 text-left",children:["\u2022 Interested ",Object(u.jsx)("br",{}),"\u2022 Meeting Booked ",Object(u.jsx)("br",{}),"\u2022 Closed",Object(u.jsx)("br",{})]}),children:Object(u.jsx)("span",{className:"blue-txt-11",children:"prospect outcome"})})})," ","analytics"]})]}),Object(u.jsxs)("div",{className:"mt-4",children:[Object(u.jsxs)("div",{className:"d-flex flex-row",children:[Object(u.jsx)("div",{className:"average-deal-container d-flex justify-content-center align-items-center",children:Object(u.jsxs)("span",{className:"deal-span-icon gray-txt-11 d-flex justify-content-center align-items-center",children:[" ",Object(u.jsx)("img",{src:me.a.BxDollarGray,alt:"deal-value",className:""})]})}),Object(u.jsx)(Ae.a,{className:"average-deal-value-input",value:f,onChange:e=>{(e=>H.a.isLength(e,{min:1,max:7})&&H.a.isInt(e)?"":"Number must be between 0 to 9")(e)&&""!==e||R(e)},onKeyDown:e=>{["e","E","+","-","."].includes(e.key)&&e.preventDefault()},disabled:r})]}),Object(u.jsx)("div",{className:"mt-4",children:Object(u.jsx)(j.d,{variant:"primary",className:"bs-mt-10",onClick:async()=>{x(!0);const e=[];if(0!==f.trim().length){const t=Object(Le.a)(f);R(t),e.push({code:X.x.DEAL_VALUE,value:t})}const t={settings:e};try{d.current="AverageDealValueSetting",await i(s,t),x(!1)}catch(n){x(!1)}},isLoading:q,disabled:0===f.length||q||r,children:p("labels.save")})})]})]})})})};const we={sendUpdateSequenceSettingsRequest:(e,t)=>Object(b.Jb)(Object(n.a)({sequenceId:e},t)),resetSequenceConfigRequestStatus:()=>Object(O.Q)(),resetSequenceSettingUpdateRequestStatus:()=>Object(O.bb)(),sendGetSequenceRequest:e=>Object(b.Y)(e)},Pe=Object(i.connect)((e=>{var t;return{settings:null===(t=e.sequence.sequenceConfig)||void 0===t?void 0:t.settings,getSequenceConfigRequestStatus:e.sequence.getSequenceConfigRequest.status,updateSequenceSettingsRequestStatus:e.sequence.updateSequenceSettingsRequest.status,updateSequenceSettingsRequestMessage:e.sequence.updateSequenceSettingsRequest.message,updateSequenceSettingsRequestError:e.sequence.updateSequenceSettingsRequest.error}}),we);var Ie=Object(c.j)(Pe(Te));var ke=e=>{let{show:t,onClose:s,onSubmit:n,hasCustomDomain:c=!1,isRequestPending:i}=e;const{t:a}=Object(o.b)();return Object(u.jsx)(Se.a,{show:t,onClose:s,onHide:s,onSubmit:n,className:"link-track-nudge-user-modal",titleContent:Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)(pe.a,{src:me.a.InfoCircleYellow}),Object(u.jsxs)("div",{className:"ml-2",children:[" ",a("messages.turn_on_line_tracking")]})]}),submitButtonText:a("labels.yes"),cancelButtonText:a("labels.no"),showCloseIcon:!0,isSubmitLoading:i,isSubmitDisabled:i,children:Object(u.jsx)(u.Fragment,{children:c?Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"mt-3",children:[Object(u.jsx)("p",{children:a("messages.domain_set_part_1")}),Object(u.jsx)("p",{children:a("messages.domain_set_part_2")}),Object(u.jsx)("p",{children:a("messages.domain_set_part_3")})]})}):Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"mt-3",children:[Object(u.jsx)("p",{children:a("messages.domain_not_set_part_1")}),Object(u.jsxs)("p",{children:[a("messages.domain_not_set_part_2")," ",Object(u.jsx)("a",{href:"/settings/custom-domain",children:"Setup custom tracking"})]}),Object(u.jsx)("p",{children:a("messages.domain_not_set_part_3")})]})})})})},Me=s(40);var Ue=e=>{let{show:t,onClose:s,onConfirm:n,isRequestPending:c}=e;const{t:i}=Object(o.b)();return Object(u.jsx)(Me.a,{show:t,className:"link-track-nudge-user-modal",titleContent:Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)(pe.a,{src:me.a.InfoCircleYellow}),Object(u.jsx)("div",{className:"pl-2",children:i("labels.turn_off_email_tracking_model_title")})]}),onClose:s,onHide:s,onSubmit:n,showCloseIcon:!0,submitButtonText:i("labels.yes"),cancelButtonText:i("labels.no"),isSubmitLoading:c,isSubmitDisabled:c,children:Object(u.jsxs)("div",{className:"mt-3",children:[Object(u.jsx)("p",{children:i("messages.track_email_opens_model_message")}),Object(u.jsx)("p",{children:i("messages.are_you_sure_want_to_turn_it_off")})]})})};var De=e=>{let{show:t,onClose:s,onConfirm:n,isRequestPending:c}=e;const{t:i}=Object(o.b)();return Object(u.jsx)(Me.a,{show:t,className:"link-track-nudge-user-modal",titleContent:Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)(pe.a,{src:me.a.InfoCircleYellow}),Object(u.jsx)("div",{className:"pl-2",children:i("labels.turn_off_mark_prospect_as_replied_model_title")})]}),onClose:s,onHide:s,onSubmit:n,showCloseIcon:!0,submitButtonText:i("labels.yes"),cancelButtonText:i("labels.no"),isSubmitLoading:c,isSubmitDisabled:c,children:Object(u.jsxs)("div",{className:"mt-3",children:[Object(u.jsx)("p",{children:i("messages.turn_off_mark_prospect_as_replied_message")}),Object(u.jsx)("p",{children:i("messages.are_you_sure_want_to_turn_it_off")})]})})},Ve=s(227),Ge=s(211),Be=s(229),Fe=s(228);var Ye=e=>{let{show:t,onClose:s,onSubmit:n,isSubmitLoading:c}=e;return Object(u.jsx)(Me.a,{show:t,onClose:s,hideHeader:!0,hideFooter:!0,backdrop:"static",className:"change-email-modal html-content-detected-modal",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ve.a,{children:Object(u.jsxs)("div",{className:"delete-account-title",children:[Object(u.jsx)("div",{className:"delete-account-title-icon",children:Object(u.jsx)(p.d,{})}),Object(u.jsx)("h1",{children:"Enable Text Only Email?"})]})}),Object(u.jsx)(Ge.a,{content:Object(u.jsxs)("div",{className:"confirmation-modal-v3--body__contents",children:[Object(u.jsxs)("p",{children:["This will remove all styling, images, and links from the"," ",Object(u.jsx)("span",{className:"font-semibold",children:"all email step in this sequence"})," ","and will send emails in plain text. Opens and link clicks will also be disabled."]}),Object(u.jsx)("p",{children:"If your any email step relies on formatting, the content may appear distorted. Please review before sending. This change cannot be undone."})]})}),Object(u.jsx)(Be.a,{}),Object(u.jsxs)(Fe.a,{children:[Object(u.jsx)(j.d,{variant:"secondary",onClick:s,className:"secondary-cta-btn",disabled:c,children:"Cancel"}),Object(u.jsx)(j.d,{onClick:n,isLoading:c,loadingText:"Yes",className:"w-100px",children:"Yes"})]})]})})},Ke=s(104),He=s(156);var Je=e=>{let{sequenceId:t,settings:s,getSequenceConfigRequestStatus:n,updateSequenceSettingsRequestStatus:c,updateSequenceSettingsRequestMessage:i,updateSequenceSettingsRequestError:l,sendUpdateSequenceSettingsRequest:r,resetSequenceConfigRequestStatus:d,resetSequenceSettingUpdateRequestStatus:b,disabled:j,onSaveRef:m,getSequenceConfig:g,sendGetSequenceRequest:O,isFirstStepTextOnlyEmail:h}=e;const{t:S}=Object(o.b)(),q=Object(a.useMemo)((()=>{var e;return"1"===(null===s||void 0===s||null===(e=s.find((e=>e.code===X.x.TRACK_LINK_CLICKS)))||void 0===e?void 0:e.value)}),[s]),x=Object(a.useMemo)((()=>{var e;return"1"===(null===s||void 0===s||null===(e=s.find((e=>e.code===X.x.TRACK_EMAIL_OPENS)))||void 0===e?void 0:e.value)}),[s]),f=Object(a.useMemo)((()=>{var e;return"1"===(null===s||void 0===s||null===(e=s.find((e=>e.code===X.x.MARK_AS_FINISHED)))||void 0===e?void 0:e.value)}),[s]),R=Object(a.useMemo)((()=>{var e;return null===s||void 0===s||null===(e=s.find((e=>e.code===X.x.TEXT_ONLY_EMAIL)))||void 0===e?void 0:e.value}),[s]),E=Object(a.useMemo)((()=>{var e;return"1"===(null===s||void 0===s||null===(e=s.find((e=>e.code===X.x.FIRST_STEP_TEXT_ONLY_EMAIL)))||void 0===e?void 0:e.value)}),[s]),[C,N]=Object(a.useState)(f),[y,_]=Object(a.useState)(x),[A,L]=Object(a.useState)(q),[T,w]=Object(a.useState)(!1),[P,I]=Object(a.useState)(!1),[k,M]=Object(a.useState)(!1),[G,B]=Object(a.useState)(!1),[F,Y]=Object(a.useState)(E),[K,H]=Object(a.useState)(!1),J=e=>{let{checked:t,onChange:s,label:n,disabled:c,tooltip:i=""}=e;const a=Object(u.jsx)(he.a,{checked:t,onChange:e=>s(e),label:n,size:re.a.Small,disabled:c,className:"sequence-settings-switch sequence-setting-tab-switch ".concat(c?"disabled":"")});return c&&i?Object(u.jsx)(v.c,{text:i,placement:v.d.BottomStart,className:"tooltip-max",children:Object(u.jsx)("div",{className:"toggle-wrapper",children:a})}):a},Q=function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=s?"1":"0",c=[];c.push({code:e,value:e===X.x.UNSUBSCRIBE_LINK?"":n});const i={settings:c};m.current="SafetySettings",r(t,i)},W=()=>{H(!1)},z=()=>{B(!1)},Z=e=>{e?H(!0):Q(X.x.FIRST_STEP_TEXT_ONLY_EMAIL,e)},$=e=>{const s=[{code:X.x.TEXT_ONLY_EMAIL,value:e?X.M.TEXT_ONLY_EMAIL:X.M.REMOVE_STYLING_AUTOMATICALLY}];e&&(s.push({code:X.x.TRACK_EMAIL_OPENS,value:"0"}),s.push({code:X.x.TRACK_LINK_CLICKS,value:"0"})),m.current="SafetySettings",r(t,{settings:s})},ee=()=>{M(!1)};return Object(a.useEffect)((()=>{Object(D.b)({status:n,onSuccess:()=>{var e,t,n,c;const i="1"===(null===s||void 0===s||null===(e=s.find((e=>(null===e||void 0===e?void 0:e.code)===X.x.TRACK_LINK_CLICKS)))||void 0===e?void 0:e.value),a="1"===(null===s||void 0===s||null===(t=s.find((e=>(null===e||void 0===e?void 0:e.code)===X.x.TRACK_EMAIL_OPENS)))||void 0===t?void 0:t.value),l="1"===(null===s||void 0===s||null===(n=s.find((e=>(null===e||void 0===e?void 0:e.code)===X.x.MARK_AS_FINISHED)))||void 0===n?void 0:n.value),o="1"===(null===s||void 0===s||null===(c=s.find((e=>(null===e||void 0===e?void 0:e.code)===X.x.FIRST_STEP_TEXT_ONLY_EMAIL)))||void 0===c?void 0:c.value);N(l),_(a),L(i),Y(o),d()}})}),[n]),Object(a.useEffect)((()=>{"SafetySettings"===m.current&&Object(D.b)({status:c,onSuccess:()=>{I(!1),w(!1),ee(),z(),W(),O(parseInt(t,10)),g(),V.d.success(i,{theme:V.a.New}),b(),m.current=""},onFailed:()=>{I(!1),w(!1),ee(),z(),W(),Object(D.a)({error:l,onError:()=>{V.d.error(i,{theme:V.a.New})}}),b(),m.current=""}})}),[c]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"card",children:Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("div",{children:Object(u.jsx)("span",{className:"sequence-setting-title",children:S("labels.safety_settings")})}),Object(u.jsxs)("div",{className:"mt-4 safety-settings-switch-wrapper",children:[J({checked:C,onChange:e=>(e=>{e?Q(X.x.MARK_AS_FINISHED,e):w(!0)})(e),label:"Consider the prospect as finished if a reply is received",disabled:j}),J({checked:y,onChange:e=>(e=>{e?Q(X.x.TRACK_EMAIL_OPENS,e):I(!0)})(e),label:"Track email opens",disabled:R===X.M.TEXT_ONLY_EMAIL||j,tooltip:j?"":'Turn Off "Text only email" option to enable this'}),J({checked:A,onChange:e=>(e=>{e?M(!0):Q(X.x.TRACK_LINK_CLICKS,e)})(e),label:"Track link clicks",disabled:R===X.M.TEXT_ONLY_EMAIL||j,tooltip:j?"":'Turn Off "Text only email" option to enable this'}),J({checked:R!==X.M.TEXT_ONLY_DISABLED,onChange:e=>(e=>{m.current="SafetySettings",r(t,{settings:[{code:X.x.TEXT_ONLY_EMAIL,value:e?X.M.REMOVE_STYLING_AUTOMATICALLY:X.M.TEXT_ONLY_DISABLED}]})})(e),label:"Remove Styling Automatically",disabled:R===X.M.TEXT_ONLY_EMAIL||j,tooltip:j?"":'Turn Off "Text only email" option to disable this'}),J({checked:R===X.M.TEXT_ONLY_EMAIL||h||F,onChange:e=>Z(e),label:"Send first email as text only",disabled:R===X.M.TEXT_ONLY_EMAIL||j||h,tooltip:j?"":h?'Turn off "Send first email as text only" from Admin Settings to disable this':'Turn Off "Text only email" option to disable this'}),Object(u.jsxs)("div",{className:"settings-with-tooltip",children:[J({checked:R===X.M.TEXT_ONLY_EMAIL,onChange:e=>e?void B(!0):$(e),label:"Text only email",disabled:j}),Object(u.jsx)(v.c,{className:"settings-tooltip",text:Object(u.jsx)(u.Fragment,{children:"Once enabled, any images in the email will be removed. HTML links will also be disabled, all type of formatting will be removed and emails will be sent in plain text."}),children:Object(u.jsx)("div",{className:"tooltip-icon",children:Object(u.jsx)(p.Mb,{})})}),Object(u.jsx)("div",{className:"improve-deliverability-badge",children:Object(u.jsx)("p",{children:"Improves Deliverability"})})]})]})]})}),(e=>{let{onSubmit:t,onClose:s,isUpdateSequenceSettingsRequestPending:n}=e;return k&&Object(u.jsx)(ke,{show:k,onSubmit:t,onClose:s,isRequestPending:n})})({onSubmit:()=>Q(X.x.TRACK_LINK_CLICKS,!0),onClose:ee,isUpdateSequenceSettingsRequestPending:Object(U.c)(c)}),Object(u.jsx)(Ue,{show:P,onClose:()=>I(!1),onConfirm:()=>Q(X.x.TRACK_EMAIL_OPENS),isRequestPending:Object(U.c)(c)}),Object(u.jsx)(De,{show:T,onClose:()=>w(!1),onConfirm:()=>Q(X.x.MARK_AS_FINISHED),isRequestPending:Object(U.c)(c)}),Object(u.jsx)(Ye,{show:G,onClose:z,onSubmit:()=>$(!0),isSubmitLoading:Object(U.c)(c)}),Object(u.jsx)(Ke.a,{show:K,title:"Enable Text-Only First Email?",iconType:He.a.INFO_CIRCLE_YELLOW,customJSX:Object(u.jsxs)("div",{className:"confirmation-modal-v3--body__contents",children:[Object(u.jsxs)("p",{children:["This will remove all styling, images, and links from the"," ",Object(u.jsx)("span",{className:"font-semibold",children:"first email step in this sequence"})," ","and will send emails in plain text. Opens and link clicks will also be disabled."]}),Object(u.jsx)("p",{children:"If your first step relies on formatting, the content may appear distorted. Please review before sending. This change cannot be undone."})]}),onClose:W,onSubmit:()=>{Q(X.x.FIRST_STEP_TEXT_ONLY_EMAIL,!0)},isSubmitLoading:Object(U.c)(c),isSubmitDisabled:Object(U.c)(c),submitButtonText:"Continue",cancelButtonText:"Cancel"})]})};const Xe={sendUpdateSequenceSettingsRequest:(e,t)=>Object(b.Jb)(Object(n.a)({sequenceId:e},t)),resetSequenceConfigRequestStatus:()=>Object(O.Q)(),resetSequenceSettingUpdateRequestStatus:()=>Object(O.bb)(),sendGetSequenceRequest:e=>Object(b.Y)(e)},Qe=Object(i.connect)((e=>{var t,s;return{settings:null===(t=e.sequence.sequenceConfig)||void 0===t?void 0:t.settings,getSequenceConfigRequestStatus:e.sequence.getSequenceConfigRequest.status,updateSequenceSettingsRequestStatus:e.sequence.updateSequenceSettingsRequest.status,updateSequenceSettingsRequestMessage:e.sequence.updateSequenceSettingsRequest.message,updateSequenceSettingsRequestError:e.sequence.updateSequenceSettingsRequest.error,isFirstStepTextOnlyEmail:null===e||void 0===e||null===(s=e.home)||void 0===s?void 0:s.isFirstStepTextOnlyEmail}}),Xe);var We=Object(c.j)(Qe(Je)),ze=s(515);const Ze={sendUpdateSequenceSettingsRequest:(e,t)=>Object(b.Jb)(Object(n.a)({sequenceId:e},t)),resetSequenceConfigRequestStatus:()=>Object(O.Q)(),resetSequenceSettingUpdateRequestStatus:()=>Object(O.bb)(),updateSequencePriorityConfigRequest:e=>{let{sequenceId:t,priorityDistributionId:s}=e;return Object(b.Ib)({sequenceId:t,priorityDistributionId:s})}},$e=Object(i.connect)((e=>{var t;return{prioritySetting:null===(t=e.sequence.sequenceConfig)||void 0===t?void 0:t.prioritySetting,getSequencePriorityConfigRequest:e.sequence.getSequenceConfigRequest.status,updateSequencePriorityConfigStatus:e.sequence.updateSequencePriorityConfigRequest.status,updateSequencePriorityConfigError:e.sequence.updateSequencePriorityConfigRequest.error,updateSequencePriorityConfigMessage:e.sequence.updateSequencePriorityConfigRequest.message}}),Ze);var et=Object(c.j)($e(ze.b)),tt=s(2230);var st=e=>{let{name:t,checked:s,disabled:n,value:c,onChange:i,label:a}=e;const l=g()(["bs-radio-wrapper",{"bs-radio-wrapper-disabled":n}]),o=g()(["bs-radio",{"bs-radio-checked":s,"bs-radio-disabled":n}]);return Object(u.jsxs)("label",{htmlFor:t,className:l,children:[Object(u.jsxs)("span",{className:o,children:[Object(u.jsx)("input",{id:t,type:"radio",name:t,checked:s,disabled:n,className:"bs-radio-input",value:c,onChange:()=>i(c)}),Object(u.jsx)("span",{className:"bs-radio-inner"})]}),Object(u.jsx)("span",{className:"radio-input-label",children:a})]})},nt=s(978),ct=s(414);var it=e=>{let{insertUnsubscribeTag:t,editorContent:s}=e;return Object(u.jsxs)("div",{className:"unsubscribe-tag-content d-flex align-items-center justify-content-center ml-3",onClick:()=>-1===s.indexOf("{{link}}")&&t('<a style="color: #1d4ed8; text-decoration: underline;" href="{{link}}" title="Unsubscribe" target="_blank" rel="noopener">Unsubscribe</a>'),children:[Object(u.jsx)(pe.a,{src:me.a.BanForUnsubscribe}),Object(u.jsx)("span",{className:"unsubscribe-font ml-1",children:"Unsubscribe Tag"})]})};s(1046),s(1047),s(1048),s(1049),s(1050),s(1051),s(1052),s(1053),s(1054),s(1055),s(1056),s(1057),s(1058),s(1059),s(1060),s(1061),s(1062),s(1063),s(1064),s(1065),s(1066),s(1067),s(1068);let at;const lt=l.a.forwardRef(((e,t)=>{let{value:s,onEditorChange:n,error:c,className:i,onEditorBlur:l,disabled:o,imageUploader:r,onEditorInit:d,getEditorInstance:b,customUnsubscribeTextError:j,hideLinkOption:m=!1}=e;const O=g()(["unsubscribe-editor editor",j&&"error",{error:c},i]),[h]=Object(a.useState)(Object(ct.d)());return Object(u.jsxs)("div",{className:O,ref:t,children:[Object(u.jsxs)("div",{className:"toolbar-container-for-unsubscribe-tag",children:[Object(u.jsx)("div",{className:"fixed-toolbar-container-for-unsubscribe ".concat(m?"w-full":"toolbar-flex-size")}),!m&&Object(u.jsx)("div",{className:"d-flex align-items-center unsubscribe-container justify-content-end",children:Object(u.jsx)(it,{editorContent:s,insertUnsubscribeTag:e=>at.insertContent(e)})})]}),Object(u.jsxs)("div",{className:"editor-editable-content-container",children:[Object(u.jsx)(nt.a,{disabled:o,id:"editor-".concat(h),value:s,onEditorChange:n,init:{forced_root_block:"div",inline_styles:!0,selector:"div#".concat(h),menubar:!1,file_picker_types:"image",file_picker_callback:e=>{const t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept","image/*"),t.onchange=t=>{const s=t.target.files[0],n=new FileReader;n.onload=()=>{const t=s.name,{blobCache:c}=at.editorUpload,i=n.result.toString().split(",")[1],a=c.create(t,s,i);c.add(a),e(a.blobUri(),{title:s.name})},n.readAsDataURL(s)},t.click()},images_upload_handler:(e,t,s,n)=>{const c=new FormData;c.append("file",e.blob(),e.filename()),r({formData:c,onUploadProgress:e=>{n(e.loaded/e.total*100)}}).then((e=>{e.payload.error?s("Error occured while uploading the image.",{remove:!0}):t(e.payload.payload.location)}))},plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help imagetools wordcount"],toolbar:"fontselect | fontsizeselect | bold italic underline | forecolor backcolor ".concat(m?"":"| link"),fontsize_formats:"10px 12px 13px 14px 16px 18px 24px 36px 48px 72px 78px",font_formats:"Andale Mono=andale mono,times; Arial=arial,helvetica,sans-serif; Arial Black=arial black,avant garde; Book Antiqua=book antiqua,palatino; Comic Sans MS=comic sans ms,sans-serif; Courier New=courier new,courier; Calibri=calibri; Georgia=georgia,palatino; Helvetica=helvetica; Impact=impact,chicago; Sans Serif=sans-serif;  Symbol=symbol; Tahoma=tahoma,arial,helvetica,sans-serif; Terminal=terminal,monaco; Times New Roman=times new roman,times; Trebuchet MS=trebuchet ms,geneva; Verdana=verdana,geneva; Webdings=webdings; Wingdings=wingdings,zapf dingbats",toolbar_groups:{alignmentgroup:{icon:"align-left",tooltip:"Alignment",items:"alignleft aligncenter alignright | alignjustify"}},skin_url:"/assets/libs/tinymce/skins/ui/sh",init_instance_callback:e=>{e.fire("focus"),d&&d()},setup:e=>{at=e,e.on("blur",(()=>(null===l||void 0===l||l(),!1))),e.on("init",(()=>{b&&b(e)})),Object(ct.a)(e),Object(ct.c)(e)},inline:!0,fixed_toolbar_container:".fixed-toolbar-container-for-unsubscribe",toolbar_location:"top",relative_urls:!1,remove_script_host:!1,convert_urls:!1}}),Object(u.jsx)("div",{id:h,className:"editor-editable-content-for-unsubscribe-tag editor-editable-content"})]})]})}));lt.defaultProps={error:!1,disabled:!1};var ot=lt,rt=s(352);var ut=e=>{let{show:t,isRequestPending:s,onSubmit:n,onClose:c}=e;const{t:i}=Object(o.b)();return Object(u.jsx)(Me.a,{show:t,className:"unsubscribe-link-modal",titleContent:Object(u.jsxs)("div",{className:"d-flex align-items-center gap-10",children:[Object(u.jsx)(p.e,{width:24,height:24,color:"#b91c1c",className:"flex-shrink-0"}),Object(u.jsx)("span",{className:"line-height-1",children:"Are you sure you want to remove Unsubscribe option?"})]}),onClose:c,onHide:c,onSubmit:n,submitButtonText:i("labels.yes"),cancelButtonText:i("labels.no"),isSubmitLoading:s,isSubmitDisabled:s,children:Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:"We strongly recommend to keep unsubscribe option in the emails to reduce spam complaints by recipients."}),Object(u.jsx)("p",{children:"Disabling this option may affect your email deliverability negatively."})]})})};let dt=function(e){return e.UnsubscribeLink="unsubscribe-link",e.UnsubscribeText="unsubscribe-text",e}({}),bt=function(e){return e.Preset="preset",e.Custom="custom",e}({}),jt=function(e){return e.NO_MAIL_FROM_ME='If you\'d prefer not to receive email from me, <a href="{{link}}" target="_blank">Unsubscribe here</a>.',e.NO_MAIL_FUTURE='If you don\'t want to receive such emails in future, <a href="{{link}}" target="_blank">Unsubscribe here</a>.',e.NOT_UP_TO_MAILS='Not up for all these emails? No Sweat! you can, <a href="{{link}}" target="_blank">Unsubscribe here</a>.',e}({}),mt=function(e){return e.REPLY_STOP_NO_MESSAGES="Reply 'Stop' if you'd prefer not to receive messages at this time.",e.REPLY_STOP_NO_HEAR="Simply reply 'Stop' if you don't want to hear from me again.",e.REPLY_STOP_LAST_EMAIL="Reply 'Stop' and I'll ensure this is the last email.",e.REPLY_REMOVE_OFF_LIST='If this isn\'t relevant, just reply with "Remove" to be taken off the list.',e.REPLY_STOP_NOT_INTERESTED="Not interested? Reply 'Stop' to stop receiving emails.",e.REPLY_REMOVE_OPT_OUT="Want to stop future emails? Reply 'Remove' to opt out.",e.REPLY_STOP_OUT_INBOX="Want me out of your inbox? Just reply \u201cStop.\u201d",e.REPLY_STOP_REMOVE_LIST="A quick 'Stop' will remove you from my list.",e.REPLY_STOP_NOT_FOR_YOU="Not for you? Just reply 'Stop.'",e.REPLY_STOP_OUT_INBOX_ALT="Want me out of your inbox? Just reply with \u201cStop.\u201d",e}({});const gt=e=>Object.values(e).map((e=>({key:e,value:"string"===typeof e?e.replace(/<a [^>]*>(.*?)<\/a>/i,"$1"):e}))),Ot=e=>{let{unsubscribeTextValue:t}=e;if(""===t)return{subOption:bt.Preset,preset:mt.REPLY_STOP_NO_MESSAGES,custom:"",error:""};const s=Object.values(mt).includes(t);return{subOption:s?bt.Preset:bt.Custom,preset:s?t:mt.REPLY_STOP_NO_MESSAGES,custom:s?"":t,error:""}},ht=e=>{let{unsubscribeLinkValue:t}=e;if(""===t)return{subOption:bt.Preset,preset:jt.NO_MAIL_FROM_ME,custom:"",error:""};const s=Object.values(jt).includes(t);return{subOption:s?bt.Preset:bt.Custom,preset:s?t:jt.NO_MAIL_FROM_ME,custom:s?"":t,error:""}};var St=e=>{let{sequenceId:t,settings:s,disabled:c,onSaveRef:i,getSequenceConfig:l,updateSequenceSettingsRequestStatus:r,getSequenceConfigRequestStatus:d,sendUpdateSequenceSettingsRequest:b,resetSequenceSettingUpdateRequestStatus:m,resetSequenceConfigRequestStatus:g,sendGetSequenceRequest:O,updateSequenceSettingsRequestMessage:h,updateSequenceSettingsRequestError:S,isFirstStepTextOnlyEmail:q}=e;const{t:x}=Object(o.b)(),R=Object(a.useRef)(!1),E=Object(a.useMemo)((()=>(e=>{if((null===e||void 0===e?void 0:e.length)>0){var t;const s=null===e||void 0===e||null===(t=e.find((e=>(null===e||void 0===e?void 0:e.code)===X.x.UNSUBSCRIBE_TEXT)))||void 0===t?void 0:t.value;return null!==s&&void 0!==s?s:""}return""})(s)),[s]),C=Object(a.useMemo)((()=>(e=>{if((null===e||void 0===e?void 0:e.length)>0){var t;const s=null===e||void 0===e||null===(t=e.find((e=>(null===e||void 0===e?void 0:e.code)===X.x.UNSUBSCRIBE_LINK)))||void 0===t?void 0:t.value;return null!==s&&void 0!==s?s:""}return""})(s)),[s]),N=Object(a.useMemo)((()=>{var e;return null===s||void 0===s||null===(e=s.find((e=>e.code===X.x.TEXT_ONLY_EMAIL)))||void 0===e?void 0:e.value}),[s]),y=Object(a.useMemo)((()=>{var e;return"1"===(null===s||void 0===s||null===(e=s.find((e=>e.code===X.x.FIRST_STEP_TEXT_ONLY_EMAIL)))||void 0===e?void 0:e.value)}),[s]),[_,A]=Object(a.useState)(!!C||!!E),[L,T]=Object(a.useState)(C?dt.UnsubscribeLink:dt.UnsubscribeText),[w,P]=Object(a.useState)((()=>Ot({unsubscribeTextValue:E}))),[I,k]=Object(a.useState)((()=>ht({unsubscribeLinkValue:C}))),[M,U]=Object(a.useState)(!1),[G,B]=Object(a.useState)(!1),F=()=>U(!1),Y=e=>{R.current=!0,T(e),e===dt.UnsubscribeText?k(ht({unsubscribeLinkValue:C})):P(Ot({unsubscribeTextValue:E}))},K=e=>{R.current=!0,P((t=>Object(n.a)(Object(n.a)({},t),{},{subOption:e,error:""})))},H=e=>{R.current=!0,k((t=>Object(n.a)(Object(n.a)({},t),{},{subOption:e,error:""})))},J=(e,t)=>{if(e){if(""===t)return"Custom message cannot be empty. Please enter a message or choose a predefined one.";if(/<\s*\/?\s*a\b[^>]*>/i.test(t))return"Link is not allowed."}return""},Q=(e,t)=>{if(e){if(""===t)return"Custom message cannot be empty. Please enter a message or choose a predefined one.";if(-1===t.indexOf("{{link}}"))return"Unsubscribe tag is required in the custom unsubscribe text."}return""},W=e=>e?Object(u.jsxs)("div",{className:"custom-unsubscribe-error",children:[Object(u.jsx)(p.e,{}),Object(u.jsx)("span",{className:"unsubscribe-error-text",children:e})]}):Object(u.jsx)(u.Fragment,{});Object(a.useEffect)((()=>{C||E||A(!1)}),[C,E]),Object(a.useEffect)((()=>{Object(D.b)({status:d,onSuccess:()=>{A(!!C||!!E),T(C?dt.UnsubscribeLink:dt.UnsubscribeText),P(Ot({unsubscribeTextValue:E})),k(ht({unsubscribeLinkValue:C})),g()}})}),[d]),Object(a.useEffect)((()=>{"SequenceUnsubscribeOption"===i.current&&Object(D.b)({status:r,onSuccess:async()=>{B(!1),R.current=!1,O(parseInt(t,10)),l(),F(),V.d.success(h,{theme:V.a.New}),m(),i.current=""},onFailed:()=>{B(!1),Object(D.a)({error:S,onError:()=>{V.d.error(h,{theme:V.a.New})}}),m(),i.current=""}})}),[r]);const z=Object(a.useMemo)((()=>c||!_),[c,_]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"card",children:Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("div",{children:Object(u.jsx)(he.a,{checked:_,onChange:e=>{R.current=!0,e?(A(e),T(dt.UnsubscribeText)):U(!0)},label:"Include Unsubscribe Option in Emails",size:rt.a.Small,className:"sequence-settings-switch sequence-setting-tab-switch unsubscribe-switch",disabled:c})}),Object(u.jsxs)("div",{className:"unsubscribe-options-container",children:[Object(u.jsx)("h1",{className:"sequence-setting-title",children:"Choose Unsubscribe Method"}),Object(u.jsxs)("div",{className:"unsubscribe-options-content",children:[Object(u.jsxs)("div",{className:"unsubscribe-options-option",children:[Object(u.jsx)(st,{name:dt.UnsubscribeText,value:dt.UnsubscribeText,label:"Unsubscribe as Text (Recommended)",checked:L===dt.UnsubscribeText,disabled:z,onChange:()=>Y(dt.UnsubscribeText)}),L===dt.UnsubscribeText&&Object(u.jsxs)("div",{className:"unsubscribe-options-option-content",children:[Object(u.jsx)("p",{className:"option-content-label ".concat(z?"disabled":""),children:"Select one unsubscribe message to include in your email. Recipients can reply with the given text to opt out easily. Better for deliverability and avoids spam filters."}),Object(u.jsxs)("div",{className:"unsubscribe-options-list",children:[Object(u.jsx)(st,{name:bt.Preset,value:bt.Preset,label:"Choose an unsubscribe message from the list",checked:w.subOption===bt.Preset,disabled:z,onChange:()=>K(bt.Preset)}),w.subOption===bt.Preset&&Object(u.jsx)("div",{className:"select-drpdwn-wrapper",children:Object(u.jsx)(ee.a,{options:(Z=mt,Object.values(Z).map((e=>({key:e,value:e})))),selectedOptionKey:w.preset,optionRenderer:e=>Object(u.jsx)("span",{children:null===e||void 0===e?void 0:e.value}),selectedOptionRenderer:e=>{let[t]=e;return Object(u.jsx)("span",{children:null===t||void 0===t?void 0:t.value})},onChange:e=>{let[t]=e;return s=t.key,R.current=!0,void P((e=>Object(n.a)(Object(n.a)({},e),{},{preset:s})));var s},className:"unsubscribe-as-text-select",placeholder:"Select Unsubscribe Text",disabled:z,placement:v.d.Top})}),Object(u.jsxs)("div",{className:"custom-option",children:[Object(u.jsx)(st,{name:bt.Custom,value:bt.Custom,label:"Custom message",checked:w.subOption===bt.Custom,disabled:z,onChange:()=>K(bt.Custom)}),w.subOption===bt.Custom&&Object(u.jsxs)("div",{className:"unsubscribe-setting-editor",children:[Object(u.jsx)(ot,{value:w.custom,onEditorChange:e=>{"string"===typeof e&&(R.current=!0,P((t=>Object(n.a)(Object(n.a)({},t),{},{custom:e,error:J(t.error,e)}))))},customUnsubscribeTextError:!!w.error,hideLinkOption:!0,disabled:z},"editor-1"),W(w.error)]})]})]})]})]}),Object(u.jsxs)("div",{className:"unsubscribe-options-option",children:[(()=>{const e=Object(u.jsx)(st,{name:dt.UnsubscribeLink,value:dt.UnsubscribeLink,label:"Unsubscribe as Link",checked:L===dt.UnsubscribeLink,disabled:z||N===X.M.TEXT_ONLY_EMAIL||y||q,onChange:()=>Y(dt.UnsubscribeLink)});return N===X.M.TEXT_ONLY_EMAIL||y||q?Object(u.jsx)(v.c,{text:y||q?'Turn Off "Send first email as text only" option to enable this':'Turn Off "Text only email" option to enable this',placement:v.d.BottomStart,className:"tooltip-max",children:Object(u.jsx)("div",{className:"w-fit",children:e})}):e})(),L===dt.UnsubscribeLink&&Object(u.jsxs)("div",{className:"unsubscribe-options-option-content",children:[Object(u.jsx)("p",{className:"option-content-label ".concat(z?"disabled":""),children:"Choose a message to show with your unsubscribe link. Recipients can click it to opt out. May trigger spam filters in some cases."}),Object(u.jsxs)("div",{className:"unsubscribe-options-list",children:[Object(u.jsx)(st,{name:bt.Preset,value:bt.Preset,label:"Choose an unsubscribe message from the list",checked:I.subOption===bt.Preset,disabled:z,onChange:()=>H(bt.Preset)}),I.subOption===bt.Preset&&Object(u.jsx)("div",{className:"select-drpdwn-wrapper",children:Object(u.jsx)(ee.a,{options:gt(jt),selectedOptionKey:I.preset,optionRenderer:e=>Object(u.jsx)("span",{children:null===e||void 0===e?void 0:e.value}),selectedOptionRenderer:e=>{let[t]=e;return Object(u.jsx)("span",{children:null===t||void 0===t?void 0:t.value})},onChange:e=>{let[t]=e;return s=t.key,R.current=!0,void k((e=>Object(n.a)(Object(n.a)({},e),{},{preset:s})));var s},className:"unsubscribe-as-text-select",placeholder:"Select Unsubscribe Text",disabled:z,placement:v.d.Top})}),Object(u.jsxs)("div",{className:"custom-option",children:[Object(u.jsx)(st,{name:bt.Custom,value:bt.Custom,label:"Custom message",checked:I.subOption===bt.Custom,disabled:z,onChange:()=>H(bt.Custom)}),I.subOption===bt.Custom&&Object(u.jsxs)("div",{className:"unsubscribe-setting-editor",children:[Object(u.jsx)(ot,{value:I.custom,onEditorChange:e=>{"string"===typeof e&&(R.current=!0,k((t=>Object(n.a)(Object(n.a)({},t),{},{custom:e,error:Q(t.error,e)}))))},customUnsubscribeTextError:!!I.error,disabled:z},"editor-2"),W(I.error)]})]})]})]})]})]})]}),Object(u.jsx)("div",{className:"mt-4",children:Object(u.jsx)(j.d,{variant:"primary",className:"bs-mt-10",onClick:async()=>{if(L===dt.UnsubscribeText&&w.subOption===bt.Custom){const e=J("check",w.custom);if(e)return void P((t=>Object(n.a)(Object(n.a)({},t),{},{error:e})))}if(L===dt.UnsubscribeLink&&I.subOption===bt.Custom){const e=Q("check",I.custom);if(e)return void k((t=>Object(n.a)(Object(n.a)({},t),{},{error:e})))}B(!0);const e={};L===dt.UnsubscribeText?e.settings=[{code:X.x.UNSUBSCRIBE_TEXT,value:w.subOption===bt.Preset?w.preset:w.custom},{code:X.x.UNSUBSCRIBE_LINK,value:""}]:e.settings=[{code:X.x.UNSUBSCRIBE_LINK,value:I.subOption===bt.Preset?I.preset:I.custom},{code:X.x.UNSUBSCRIBE_TEXT,value:""}],i.current="SequenceUnsubscribeOption",b(t,e)},isLoading:G,disabled:G||z||!R.current,children:x("labels.save")})})]})}),Object(u.jsx)(ut,{show:M,onClose:F,onSubmit:()=>{if(!C&&!E)return A(!1),void F();b(t,{settings:[{code:X.x.UNSUBSCRIBE_LINK,value:""},{code:X.x.UNSUBSCRIBE_TEXT,value:""}]}),i.current="SequenceUnsubscribeOption"},isRequestPending:Object(f.G)(r)})]});var Z};const pt={sendUpdateSequenceSettingsRequest:(e,t)=>Object(b.Jb)(Object(n.a)({sequenceId:e},t)),resetSequenceConfigRequestStatus:()=>Object(O.Q)(),resetSequenceSettingUpdateRequestStatus:()=>Object(O.bb)(),sendGetSequenceRequest:e=>Object(b.Y)(e)},vt=Object(i.connect)((e=>{var t,s;return{settings:null===(t=e.sequence.sequenceConfig)||void 0===t?void 0:t.settings,getSequenceConfigRequestStatus:e.sequence.getSequenceConfigRequest.status,updateSequenceSettingsRequestStatus:e.sequence.updateSequenceSettingsRequest.status,updateSequenceSettingsRequestMessage:e.sequence.updateSequenceSettingsRequest.message,updateSequenceSettingsRequestError:e.sequence.updateSequenceSettingsRequest.error,isFirstStepTextOnlyEmail:null===e||void 0===e||null===(s=e.home)||void 0===s?void 0:s.isFirstStepTextOnlyEmail}}),pt);var qt=Object(c.j)(vt(St)),xt=s(283),ft=s(161),Rt=s(814),Et=s(416),Ct=s(539);var Nt=e=>{let{clients:t,sequenceId:s,selectedAgencyClient:n,sendUpdateAssignAgencyClientResource:c,sequenceDetails:i,updateAgencyClientResourceRequestStatus:a,getSelectedAgencyClientsDropdownRequestStatus:o,getAgencyClientsDropdownRequestStatus:r,sendGetAgencyClientsDropdownRequest:d,sendGetSelectedAgencyClientRequest:b,resetAgencyClientAssignResource:m,resetSelectedAgencyClient:g}=e;const[O,h]=l.a.useState((null===n||void 0===n?void 0:n.id)?n:{id:-1,firstName:"",lastName:"",email:"",companyName:"",status:Et.c.Active}),S=Object(U.c)(a),q=Object(U.c)(o)||Object(U.c)(r),x=()=>{c({resourceType:Et.d.Sequence,resourceIds:[parseInt(s,10)],clientId:0})};return l.a.useEffect((()=>{Object(D.b)({status:a,onSuccess:()=>{V.d.success("Sequence settings updated successfully",{theme:V.a.New}),Object(y.a)(_.a.CLIENT_READ)&&Object(A.J)()&&(d({search:"",status:Et.c.Active}),b({resourceId:s,resourceType:Et.d.Sequence})),m()},onFailed:()=>{V.d.error("Something went wrong",{theme:V.a.New}),m()}})}),[a]),l.a.useEffect((()=>{h((null===n||void 0===n?void 0:n.id)?n:{id:-1,firstName:"",lastName:"",email:"",companyName:"",status:Et.c.Active})}),[n]),l.a.useEffect((()=>()=>{g()}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"card associate-client",children:Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("h3",{children:"Associate Client"}),Object(u.jsx)("p",{children:"Select for which client this sequence is created and should be attached to."}),Object(u.jsxs)("div",{className:"content",children:[q?Object(u.jsx)(j.l,{height:36,width:480}):Object(u.jsx)(Rt.a,{options:t,initialSelectedOption:O,oldSelectedOption:n,className:"sequence-associated-client",changeAssociatedClientRequestPayload:{resourceId:s,resourceType:Et.d.Sequence},onChange:e=>{e&&h(e)},optionRenderer:e=>Object(u.jsxs)("div",{className:"d-flex align-items-center justify-content-between w-100",children:[Object(u.jsx)("div",{children:Object(N.b)(e,60,{company:!0,email:!0,deleted:!0})}),(null===n||void 0===n?void 0:n.id)===(null===e||void 0===e?void 0:e.id)&&Object(u.jsx)("button",{onClick:()=>x(),type:"button",children:Object(u.jsx)(v.c,{text:"Remove Client Association",placement:v.d.BottomStart,children:Object(u.jsx)(p.eb,{height:16,width:16,color:"#6B7280"})})})]}),onRemoveAssociation:x,disabled:!(i.progress===Ct.d.Draft||!(null===n||void 0===n?void 0:n.id)),placement:v.d.BottomStart}),Object(u.jsx)(v.c,{rootClose:!0,placement:v.d.BottomStart,className:"sequence-client-tooltip",text:"After activating the sequence with a client association, it cannot be unlinked to prevent potential data mismatches and reporting discrepancies.",children:Object(u.jsxs)("div",{className:"warning-client-associated-badge",children:[Object(u.jsx)(p.d,{width:16,height:16,color:"#B45309"}),Object(u.jsx)("p",{children:"Association is permanent"})]})})]}),Object(u.jsx)(j.d,{onClick:()=>{c({resourceType:Et.d.Sequence,resourceIds:[parseInt(s,10)],clientId:O.id})},variant:"primary",disabled:(null===n||void 0===n?void 0:n.id)===(null===O||void 0===O?void 0:O.id)||-1===(null===O||void 0===O?void 0:O.id),className:"mt-4",isLoading:S,children:"Save"})]})})})},yt=s(111),_t=s(780);const At={sendUpdateAssignAgencyClientResource:e=>Object(yt.j)(e),sendGetAgencyClientsDropdownRequest:e=>Object(yt.e)(e),sendGetSelectedAgencyClientRequest:e=>Object(yt.g)(e),resetAgencyClientAssignResource:()=>Object(_t.c)(),resetSelectedAgencyClient:()=>Object(_t.i)()},Lt=Object(i.connect)((e=>({getAgencyClientsDropdownRequestStatus:e.agencyClient.getAgencyClientsDropdownRequest.status,getAgencyClientsDropdownRequestMessage:e.agencyClient.getAgencyClientsDropdownRequest.message,getAgencyClientsDropdownRequestError:e.agencyClient.getAgencyClientsDropdownRequest.error,clients:e.agencyClient.clients,getSelectedAgencyClientsDropdownRequestStatus:e.agencyClient.selectedAgencyClientRequest.status,getSelectedAgencyClientsDropdownRequestMessage:e.agencyClient.selectedAgencyClientRequest.message,getSelectedAgencyClientsDropdownRequestError:e.agencyClient.selectedAgencyClientRequest.error,selectedAgencyClient:e.agencyClient.selectedAgencyClient,updateAgencyClientResourceRequestStatus:e.agencyClient.updateAgencyClientResource.status,updateAgencyClientResourceRequestMessage:e.agencyClient.updateAgencyClientResource.message,updateAgencyClientResourceRequestError:e.agencyClient.updateAgencyClientResource.error,sequenceDetails:e.sequence.sequence})),At);var Tt=Object(c.j)(Lt(Nt));function wt(e){let{data:t}=e;return Object(u.jsxs)("table",{className:"w-full esp-matching-table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"esp-matching-table--head",children:"Email Service Provider"}),Object(u.jsx)("th",{className:"esp-matching-table--head",children:"Sender Accounts"}),Object(u.jsx)("th",{className:"esp-matching-table--head",children:"Total Sending Limit"}),Object(u.jsx)("th",{className:"esp-matching-table--head",children:"Prospects"})]})}),Object(u.jsx)("tbody",{children:t.map(((e,t)=>Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"esp-matching-table--data",children:Object(u.jsxs)("div",{className:"esp-matching-table--data-with-icon",children:[Object(u.jsx)("span",{children:e.esp.icon&&e.esp.icon}),Object(u.jsx)("span",{children:e.esp.name})]})}),Object(u.jsx)("td",{className:"esp-matching-table--data",children:e.senderAccounts}),Object(u.jsx)("td",{className:"esp-matching-table--data",children:e.sendingLimit}),Object(u.jsxs)("td",{className:"esp-matching-table--data",children:[Object(u.jsx)("span",{children:e.prospects.count.toLocaleString()})," ",e.prospects.percentage&&Object(u.jsxs)("span",{children:[" (",e.prospects.percentage,"%)"]})]})]},t)))})]})}var Pt=s(893),It=s(892),kt=s(359);var Mt=e=>{let{getSequenceConfigRequestStatus:t,settings:s,onSaveRef:c,sequenceId:l,getSequenceConfig:r,updateSequenceSettingsRequestStatus:d,resetSequenceSettingUpdateRequestStatus:m,sendGetSequenceRequest:O,sendGetEspMatchingDetails:h,getEspMatchingDetailsStatus:S,espMatchingDetails:q,removeConnectedEmailAccountRequestStatus:x,linkEmailAccountsRequestStatus:f}=e;const{t:R}=Object(o.b)(),E=Object(i.useDispatch)(),[C,N]=Object(a.useState)(!1),[y,_]=Object(a.useState)([]),A=null===s||void 0===s?void 0:s.find((e=>e.code===X.x.ESP_MATCHING)),L=Object(U.c)(S);Object(a.useEffect)((()=>{Object(D.b)({status:t,onSuccess:()=>{const e=Boolean("1"===(null===A||void 0===A?void 0:A.value));N(e)}})}),[t]);const T=(e,t)=>{var s,n,c;const i=((null===t||void 0===t||null===(s=t.Microsoft)||void 0===s?void 0:s.totalProspects)||0)+((null===t||void 0===t||null===(n=t.Google)||void 0===n?void 0:n.totalProspects)||0)+((null===t||void 0===t||null===(c=t.Other)||void 0===c?void 0:c.totalProspects)||0);if(0===i||0===e)return"-";return(e/i*100).toFixed(2)},w=e=>{(async e=>{const t={settings:[{code:X.x.ESP_MATCHING,value:e?"1":"0"}]};c.current="EspMatchingSettings",await E(Object(b.Jb)(Object(n.a)({sequenceId:l},t)))})(e),N(e)},P=g()(["esp-matching-switch-wrapper",{disabled:!C}]);Object(a.useEffect)((()=>{Object(D.b)({status:S,onSuccess:()=>{var e,t,s,n,c,i,a,l,o,r,d,b;const j=[(null===q||void 0===q?void 0:q.Microsoft)&&{esp:{name:"Microsoft",icon:Object(u.jsx)(Pt.a,{width:14,height:14})},senderAccounts:(null===q||void 0===q||null===(e=q.Microsoft)||void 0===e?void 0:e.totalSenderAccounts)||"-",sendingLimit:null!=(null===q||void 0===q||null===(t=q.Microsoft)||void 0===t?void 0:t.totalDailySendingLimit)&&0!==(null===q||void 0===q||null===(s=q.Microsoft)||void 0===s?void 0:s.totalDailySendingLimit)?"".concat(q.Microsoft.totalDailySendingLimit,"/day"):"-",prospects:(null===q||void 0===q||null===(n=q.Microsoft)||void 0===n?void 0:n.totalProspects)?{count:q.Microsoft.totalProspects,percentage:T(q.Microsoft.totalProspects,q)}:{count:"-",percentage:""}},(null===q||void 0===q?void 0:q.Google)&&{esp:{name:"Google Workspace",icon:Object(u.jsx)(It.a,{width:14,height:14})},senderAccounts:(null===q||void 0===q||null===(c=q.Google)||void 0===c?void 0:c.totalSenderAccounts)||"-",sendingLimit:null!=(null===q||void 0===q||null===(i=q.Google)||void 0===i?void 0:i.totalDailySendingLimit)&&0!==(null===q||void 0===q||null===(a=q.Google)||void 0===a?void 0:a.totalDailySendingLimit)?"".concat(q.Google.totalDailySendingLimit,"/day"):"-",prospects:(null===q||void 0===q||null===(l=q.Google)||void 0===l?void 0:l.totalProspects)?{count:q.Google.totalProspects,percentage:T(q.Google.totalProspects,q)}:{count:"-",percentage:""}},(null===q||void 0===q?void 0:q.Other)&&{esp:{name:"Other",icon:Object(u.jsx)(kt.a,{width:14,height:14})},senderAccounts:(null===q||void 0===q||null===(o=q.Other)||void 0===o?void 0:o.totalSenderAccounts)||"-",sendingLimit:null!=(null===q||void 0===q||null===(r=q.Other)||void 0===r?void 0:r.totalDailySendingLimit)&&0!==(null===q||void 0===q||null===(d=q.Other)||void 0===d?void 0:d.totalDailySendingLimit)?"".concat(q.Other.totalDailySendingLimit,"/day"):"-",prospects:(null===q||void 0===q||null===(b=q.Other)||void 0===b?void 0:b.totalProspects)?{count:q.Other.totalProspects,percentage:T(q.Other.totalProspects,q)}:{count:"-",percentage:""}}];_(j||[])},onFailed:()=>{_([])}})}),[S]),Object(a.useEffect)((()=>{"EspMatchingSettings"===c.current&&Object(D.b)({status:d,onSuccess:()=>{O(parseInt(l,10)),r(),V.d.success(R("messages.esp_matching_update_success"),{theme:V.a.New}),m(),c.current=""},onFailed:()=>{V.d.error(R("messages.esp_matching_update_fail"),{theme:V.a.New}),c.current=""}})}),[d]),Object(a.useEffect)((()=>{Object(D.b)({status:x,onSuccess:()=>{h(parseInt(l,10))}})}),[x]),Object(a.useEffect)((()=>{Object(D.b)({status:f,onSuccess:()=>{h(parseInt(l,10))}})}),[f]);return Object(u.jsx)("div",{className:"card",children:Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsxs)("div",{className:"d-flex flex-row align-items-center",children:[Object(u.jsx)("span",{className:"sequence-setting-title",children:"Email Service Provider (ESP) Matching"}),Object(u.jsx)(v.c,{placement:v.d.Bottom,text:"Improves email deliverability for Google & Microsoft accounts. Increases inbox placement by using the same email provider as your prospects. Helps build a positive sender reputation and avoid spam filters.",className:"tooltip-mdd",children:Object(u.jsx)(p.Mb,{className:"esp-matching-tooltip-icon"})})]}),Object(u.jsx)("div",{className:P,children:(e=>{let{checked:t,onChange:s,label:n,disabled:c,tooltip:i=""}=e;const a=Object(u.jsx)(he.a,{checked:t,onChange:e=>s(e),label:n,size:re.a.Small,disabled:c,className:"sequence-settings-switch sequence-setting-tab-switch"});return c&&i?Object(u.jsx)(v.c,{text:i,placement:v.d.BottomStart,className:"tooltip-max",children:Object(u.jsx)("div",{className:"toggle-wrapper",children:a})}):a})({checked:C,onChange:e=>w(e),label:"Automatically match sender ESP with prospect's ESP",disabled:!1,tooltip:"You cannot modify this setting right now."})}),L&&Object(u.jsxs)("table",{className:"w-full esp-matching-table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"esp-matching-table--head",children:Object(u.jsx)(j.l,{width:30,height:16})}),Object(u.jsx)("th",{className:"esp-matching-table--head",children:Object(u.jsx)(j.l,{width:102,height:16})}),Object(u.jsx)("th",{className:"esp-matching-table--head",children:Object(u.jsx)(j.l,{width:111,height:16})}),Object(u.jsx)("th",{className:"esp-matching-table--head",children:Object(u.jsx)(j.l,{width:87,height:16})})]})}),Object(u.jsx)("tbody",{children:[{icon:{width:14,height:14},text:{width:55,height:20},column2:{width:35,height:20},column3:{width:40,height:20},column4:{width:40,height:20}},{icon:{width:14,height:14},text:{width:109,height:20},column2:{width:40,height:20},column3:{width:30,height:20},column4:{width:50,height:20}},{icon:{width:14,height:14},text:{width:33,height:20},column2:{width:20,height:20},column3:{width:60,height:20},column4:{width:50,height:20}}].map(((e,t)=>Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"esp-matching-table--data",children:Object(u.jsxs)("div",{className:"esp-matching-table--data-with-icon",children:[Object(u.jsx)("div",{children:Object(u.jsx)(j.l,{width:e.icon.width,height:e.icon.height})}),Object(u.jsx)("div",{children:Object(u.jsx)(j.l,{width:e.text.width,height:e.text.height})})]})}),Object(u.jsx)("td",{className:"esp-matching-table--data",children:Object(u.jsx)(j.l,{width:e.column2.width,height:e.column2.height})}),Object(u.jsx)("td",{className:"esp-matching-table--data",children:Object(u.jsx)(j.l,{width:e.column3.width,height:e.column3.height})}),Object(u.jsx)("td",{className:"esp-matching-table--data",children:Object(u.jsx)("span",{children:Object(u.jsx)(j.l,{width:e.column4.width,height:e.column4.height})})})]},"skeleton-row-".concat(t))))})]}),!L&&0!==y.length&&Object(u.jsx)(wt,{data:y})]})})};const Ut={resetSequenceSettingUpdateRequestStatus:()=>Object(O.bb)(),sendGetSequenceRequest:e=>Object(b.Y)(e),sendGetEspMatchingDetails:e=>Object(b.H)(e)},Dt=Object(i.connect)((e=>{var t;return{settings:null===(t=e.sequence.sequenceConfig)||void 0===t?void 0:t.settings,getSequenceConfigRequestStatus:e.sequence.getSequenceConfigRequest.status,updateSequenceSettingsRequestStatus:e.sequence.updateSequenceSettingsRequest.status,espMatchingDetails:e.sequence.espMatchingDetails,getEspMatchingDetailsStatus:e.sequence.getEspMatchingDetailsRequest.status,getEspMatchingDetailsMessage:e.sequence.getEspMatchingDetailsRequest.message,getEspMatchingDetailsError:e.sequence.getEspMatchingDetailsRequest.error,removeConnectedEmailAccountRequestStatus:e.sequence.removeConnectedEMailAccountRequest.status,linkEmailAccountsRequestStatus:e.sequence.linkEmailToSequenceRequest.status}}),Ut);var Vt=Object(c.j)(Dt(Mt)),Gt=s(83),Bt=s(2103),Ft=s(804),Yt=s(221);const Kt={[Gt.r.Day]:364,[Gt.r.Week]:51,[Gt.r.Month]:11},Ht={[Gt.r.Week]:"The specified range must fall within the 52-week limit.",[Gt.r.Month]:"The repeat interval cannot exceed 12 months.",[Gt.r.Day]:"The repeat interval cannot exceed 365 days."};var Jt=e=>{let{sequenceId:t,disabled:s,onSaveRef:c,getSequenceConfig:i,settings:l,updateSequenceSettingsRequestStatus:o,updateSequenceSettingsRequestMessage:r,updateSequenceSettingsRequestError:d,sequenceStatsCounts:b,sequenceProgress:m,sendUpdateSequenceSettingsRequest:O,resetSequenceSettingUpdateRequestStatus:h,sendGetSequenceRequest:S}=e;const q=Object(a.useMemo)((()=>Object(A.D)()),[A.D]),x=Object(a.useMemo)((()=>{var e;const t=null===l||void 0===l||null===(e=l.find((e=>e.code===X.x.SEQUENCE_PROSPECT_ENROLLMENT_LIMIT)))||void 0===e?void 0:e.value;return(null===t||void 0===t?void 0:t.length)?parseInt(t,10):0}),[l]),R=Object(a.useMemo)((()=>{var e;const t=null===l||void 0===l||null===(e=l.find((e=>e.code===X.x.SEQUENCE_PROSPECT_ENROLLMENT_RECURRENCE)))||void 0===e?void 0:e.value;return t?JSON.parse(t):{interval:1,unit:Gt.r.Day}}),[l]),E=Object(a.useMemo)((()=>{var e;const t=null===l||void 0===l||null===(e=l.find((e=>e.code===X.x.SEQUENCE_PROSPECT_ENROLLMENT_WHEN_TO_ENROLL)))||void 0===e?void 0:e.value;return t?Object(Yt.a)(t,q||""):null}),[l]),C=Object(a.useMemo)((()=>Object(f.K)(q).split("(")),[q]),N=Object(a.useMemo)((()=>"(".concat(C[0]," - ").concat(C[1])),[C]),[y,_]=Object(a.useState)({toggleEnrollment:x>0,enrollmentLimit:x,enrollmentRecurrence:R,isLoading:!1,enrollmentRecurrenceError:"",enrollmentLimitError:"",isAlertModalVisible:!1}),L=Object(a.useRef)(!1),T=Object(a.useMemo)((()=>Object(Bt.g)()),[]),w=Object(a.useCallback)((e=>{const t=e>1e4?"Enrollment limit cannot exceed 10,000 prospects.":"";_((e=>Object(n.a)(Object(n.a)({},e),{},{enrollmentLimitError:t})))}),[]),P=Object(a.useCallback)(((e,t)=>{const s=e>Kt[t]?Ht[t]:"";_((e=>Object(n.a)(Object(n.a)({},e),{},{enrollmentRecurrenceError:s})))}),[]),I=Object(a.useMemo)((()=>m===X.s.Active),[m]),k=Object(a.useMemo)((()=>y.toggleEnrollment&&y.enrollmentLimit>0&&y.enrollmentRecurrence.interval>0&&y.enrollmentRecurrence.unit&&!y.enrollmentRecurrenceError&&!y.enrollmentLimitError),[y]),M=Object(a.useCallback)((e=>{L.current=!0,_(e?t=>Object(n.a)(Object(n.a)({},t),{},{toggleEnrollment:e,enrollmentLimit:20}):x>0?e=>Object(n.a)(Object(n.a)({},e),{},{isAlertModalVisible:!0}):t=>Object(n.a)(Object(n.a)({},t),{},{toggleEnrollment:e,enrollmentLimit:x,enrollmentRecurrence:R,isLoading:!1,enrollmentRecurrenceError:"",enrollmentLimitError:"",isAlertModalVisible:!1}))}),[x,R]),U=Object(a.useCallback)((()=>{_((e=>Object(n.a)(Object(n.a)({},e),{},{isLoading:!0}))),c.current="SequenceEnrollmentSettings",O(t,{settings:[{code:X.x.SEQUENCE_PROSPECT_ENROLLMENT_LIMIT,value:""}]})}),[t,O,c]),D=Object(a.useCallback)((e=>{L.current=!0;const t=Number(e);!Number.isNaN(t)&&t>=0&&(_((e=>Object(n.a)(Object(n.a)({},e),{},{enrollmentLimit:t}))),w(t))}),[w]),G=Object(a.useCallback)((e=>{L.current=!0;const t=Number(e);!Number.isNaN(t)&&t>=0&&(_((e=>Object(n.a)(Object(n.a)({},e),{},{enrollmentRecurrence:Object(n.a)(Object(n.a)({},e.enrollmentRecurrence),{},{interval:t})}))),y.enrollmentRecurrence.unit&&P(t,y.enrollmentRecurrence.unit))}),[y.enrollmentRecurrence.unit,P]),B=Object(a.useCallback)((e=>{let[t]=e;L.current=!0,_((e=>Object(n.a)(Object(n.a)({},e),{},{enrollmentRecurrence:Object(n.a)(Object(n.a)({},e.enrollmentRecurrence),{},{unit:null===t||void 0===t?void 0:t.key})}))),(null===t||void 0===t?void 0:t.key)&&P(y.enrollmentRecurrence.interval,t.key)}),[P,y.enrollmentRecurrence.interval]),F=Object(a.useCallback)((()=>{k&&(_((e=>Object(n.a)(Object(n.a)({},e),{},{isLoading:!0}))),c.current="SequenceEnrollmentSettings",O(t,{settings:[{code:X.x.SEQUENCE_PROSPECT_ENROLLMENT_LIMIT,value:y.enrollmentLimit.toString()},{code:X.x.SEQUENCE_PROSPECT_ENROLLMENT_RECURRENCE,value:JSON.stringify(y.enrollmentRecurrence)}]}))}),[t,y.enrollmentLimit,y.enrollmentRecurrence,k,O,c]),Y=e=>{"."!==e.key&&"+"!==e.key&&"-"!==e.key&&"e"!==e.key||e.preventDefault()};Object(a.useEffect)((()=>{const e=x>0;_((t=>Object(n.a)(Object(n.a)({},t),{},{toggleEnrollment:e,enrollmentLimit:x,enrollmentRecurrence:R}))),L.current=!1,w(x),P(R.interval,R.unit)}),[x,R,w,P]),Object(a.useEffect)((()=>{y.enrollmentLimit>0&&w(y.enrollmentLimit)}),[y.enrollmentLimit,w]),Object(a.useEffect)((()=>{y.enrollmentRecurrence.unit&&y.enrollmentRecurrence.interval>0&&P(y.enrollmentRecurrence.interval,y.enrollmentRecurrence.unit)}),[y.enrollmentRecurrence.unit,y.enrollmentRecurrence.interval,P]),Object(a.useEffect)((()=>{"SequenceEnrollmentSettings"===c.current&&Object(f.p)({status:o,onSuccess:async()=>{_((e=>Object(n.a)(Object(n.a)({},e),{},{isAlertModalVisible:!1,isLoading:!1}))),S(parseInt(t,10)),i(),V.d.success(r,{theme:V.a.New}),h(),c.current="",L.current=!1},onFailed:()=>{_((e=>Object(n.a)(Object(n.a)({},e),{},{isAlertModalVisible:!1,isLoading:!1}))),Object(f.o)({error:d,onError:()=>{V.d.error(r,{theme:V.a.New})}}),h(),c.current=""}})}),[o,r,d,t,S,i,h,c]);const K=Object(a.useCallback)((e=>{let{checked:t,onChange:s,label:n,switchDisabled:c,tooltip:i=""}=e;const a=Object(u.jsx)(he.a,{checked:t,onChange:e=>s(e),label:n,size:rt.a.Small,disabled:c,className:g()(["sequence-settings-switch sequence-setting-tab-switch",{disabled:c}])});return c&&i?Object(u.jsx)(v.c,{text:i,placement:v.d.BottomStart,className:"tooltip-max",children:Object(u.jsx)("div",{className:"toggle-wrapper",children:a})}):a}),[]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"card",children:Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsxs)("div",{className:"d-flex flex-column",children:[Object(u.jsx)("span",{className:"sequence-setting-title",children:"Prospect Enrollment"}),Object(u.jsx)("span",{className:"sequence-setting-description",children:"Control when and how new prospects are added to step 1 of an active sequence based on defined limits and recurrence."})]}),Object(u.jsxs)("div",{className:"mt-4 enrollment-settings-container",children:[K({checked:y.toggleEnrollment,onChange:e=>M(e),label:"Limit new prospect enrollment in step 1",switchDisabled:s,tooltip:(null===b||void 0===b?void 0:b.stepCount)>0?"":"You must have at least one step in your sequence to enable prospect enrollment settings."}),Object(u.jsxs)("div",{className:"d-flex flex-column flex-md-row gap-24 mt-2",children:[Object(u.jsxs)("div",{className:"enrollment-settings-limit",children:[Object(u.jsx)("span",{className:"enrollment-settings-limit-label",children:"No. of New Prospects"}),Object(u.jsx)(Ae.a,{size:Ae.a.Size.Medium,min:0,max:1e4,value:y.enrollmentLimit||"",onChange:D,variant:y.enrollmentLimitError&&Ae.a.Variant.Error,disabled:!y.toggleEnrollment||s,onKeyPress:Y})]}),Object(u.jsxs)("div",{className:"enrollment-settings-recurrence",children:[Object(u.jsx)("span",{className:"enrollment-settings-recurrence-title",children:"Frequency"}),Object(u.jsxs)("div",{className:"enrollment-settings-recurrence-input",children:[Object(u.jsx)("span",{className:"enrollment-settings-recurrence-label",children:"Every"}),Object(u.jsx)(Ae.a,{size:Ae.a.Size.Medium,min:0,value:y.enrollmentRecurrence.interval||"",onChange:G,variant:y.enrollmentRecurrenceError&&Ae.a.Variant.Error,disabled:!y.toggleEnrollment||s,onKeyPress:Y}),Object(u.jsx)(ee.a,{options:T,selectedOptionKey:y.enrollmentRecurrence.unit,optionRenderer:e=>Object(u.jsx)("span",{children:null===e||void 0===e?void 0:e.name}),showOptionsSeparator:!0,selectedOptionRenderer:e=>{let[t]=e;return Object(u.jsx)("span",{children:null===t||void 0===t?void 0:t.name})},onChange:B,className:"schedule-select",placeholder:"Select Schedule ",disabled:!y.toggleEnrollment||s})]})]})]}),y.enrollmentLimitError&&Object(u.jsx)("span",{className:"input-text-error",children:y.enrollmentLimitError}),y.enrollmentRecurrenceError&&Object(u.jsx)("span",{className:"input-text-error",children:y.enrollmentRecurrenceError}),E&&I&&Object(u.jsx)("div",{className:"mt-3",children:Object(u.jsx)(Ft.a,{description:Object(u.jsxs)("span",{className:"d-flex align-items-center gap-4",children:[Object(u.jsx)(p.c,{}),Object(u.jsxs)("span",{children:["Next enrollment on: ",E," ",N]})]}),variant:"info",className:"enrollment-settings-alert"})})]}),Object(u.jsx)("div",{className:"mt-4",children:Object(u.jsx)(j.d,{variant:"primary",onClick:F,isLoading:y.isLoading,disabled:y.isLoading||!L.current||!k,loadingText:"Saving...",children:"Save"})})]})}),Object(u.jsx)(Ke.a,{show:y.isAlertModalVisible,title:"Turn Off Enrollment Setting?",iconType:He.a.INFO_CIRCLE_YELLOW,contents:["Disabling the enrollment setting will stop automatic prospect enrollment into step 1. All pending prospects will be enrolled and added right away.","Do you want to continue?"],onClose:()=>_((e=>Object(n.a)(Object(n.a)({},e),{},{isAlertModalVisible:!1}))),onSubmit:U,submitButtonText:"Yes",cancelButtonText:"No",isSubmitLoading:y.isLoading,isSubmitDisabled:y.isLoading})]})};var Xt=e=>{var t,s;const c=Object(i.useDispatch)(),l=Object(i.useSelector)((e=>e.sequence)),o=Object(a.useMemo)((()=>{var e;return null===l||void 0===l||null===(e=l.sequenceConfig)||void 0===e?void 0:e.settings}),[null===l||void 0===l||null===(t=l.sequenceConfig)||void 0===t?void 0:t.settings]),r=Object(a.useMemo)((()=>null===l||void 0===l?void 0:l.getSequenceConfigRequest.status),[l.getSequenceConfigRequest.status]),d=Object(a.useMemo)((()=>null===l||void 0===l?void 0:l.updateSequenceSettingsRequest.status),[l.updateSequenceSettingsRequest.status]),j=Object(a.useMemo)((()=>null===l||void 0===l?void 0:l.updateSequenceSettingsRequest.message),[l.updateSequenceSettingsRequest.message]),m=Object(a.useMemo)((()=>null===l||void 0===l?void 0:l.updateSequenceSettingsRequest.error),[l.updateSequenceSettingsRequest.error]),g=Object(a.useMemo)((()=>null===l||void 0===l?void 0:l.sequenceStatsCounts),[l.sequenceStatsCounts]),h=Object(a.useMemo)((()=>{var e;return null===l||void 0===l||null===(e=l.sequence)||void 0===e?void 0:e.progress}),[null===(s=l.sequence)||void 0===s?void 0:s.progress]),S=Object(a.useCallback)(((e,t)=>{c(Object(b.Jb)(Object(n.a)({sequenceId:e},t)))}),[c]),p=Object(a.useCallback)((()=>{c(Object(O.Q)())}),[c]),v=Object(a.useCallback)((()=>{c(Object(O.bb)())}),[c]),q=Object(a.useCallback)((e=>{c(Object(b.Y)(e))}),[c]),x=Object(a.useMemo)((()=>Object(n.a)(Object(n.a)({},e),{},{settings:o,getSequenceConfigRequestStatus:r,updateSequenceSettingsRequestStatus:d,updateSequenceSettingsRequestMessage:j,updateSequenceSettingsRequestError:m,sequenceStatsCounts:g,sendUpdateSequenceSettingsRequest:S,resetSequenceConfigRequestStatus:p,resetSequenceSettingUpdateRequestStatus:v,sendGetSequenceRequest:q,sequenceProgress:h})),[e,o,r,d,j,m,g,S,p,v,q,h]);return Object(u.jsx)(Jt,Object(n.a)({},x))};var Qt=e=>{let{sequenceId:t,tabId:s,getAllNotLinkedEmailAccounts:n,linkedEmailAccounts:i,linkEmailToSequence:l,getLinkedEmailAccountsRequestStatus:o,linkEmailAccountsRequestStatus:r,linkEmailToSequenceRequestMessage:d,getNotLinkedEmailAccountsCount:b,postLoadMetaResponse:m,sendGetLinkedEmailAccounts:O,onSeeMore:h,getSequenceConfig:S,sequenceStatsCounts:p}=e;const q=Object(c.g)(),x=Object(c.i)(),f=Object(a.useRef)(""),[R,E]=Object(a.useState)(!1),[C,N]=Object(a.useState)(""),[T,w]=Object(a.useState)([]),[P,I]=Object(a.useState)([]),[k,M]=Object(a.useState)(!1),[G,B]=Object(a.useState)(1),F=i.filter((e=>e.status===L.b.Active)).length,K=()=>{m&&(null===m||void 0===m?void 0:m.featureLimits)&&null!==m.featureLimits["SEQUENCE.EMAIL_ACCOUNT"]&&i.length>=m.featureLimits["SEQUENCE.EMAIL_ACCOUNT"]?M(!0):(E(!0),n(t,T,C,G,P),b(t,C,T,P))},H=()=>{B(1),E(!1)};Object(a.useEffect)((()=>{O(t,1)}),[]),Object(a.useEffect)((()=>{const e=new URLSearchParams(q.location.search||"");"true"===e.get("linkEmailAccount")&&K(),e.delete("linkEmailAccount"),q.push({search:e.toString()})}),[x.activeTab]),Object(a.useEffect)((()=>{Object(D.b)({status:r,onSuccess:()=>{H(),V.d.success(d,{theme:V.a.New})},onFailed:()=>{H(),V.d.error(d,{theme:V.a.New})}})}),[r]);const J=g()([{"green-txt-13":F>1,"gray-txt-11 ":F<=1}]),X=g()([{"green-13":F>1,"gray-11":F<=1}]),Q=!Object(y.a)(_.a.SEQUENCE_SETTING_UPDATE);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{children:[Object(y.a)(_.a.CLIENT_READ)&&Object(A.J)()&&Object(u.jsx)("div",{className:"",id:"associate-client",children:Object(u.jsx)(Tt,{sequenceId:t,onSaveRef:f,getSequenceConfig:S})}),Object(u.jsx)("div",{className:"card mt-4",id:"email-accounts",children:Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(u.jsxs)("div",{className:"d-flex flex-column",children:[Object(u.jsxs)("span",{className:"sequence-setting-title d-flex align-items-center",children:["Email Accounts",Object(u.jsx)(v.c,{text:F>1?"Sender Rotation is Active! Your outreach is scaled up. Well done! ":"Sender Rotation is Inactive. Add two email accounts to a sequence to enable it. It's your move!",children:Object(u.jsxs)("span",{className:"sender_rotation_heading modal-text d-flex justify-content-center align-items-center font-semibold ".concat(J),children:[Object(u.jsx)("span",{className:"sender_rotation_heading_dot d-inline-block ".concat(X)}),"Sender Rotation"]})})]}),Object(u.jsx)("span",{className:"sequence-setting-description",children:F>1?"Add more email accounts to make most of sender rotation":"Add two or more active email accounts to enable sender rotation"})]}),0!==i.length&&Object(y.a)(_.a.SEQUENCE_SETTING_EMAIL_ACCOUNT_UPDATE)&&Object(u.jsx)(j.d,{variant:"link",onClick:K,children:"+ Add more email accounts"})]}),Object(u.jsx)(Y,{sequenceId:t,onSeeMore:h,disabled:Q,onSaveRef:f,getSequenceConfig:S}),0===i.length&&!Object(U.c)(o)&&Object(u.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(u.jsx)("span",{className:"semibold-2 popover-arrow-color-txt",children:"No email account added"}),Object(u.jsx)("span",{className:"regular-2 gray-txt-15 mt-2",children:"Add email account to activate this sequence and send emails."}),Object(y.a)(_.a.SEQUENCE_SETTING_EMAIL_ACCOUNT_UPDATE)&&Object(u.jsx)(j.d,{id:ft.a.ConnectEmailAccountToSequence,variant:"secondary",className:"bs-mt-20",onClick:K,children:"Add email account"})]})]})}),Object(u.jsx)("div",{className:"mt-4",id:"esp-matching",children:Object(u.jsx)(Vt,{sequenceId:t,disabled:Q,onSaveRef:f,getSequenceConfig:S})}),Object(u.jsx)("div",{className:"mt-4",id:"schedule-settings",children:Object(u.jsx)(ae,{sequenceId:t,disabled:Q,onSaveRef:f,getSequenceConfig:S})}),Object(A.M)()&&Object(u.jsx)("div",{className:"mt-4",id:"enrollment-settings",children:Object(u.jsx)(Xt,{sequenceId:t,disabled:Q||!((null===p||void 0===p?void 0:p.stepCount)>0),onSaveRef:f,getSequenceConfig:S})}),Object(u.jsx)("div",{className:"mt-4",id:"safety-settings",children:Object(u.jsx)(We,{sequenceId:t,disabled:Q,onSaveRef:f,getSequenceConfig:S})}),Object(u.jsx)("div",{className:"mt-4",id:"sending_priority",children:Object(u.jsx)(et,{sequenceId:t,disabled:Q,onSaveRef:f,getSequenceConfig:S})}),Object(u.jsx)("div",{className:"mt-4",id:"average-deal-value-settings",children:Object(u.jsx)(Ie,{sequenceId:t,disabled:Q,onSaveRef:f,getSequenceConfig:S})}),Object(u.jsx)("div",{className:"mt-4",id:"email-verification",children:Object(u.jsx)(_e,{sequenceId:t,tabId:s,disabled:Q,onSaveRef:f,getSequenceConfig:S})}),Object(u.jsx)("div",{className:"mt-4",id:"cc-bcc-settings",children:Object(u.jsx)($,{sequenceId:t,disabled:Q,onSaveRef:f,getSequenceConfig:S})}),Object(u.jsx)("div",{className:"mt-4 pb-5",id:"unsubscribe",children:Object(u.jsx)(qt,{sequenceId:t,disabled:Q,onSaveRef:f,getSequenceConfig:S})})]}),Object(u.jsx)(tt.a,{show:R,search:C,currentPage:G,onSearchChange:e=>(e=>N(e))(e),onClientIdsChange:e=>(e=>{w(e),n(t,e,C,G,P),b(t,C,e,P)})(e),selectedClientIds:T,onClearSearch:()=>{N(""),n(t,T,"",G,P),b(t,"",T,P)},onSearch:()=>{n(t,T,C,G,P),b(t,C,T,P)},onPageChange:e=>{B(e),n(t,T,C,e,P)},onClose:H,onSubmit:e=>{l(t,e)},onTagIdsChange:e=>(e=>{B(1),I(e),n(t,T,C,1,e),b(t,C,T,e)})(e),selectedTagIds:P}),k&&Object(u.jsx)(xt.a,{show:k,modalTitle:"Upgrade your plan to add more email accounts",bodyContent:["Please upgrade to higher plans to add more email accounts to the sequence."],emailBody:"Your current plan allows you to add one email account in a sequence.",onClose:()=>M(!1)})]})};const Wt={sendGetLinkedEmailAccounts:(e,t)=>Object(b.I)({sequenceId:e,pageNum:t}),getAllNotLinkedEmailAccounts:(e,t,s,n,c)=>Object(b.A)({sequenceId:e,clientIds:t,search:s,pageNum:n,tagIds:c}),linkEmailToSequence:(e,t)=>Object(b.rb)({sequenceId:e,emailAccountIds:t}),getNotLinkedEmailAccountsCount:(e,t,s,n)=>Object(b.K)({sequenceId:e,search:t,clientIds:s,tagIds:n})},zt=Object(i.connect)((e=>{var t,s;return{linkedEmailAccounts:(null===(t=e.sequence.getLinkedEmailAccountsResponse)||void 0===t?void 0:t.responseWithActiveSequences)||[],getLinkedEmailAccountsRequestStatus:e.sequence.getLinkedEmailAccountsRequest.status,linkEmailAccountsRequestStatus:e.sequence.linkEmailToSequenceRequest.status,linkEmailToSequenceRequestMessage:e.sequence.linkEmailToSequenceRequest.message,postLoadMetaResponse:e.home.getPostLoadMetaResponse,isOwnSequence:null===(s=e.sequence.sequence)||void 0===s?void 0:s.isOwnSequence,allowInboxRotation:e.home.allowInboxRotation,sequenceStatsCounts:e.sequence.sequenceStatsCounts}}),Wt);var Zt=Object(c.j)(zt(Qt));var $t=e=>{let{sequenceId:t,id:s,getSequencePriorityConfigRequest:n,resetSequenceProspectVerifyStart:i,resetSequenceSettingsContentRequest:l,getSequenceConfig:o}=e;const r=Object(c.g)(),{search:b}=Object(c.h)(),j=new URLSearchParams(b),m="average-deal-value-settings"===j.get("tab"),g=Object(c.i)(),[O,h]=Object(a.useState)(0),[S,p]=Object(a.useState)(Object(y.a)(_.a.CLIENT_READ)&&Object(A.J)()?"Associate Client":"Email Account"),[v,q]=Object(a.useState)(!0),x=e=>{q(!1);const s=document.getElementById(e);s&&s.scrollIntoView({behavior:"smooth"});j.get("tab")===e||(j.delete("tab"),r.push({pathname:"/sequence/".concat(t,"/settings"),search:j.toString()})),setTimeout((()=>{q(!0)}),1e3)},f=Object(a.useMemo)((()=>Object(A.M)()),[]);return Object(a.useEffect)((()=>{m&&(x(j.get("tab")),p("Deal Value"))}),[j]),Object(a.useEffect)((()=>{i(),l()}),[s,g.activeTab]),Object(a.useEffect)((()=>{n(t)}),[]),Object(u.jsxs)("div",{className:"settings-content d-flex h-100",children:[Object(u.jsx)("div",{className:"settings-content__left-container",children:Object(u.jsx)(d,{scrollIntoView:e=>x(e),activeSidebarLabel:S,isAgency:Object(y.a)(_.a.CLIENT_READ)&&Object(A.J)(),isProspectEnrollmentEnabled:f})}),Object(u.jsx)("div",{id:"scrollDiv",className:"settings-content__right-container w-100 ml-4",onScroll:()=>{const e=document.getElementById("scrollDiv").scrollTop-O,t=Object(y.a)(_.a.CLIENT_READ)&&Object(A.J)(),s=Object(T.b)(t,f);if(v){if(s.unsubscribeOptions<=e)return void p("Unsubscribe");if(s.ccBcc<=e)return void p("Cc & Bcc");if(s.verificationSettings<=e)return void p("Email Verification");if(s.dealValueSetting<=e)return void p("Deal Value");if(s.prioritySetting<=e)return void p("Sending Priority");if(s.safetySettings<=e)return void p("Safety Settings");if(f&&"enrollmentSettings"in s&&s.enrollmentSettings<=e)return void p("Prospect Enrollment");if(s.scheduleSettings<=e)return void p("Sending Schedule");if(s.espMatching<=e)return void p("ESP Matching");if(s.emailAccount<=e)return void p("Email Account");s.associateClient<=e&&p("Associate Client")}},children:Object(u.jsx)(Zt,{sequenceId:t,tabId:s,onSeeMore:e=>(e=>{e>1&&h(69*(e-1))})(e),getSequenceConfig:o})})]})};const es={sendGetCustomDomainsRequest:()=>Object(b.G)(),resetSequenceConfigRequestStatus:()=>Object(O.Q)(),sendGetSequenceProspectVerificationStatsRequest:e=>Object(b.X)(e),sendSequenceProspectVerifyStartRequest:e=>Object(b.Ab)(e),sendPurchaseEmailVerificationCreditsRequest:e=>Object(oe.G)(e),sendGetEmailVerificationCreditsRequest:()=>Object(oe.m)(),sendGetSequenceRequest:e=>Object(b.Y)(e),resetPurchaseEmailVerificationCreditsResponse:()=>Object(le.q)(),resetSequenceSettings:()=>Object(O.cb)(),resetSequenceProspectVerifyStart:()=>Object(O.Z)(),resetSequenceSettingUpdateRequestStatus:()=>Object(O.bb)(),resetSequenceSettingsContentRequest:()=>Object(O.db)(),getSequencePriorityConfigRequest:e=>Object(b.U)({sequenceId:e})},ts=Object(i.connect)((e=>{var t,s,n,c,i,a,l,o;return{updateSequenceSettingsRequestStatus:e.sequence.updateSequenceSettingsRequest.status,updateSequenceSettingsRequestMessage:e.sequence.updateSequenceSettingsRequest.message,updateSequenceSettingsRequestError:e.sequence.updateSequenceSettingsRequest.error,getConnectedEmailsRequestStatus:e.sequence.getConnectedEmailsRequest.status,getScheduleRequestStatus:e.sequence.getSchedulesRequest.status,getCustomDomainsRequestStatus:e.sequence.getCustomDomainsRequest.status,settings:null===(t=e.sequence.sequenceConfig)||void 0===t?void 0:t.settings,schedules:e.sequence.schedules,connectedEmails:e.sequence.connectedEmails,defaultConnectedEmailId:(null===(s=e.sequence.sequenceConfig)||void 0===s?void 0:s.emailAccount)?null===(n=e.sequence.sequenceConfig)||void 0===n||null===(c=n.emailAccount)||void 0===c?void 0:c.id:void 0,emailAccount:null===(i=e.sequence.sequenceConfig)||void 0===i?void 0:i.emailAccount,defaultSequenceScheduleId:null===(a=e.sequence.sequenceConfig)||void 0===a||null===(l=a.schedule)||void 0===l?void 0:l.id,pageHeaderBannerMessage:e.pageHeader.message,ctaURL:e.pageHeader.CTAUrl,ctaText:e.pageHeader.CTAText,subscriptionDetails:e.home.subscription,target:e.pageHeader.target,customDomains:e.sequence.customDomains,getSequenceConfigRequestStatus:e.sequence.getSequenceConfigRequest.status,getSequenceProspectVerificationStatsRequestStatus:e.sequence.getSequenceProspectVerificationStatsRequest.status,getSequenceProspectVerificationStatsRequestMessage:e.sequence.getSequenceProspectVerificationStatsRequest.message,sendGetSequenceProspectVerificationStatsResponse:e.sequence.sequenceProspectsVerificationStatsResponse,getEmailVerificationCreditsResponse:e.billingAndSubscription.getEmailVerificationCreditsResponse,getEmailVerificationPlanResponse:e.billingAndSubscription.getEmailVerificationPlanResponse,sendPurchaseEmailVerificationCreditsRequestStatus:e.billingAndSubscription.purchaseEmailVerificationCreditsRequest.status,verifyProspectManuallyRequestStatus:e.prospect.verifyProspectManuallyRequest.status,sendSequenceProspectVerifyStartRequestStatus:e.sequence.sendSequenceProspectVerifyStartRequest.status,sendSequenceProspectVerifyStartRequestMessage:e.sequence.sendSequenceProspectVerifyStartRequest.message,sendGetSequenceProspectVerificationStartResponse:e.sequence.sequenceProspectsVerifyStartResponse,getPurchaseEmailVerificationCreditsResponse:e.billingAndSubscription.purchaseEmailVerificationCreditsResponse,sendPurchaseEmailVerificationCreditsRequestMessage:e.billingAndSubscription.purchaseEmailVerificationCreditsRequest.message,title:null===(o=e.sequence.sequence)||void 0===o?void 0:o.title,agencyConfig:e.home.agencyConfig}}),es);var ss=Object(o.c)()(ts($t));class ns extends l.a.Component{constructor(e){super(e),this.getAgencyClientDetails=()=>{const{sendGetAgencyClientsDropdownRequest:e,sendGetSelectedAgencyClientRequest:t}=this.props,{match:{params:{sequenceId:s}}}=this.props;Object(y.a)(_.a.CLIENT_READ)&&Object(A.J)()&&(e({search:"",status:Et.c.Active}),t({resourceId:s,resourceType:Et.d.Sequence}))},this.getSequenceConfig=()=>{const{match:{params:{sequenceId:e}},sendGetSequenceConfigRequest:t}=this.props;t(e)},this.updateSequenceSettings=e=>{const{match:{params:{sequenceId:t}},sendUpdateSequenceSettingsRequest:s}=this.props;s(t,e)},this.getSequenceConfig=this.getSequenceConfig.bind(this),this.getAgencyClientDetails=this.getAgencyClientDetails.bind(this),this.updateSequenceSettings=this.updateSequenceSettings.bind(this)}componentDidMount(){const{match:{params:{sequenceId:e}},sequenceConfigIsEmpty:t,schedulesIsEmpty:s,sendGetScheduleRequest:n,sendGetConnectedEmailRequest:c,sendGetSequenceProspectVerificationStatsRequest:i}=this.props;c(),s&&n(),t&&this.getSequenceConfig(),this.getAgencyClientDetails(),i(e)}componentWillUnmount(){const{resetSequenceSettings:e}=this.props;e()}render(){const{id:e,match:{params:{sequenceId:t}},isSequenceEmailSending:s,schedulesIsEmpty:n,sequenceConfigIsEmpty:c}=this.props;return c||n?null:Object(u.jsx)(ss,{isSequenceEmailSending:s,getSequenceConfig:this.getSequenceConfig,updateSequenceSettings:this.updateSequenceSettings,sequenceId:t,id:e})}}var cs=ns;const is={sendGetSequenceRequest:e=>Object(b.Y)(e),sendUpdateSequenceSettingsRequest:(e,t)=>Object(b.Jb)(Object(n.a)({sequenceId:e},t)),sendGetScheduleRequest:()=>Object(b.O)(),sendGetConnectedEmailRequest:()=>Object(b.B)(),sendGetSequenceConfigRequest:e=>Object(b.R)({sequenceId:e}),resetSequenceSettings:()=>Object(O.cb)(),sendGetAgencyClientsDropdownRequest:e=>Object(yt.e)(e),sendGetSelectedAgencyClientRequest:e=>Object(yt.g)(e),sendGetSequenceProspectVerificationStatsRequest:e=>Object(b.X)(e)},as=Object(i.connect)((e=>({updateSequenceSettingsRequestStatus:e.sequence.updateSequenceSettingsRequest.status,updateSequenceSettingsRequestMessage:e.sequence.updateSequenceSettingsRequest.message,updateSequenceSettingsRequestError:e.sequence.updateSequenceSettingsRequest.error,getConnectedEmailsRequestStatus:e.sequence.getConnectedEmailsRequest.status,getScheduleRequestStatus:e.sequence.getSchedulesRequest.status,getSequenceConfigRequestStatus:e.sequence.getSequenceConfigRequest.status,sequenceConfigIsEmpty:null===e.sequence.sequenceConfig,schedulesIsEmpty:e.sequence.schedules.length<=0})),is);var ls=Object(c.j)(as(cs))}}]);
//# sourceMappingURL=sequence-single-settings.a60431f3.chunk.js.map