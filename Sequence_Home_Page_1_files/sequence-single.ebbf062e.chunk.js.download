(this["webpackJsonpshv3-reactapp"]=this["webpackJsonpshv3-reactapp"]||[]).push([[25],{2089:function(e,t,s){"use strict";s(1);var n=s(27),a=s(5),c=s(28),i=s(11),l=s(0);t.a=e=>{let{onRefresh:t,iconClass:s="gray-txt-15",isTextVisible:o=!0,showTooltip:d=!1,tooltipText:r="Refresh",tooltipPlacement:u=i.d.Bottom}=e;const{t:b}=Object(n.b)(),j=Object(l.jsx)(c.a,{className:"d-flex justify-content-center action-btn--refresh",theme:c.a.Theme.Ghost,onClick:t,iconLeft:Object(l.jsx)(a.sc,{width:20,height:20,className:s}),children:o&&b("labels.refresh")});return d?Object(l.jsx)(i.c,{placement:u,text:r,children:Object(l.jsx)("div",{children:j})}):j}},2091:function(e,t,s){"use strict";s(1);var n=s(81),a=s(11),c=s(0);t.a=e=>{let{className:t,selectClassName:s,placeholder:i,options:l,optionRenderer:o,selectedOptionKey:d,selectedOptionRenderer:r,onChange:u,isLoading:b=!1,showSearch:j=!1,onKeyDown:h=(()=>null),filterOption:m=(()=>!0),children:p,parentRef:v=null,disabled:g=!1}=e;return Object(c.jsxs)("div",{className:"prospect-filters-select ".concat(t),ref:v,children:[Object(c.jsx)(n.a,{className:"prospect-filters-select-dropdown ".concat(s),options:l,placement:a.d.BottomStart,selectedOptionKey:d,placeholder:i,optionRenderer:e=>o(e),onChange:e=>{let[t]=e;u(t)},selectedOptionRenderer:e=>{let[t]=e;return r(t)},isLoading:b,showSearch:j,autoFocusSearch:j,onKeyDown:h,filterOption:m,disabled:g}),p]})}},2101:function(e,t,s){"use strict";s.d(t,"i",(function(){return j})),s.d(t,"c",(function(){return h})),s.d(t,"f",(function(){return m})),s.d(t,"g",(function(){return p})),s.d(t,"h",(function(){return v})),s.d(t,"e",(function(){return g})),s.d(t,"d",(function(){return O})),s.d(t,"j",(function(){return S})),s.d(t,"b",(function(){return x})),s.d(t,"l",(function(){return q})),s.d(t,"k",(function(){return f})),s.d(t,"a",(function(){return C}));var n=s(2),a=s(46),c=s.n(a),i=s(79),l=s.n(i),o=s(16),d=s(19),r=s(18),u=s(9),b=s(21);const j=e=>"".concat(e("messages.what_is_tentative_date_1")," ").concat(e("messages.what_is_tentative_date_2")),h=(e,t)=>{const s=e.filter((e=>e.id===t))[0],n=s?JSON.parse(s.timeSlots).filter((e=>e.slots.length>0)):[];return{sequenceTimezone:(null===s||void 0===s?void 0:s.timezone)||"",slots:c.a.sortBy(n,["slots","day"])}},m=e=>""===e?o.a.ArrowForward:o.a.GreySend,p=(e,t,s)=>e===u.F.Email&&1===t&&""!==s?"Sending as a new email on":e===u.F.Email&&""===s?"Sending as the same thread on":e===u.F.LinkedInConnectionRequest?"Scheduling Linkedin Connection task on":e===u.F.LinkedInMessage?"Scheduling Linkedin Message task on":e===u.F.LinkedInInMail?"Scheduling Linkedin InMail task on":e===u.F.LinkedInViewProfile?"Scheduling Linkedin View Profile task on":e===u.F.LinkedInPostInteraction?"Scheduling Linkedin Post Interaction task on":e===u.F.Call?"Scheduling Calling task on":e===u.F.WhatsAppMessage?"Scheduling Whatsapp Message task will be due on":e===u.F.WhatsAppVoiceMessage?"Scheduling Whatsapp Voice Message task will be due on":e===u.F.WhatsAppVoiceCall?"Scheduling Whatsapp Voice Call task will be due on":e===u.F.Custom?"Task will be created on":"Sending as a new thread on",v=e=>{if(e){const t=Object(b.D)();return t?l()(e).tz(t).format("ddd, Do MMM YYYY"):l()(e).format("ddd, Do MMM YYYY")}return""},g=(e,t)=>1===e?"if activated today":"if step ".concat(e-1," is sent on ").concat(t),O=e=>e&&"1"===e?"Sample Sequence":"New Sequence",S=e=>{var t;let{history:s,sequence:a,showAddVariantModal:c,showUpdateVariantDataModal:i,setActiveSidebarTab:l}=e;const o=new URLSearchParams(s.location.search||""),b=o.get("addNewVariant"),j=o.get("editVariantId"),h=o.get("activeSidebarTab"),m=(e=>{var t;let s=1;return null===e||void 0===e||null===(t=e.steps)||void 0===t?void 0:t.map((e=>Object(n.a)(Object(n.a)({},e),{},{absoluteDay:s+=e.relativeDays})))})(a),p=Object(n.a)(Object(n.a)({},a),{},{steps:m}),v=null===p||void 0===p||null===(t=p.steps)||void 0===t?void 0:t.filter((e=>e.type===u.F.Email));if(!Object(d.a)(r.a.SEQUENCE_STEP_WRITE)||a){if(b)return v[0].variants.length<u.A.MaxVariants&&c(v[0]),o.delete("addNewVariant"),void s.push({search:o.toString()});if(j&&""!==j){let e=0,t=null,n=null;v.forEach((s=>{s.variants.forEach(((a,c)=>{a.id===Number(j)&&(e=c+1,t=a,n=s)}))})),t&&i(n,t,e),o.delete("editVariantId"),s.push({search:o.toString()})}h&&""!==h&&(l&&l(h),o.delete("activeSidebarTab"),s.push({search:o.toString()}))}},x=e=>{const t=new URLSearchParams(e.location.search||"").get("focusOn");return t&&"body"===t?"body":"subject"},q=e=>e===u.F.Email||e===u.F.LinkedInConnectionRequest||e===u.F.LinkedInMessage||e===u.F.LinkedInInMail||e===u.F.WhatsAppMessage||e===u.F.WhatsAppVoiceMessage||e===u.F.WhatsAppVoiceCall,f=e=>null===e||void 0===e?void 0:e.some((e=>(null===e||void 0===e?void 0:e.type)===u.F.Email)),C=e=>{const t=null===e||void 0===e?void 0:e.find((e=>(null===e||void 0===e?void 0:e.type)===u.F.Email));return t?null===t||void 0===t?void 0:t.id:null}},2102:function(e,t,s){"use strict";var n=s(2089);s.d(t,"a",(function(){return n.a}))},2109:function(e,t,s){"use strict";var n=s(2),a=(s(1),s(5)),c=s(17),i=s(0);t.a=e=>{let{size:t="lg",onClick:s=null}=e;return Object(i.jsx)("div",Object(n.a)(Object(n.a)({className:"shd--user-avatar shd--user-avatar__".concat(t)},s&&Object(c.a)(s)),{},{children:Object(i.jsx)(a.Oc,{})}))}},2124:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var n=s(60),a=s.n(n),c=s(212);const i=(e,t)=>a.a.isLength(e,{min:1,max:3})&&a.a.isInt(e,{min:t,max:c.d.MaxDay})&&a.a.isNumeric(e)?"":"Day must be between ".concat(t," to ").concat(c.d.MaxDay)},2125:function(e,t,s){"use strict";var n=s(1),a=s(4),c=s(254),i=(s(2149),s(16)),l=s(0);t.a=e=>{let{options:t,onChange:s,placement:o,children:d,searchPlaceholder:r,className:u,disabled:b=!1,onSearch:j,onToggle:h,showAiGeneratedIcon:m=!1}=e;const[p,v]=Object(n.useState)(!1);return Object(l.jsx)(c.a,{options:t,optionFilterProp:"label",optionRenderer:e=>Object(l.jsxs)("span",{className:"overlay-merge-tags__option",children:[Object(l.jsx)("span",{children:e.label}),m&&e.isAiGenerated&&Object(l.jsx)(a.h,{src:i.a.NoResultGradient,alt:"ai-generated",width:16,height:16})]}),onChange:e=>{let[t]=e;s(t),v(!1)},show:p,onToggle:e=>{b||(v(e),null===h||void 0===h||h(e))},placement:o,searchPlaceholder:r,autoFocusSearch:!0,className:u,onSearch:j,children:d})}},2126:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));s(1);var n=s(4),a=s(6),c=s(0);const i=function(e,t,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;const l=e.slice(0,i),o=e.slice(l.length-e.length);return Object(c.jsxs)(c.Fragment,{children:[l.map(((i,l)=>(null===i||void 0===i?void 0:i.name)&&Object(c.jsx)(n.i,{label:Object(a.hb)((null===i||void 0===i?void 0:i.name)||"",10,!1),size:"md",showCloseIcon:!0,onClose:()=>{s||t(e.filter((e=>(null===e||void 0===e?void 0:e.key)&&e.key!==(null===i||void 0===i?void 0:i.key))).flatMap((e=>(null===e||void 0===e?void 0:e.value)&&Array.isArray(null===e||void 0===e?void 0:e.value)?e.value:null===e||void 0===e?void 0:e.key)))}},"render-pill-".concat(null===i||void 0===i?void 0:i.key,"-").concat(l+1)))),(null===e||void 0===e?void 0:e.length)>i&&(null===o||void 0===o?void 0:o.length)>0&&Object(c.jsx)(n.i,{label:"+".concat(o.length),size:"md",showCloseIcon:!0,onClose:()=>{if(!s){const s=o.filter((e=>void 0!==e)).map((e=>null===e||void 0===e?void 0:e.key))||[];t(e.filter((e=>(null===e||void 0===e?void 0:e.key)&&!s.includes(null===e||void 0===e?void 0:e.key))).flatMap((e=>(null===e||void 0===e?void 0:e.value)&&Array.isArray(null===e||void 0===e?void 0:e.value)?e.value:null===e||void 0===e?void 0:e.key)))}}})]})}},2127:function(e,t,s){"use strict";var n=s(1),a=s(42),c=s(40),i=s(0);t.a=e=>{let{show:t,selectedStepNumber:s,onClose:l}=e;const o=Object(n.useRef)();return Object(n.useEffect)((()=>{t&&o.current&&o.current.focus()}),[o,t]),Object(n.useEffect)((()=>{const e=document.createElement("script");e.setAttribute("src","https://fast.wistia.net/assets/external/E-v1.js"),e.setAttribute("async",""),document.body.appendChild(e)}),[]),Object(i.jsx)(c.a,{show:t,showCloseIcon:!0,onCancel:l,onClose:l,onHide:l,className:"video-modal",backdrop:!0,hideHeader:!0,hideFooter:!0,children:Object(i.jsx)("div",{className:"watch-video-modal-body",children:Object(i.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(i.jsx)("iframe",{src:1===s?a.a.stepsCreatedVideoURL:2===s?a.a.addProspectVideoURL:3===s?a.a.connectEmailAccountVideoURL:4===s?a.a.launchSequenceVideoURL:5===s?a.a.addClientsVideoURL:"",title:"Final welcome video (1)",allow:"autoplay; fullscreen",allowTransparency:!0,className:"wistia_embed",name:"wistia_embed",allowFullScreen:!0,style:{border:"none",width:"100%",height:"24rem",maxHeight:"700px"}})})})})}},2128:function(e,t,s){"use strict";s(1);var n=s(0);t.a=e=>{let{width:t=24,height:s=24}=e;return Object(n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:s,viewBox:"0 0 ".concat(t," ").concat(s),fill:"none",children:[Object(n.jsx)("path",{d:"M7.03032 2.63389C5.6973 1.83267 4 2.7928 4 4.34808V21.2769C4 22.8322 5.6973 23.7923 7.03032 22.9911L21.1129 14.5267C22.4058 13.7496 22.4058 11.8754 21.1129 11.0983L7.03032 2.63389Z",fill:"url(#paint0_linear_42371_25859)"}),Object(n.jsx)("defs",{children:Object(n.jsxs)("linearGradient",{id:"paint0_linear_42371_25859",x1:"7.74341",y1:"20.9125",x2:"26.7542",y2:"5.82789",gradientUnits:"userSpaceOnUse",children:[Object(n.jsx)("stop",{stopColor:"#2563EB"}),Object(n.jsx)("stop",{offset:"1",stopColor:"#3B82F6"})]})})]})}},2129:function(e,t,s){"use strict";var n=s(2),a=(s(1),s(785)),c=s.n(a),i=s(79),l=s.n(i),o=s(4),d=s(5),r=s(14),u=s.n(r),b=s(11),j=s(2123),h=s(17),m=s(2109),p=s(0);t.a=e=>{let{className:t="",senderName:s,fromEmail:a,to:i=[],sentDate:r,userTimezone:v,hideTimeZone:g=!1,attachments:O=[],failedAttachments:S=[],cc:x=[],bcc:q=[],showAttachments:f=!1,showYouLabel:C=!1,toggleDetailsModal:y=null,isPopUpVisible:N=null,isSchedulePreview:w=!1,showNameAvatar:R=!0}=e;const E=(()=>{if(s)return null===s||void 0===s?void 0:s.split(" ");if(a){const e=null===a||void 0===a?void 0:a.slice(0,2);return[e[0]||"",e[1]||""]}return["",""]})(),A={from:{name:s,email:a},to:i,cc:x,bcc:q,date:r},k=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r&&v){const t=l.a.tz(r,v),s=t.format("MMM DD"),n=t.format("YYYY"),a=t.format("hh:mm a").toUpperCase(),c="(GMT".concat(t.tz(v).format("Z"),") ").concat(v);return"".concat(s,", ").concat(n," ").concat(a," ").concat(!g||e?c:"")}return""},I=e=>{var t,s;return"date"===e?k():"cc"===e||"bcc"===e||"to"===e?null===(s=A[e])||void 0===s?void 0:s.join(", "):"from"===e?"<".concat(null===(t=A[e])||void 0===t?void 0:t.email,">"):A[e]},P=u()(["d-flex justify-content-between align-items-center",t]);return Object(p.jsxs)("div",{className:P,children:[Object(p.jsxs)("div",{className:"d-flex align-items-center",children:[R?Object(p.jsx)(o.c,{firstName:null===E||void 0===E?void 0:E[0],lastName:null===E||void 0===E?void 0:E[1],size:"lg"}):Object(p.jsx)(m.a,{}),Object(p.jsxs)("div",{className:"email-sender-details",children:[Object(p.jsxs)("h3",{children:[Object(p.jsx)("span",{className:"sender-name",children:null===s||void 0===s?void 0:s.trim()}),C&&"(You)",Object(p.jsx)("span",{className:"email",children:"<".concat(a,">")})]}),Object(p.jsxs)("div",{className:"d-flex",children:[Object(p.jsx)("p",{children:"To: ".concat(null===i||void 0===i?void 0:i[0]).concat((null===i||void 0===i?void 0:i.length)>1?", +".concat((null===i||void 0===i?void 0:i.length)-1):"").trim()}),!c()(N)&&Object(p.jsxs)("div",Object(n.a)(Object(n.a)({className:"d-flex align-items-center gray-txt-15 gray-16 bs-border-radius-4 pl-2 pr-2 bs-pt-2 bs-pb-2 ml-2 details",role:"button"},Object(h.a)(y)),{},{children:[Object(p.jsx)(d.Mb,{width:14,height:14}),Object(p.jsx)("span",{className:"font-10 font-medium ml-1",children:"Details"}),N&&Object(p.jsx)("div",{className:"prospect-details-popup position-absolute bs-border-radius-4 gray-1 pr-3 pl-3 pt-2 pb-2",children:Object.keys(A).map((e=>{var t;return"cc"!==e&&"bcc"!==e||0!==A[e].length?Object(p.jsxs)("div",{className:"grid-container",children:[Object(p.jsx)("div",{className:"left-sec",children:Object(p.jsxs)("span",{className:"semibold-1 gray-txt-15",children:[e,":"]})}),Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{className:"semibold-1 popover-arrow-color-txt",children:null===(t=A[e])||void 0===t?void 0:t.name}),Object(p.jsx)("span",{className:"regular-1 popover-arrow-color-txt",children:I(e)})]})]},e):null}))})]}))]})]})]}),!w&&Object(p.jsxs)("div",{className:"d-flex align-items-center",children:[f&&Object(p.jsx)("span",{className:"mr-2",children:Object(j.a)(O,S)}),Object(p.jsx)(b.c,{text:"Sent on ".concat(k(!0)),children:Object(p.jsx)("p",{className:"email-sent-time",children:k()})})]})]})}},2130:function(e,t,s){"use strict";s.d(t,"a",(function(){return b}));var n=s(2),a=s(1),c=s(4),i=s(5),l=s(17),o=s(16),d=s(209),r=s(935),u=s(0);let b=function(e){return e.sm="SM",e.md="MD",e}({});t.b=e=>{var t;let{onClick:s,text:j,number:h,className:m,size:p=b.sm,isPercentageShow:v=!1,dealValue:g=0,percentage:O=0,isWarningSignShow:S=!1,isDropDownSegment:x=!1,segmentOptions:q=null,isOutcomeSegment:f=!1,type:C="",bounceDropdownComponent:y=null,selectedSegmentType:N=null}=e;const w=p===b.sm?"sm":"md",[R,E]=Object(a.useState)({text:j,type:C,count:h}),[A,k]=Object(a.useState)({text:j,type:C,count:h,isCustomOutcome:!1,sentiment:null}),[I,P]=Object(a.useState)(!1);return Object(a.useEffect)((()=>{const e=e=>{null===e.target.closest(".segments")&&P(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]),Object(a.useEffect)((()=>{if(N&&q){const e=null===q||void 0===q?void 0:q.find((e=>(null===e||void 0===e?void 0:e.type)===N));e&&(f&&k(e),E(e))}}),[N,q]),Object(u.jsxs)(u.Fragment,{children:[!x&&Object(u.jsxs)("div",Object(n.a)(Object(n.a)({className:"".concat(m," filter-item ").concat(w)},Object(l.a)((()=>s(C)))),{},{children:[Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(u.jsxs)("div",{className:"text-center number",children:[Object(u.jsx)("span",{className:"semibold-4 popover-arrow-color-txt",children:h}),f&&Object(u.jsxs)("span",{className:"ml-1 gray-txt-15",children:["$",g]}),v&&Object(u.jsx)("span",{className:"regular-1 font-medium gray-txt-15 ml-1",children:"(".concat(0===O||Number.isNaN(O)?0:O.toFixed(2),"%)")})]}),Object(u.jsxs)("div",{className:"d-flex align-items-center",children:[S&&Object(u.jsx)(c.h,{src:o.a.AlertTriangle,alt:"warning"}),Object(u.jsxs)("div",{className:"regular-1 font-medium popover-arrow-color-txt text-center text d-flex align-items-center position-relative",children:[f&&Object(d.c)(j,!1),Object(u.jsx)("span",{className:"ml-1",children:j})]})]})]}),y]})),x&&Object(u.jsxs)("div",{className:"position-relative",children:[Object(u.jsx)("div",{className:"".concat(m," filter-item ").concat(w),children:Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(u.jsx)("div",Object(n.a)(Object(n.a)({className:"text-center number w-100"},Object(l.a)((()=>s(f?A.type:R.type)))),{},{children:Object(u.jsx)("span",{className:"semibold-4 popover-arrow-color-txt",children:null===(t=q.find((e=>{let{type:t}=e;return f?t===A.type:t===R.type})))||void 0===t?void 0:t.count})})),Object(u.jsx)("div",{className:"d-flex align-items-center segments",children:Object(u.jsxs)("div",Object(n.a)(Object(n.a)({className:"regular-1 popover-arrow-color-txt text-center text d-flex align-items-center"},Object(l.a)((()=>P((e=>!e))))),{},{children:[f&&A.isCustomOutcome?Object(d.c)(A.text,!1,A.isCustomOutcome&&{sentiment:A.sentiment,isDefault:!1}):f&&Object(d.c)(A.text,!1),Object(u.jsx)("span",{className:"regular-1 font-medium popover-arrow-color-txt ml-1",children:f?Object(r.a)(A.text,11):R.text}),Object(u.jsx)(i.P,{className:"gray-txt-15 ml-1"})]}))})]})})}),I&&Object(u.jsx)("div",{className:"position-absolute segments--items ".concat(f?"segments--items-outcome":"segments--items-segment"),children:q.map((e=>{let{text:t,type:a,count:c,isCustomOutcome:i,sentiment:o}=e;return Object(u.jsxs)("div",Object(n.a)(Object(n.a)({className:"segments--item d-flex justify-content-between pointer"},Object(l.a)((()=>{(e=>{f?k(e):E(e),s(e.type)})({text:t,type:a,count:c,isCustomOutcome:i,sentiment:o})}))),{},{children:[Object(u.jsxs)("div",{className:"d-flex align-items-center",children:[f&&Object(u.jsx)("div",{className:"mr-2",children:i?Object(d.c)(t,!1,i&&{sentiment:o,isDefault:!1}):Object(d.c)(t,!1)}),Object(u.jsx)("span",{className:"regular-2 gray-txt-15",children:t})]}),Object(u.jsx)("span",{className:"regular-2 gray-txt-15",children:c})]}))}))})]})]})}},2131:function(e,t,s){"use strict";s.d(t,"d",(function(){return u})),s.d(t,"e",(function(){return b})),s.d(t,"c",(function(){return j})),s.d(t,"b",(function(){return h})),s.d(t,"f",(function(){return m})),s.d(t,"i",(function(){return p})),s.d(t,"g",(function(){return v})),s.d(t,"h",(function(){return g})),s.d(t,"k",(function(){return O})),s.d(t,"j",(function(){return S})),s.d(t,"l",(function(){return x})),s.d(t,"a",(function(){return q}));var n=s(64),a=s(18),c=s(96),i=s(19),l=s(95),o=s(200),d=s(154),r=s(2153);const u=e=>e===r.c.min?d.a.NotValid:d.a.Valid,b=e=>e===r.d.min?d.a.NotValid:d.a.Valid,j=e=>e===r.b.min?d.a.NotValid:e===r.b.mid?d.a.PartiallyValid:d.a.Valid,h=e=>e===r.a.min?d.a.NotValid:e===r.a.mid?d.a.PartiallyValid:d.a.Valid,m=e=>e===r.g.min?d.a.NotValid:d.a.Valid,p=e=>e===r.j.min?d.a.NotValid:e===r.j.mid?d.a.PartiallyValid:d.a.Valid,v=e=>e===r.h.min?d.a.NotValid:e===r.h.mid?d.a.PartiallyValid:d.a.Valid,g=e=>e===r.i.min?d.a.NotValid:e===r.i.mid?d.a.PartiallyValid:d.a.Valid,O=e=>{var t,s;const n=null!==(t=null===e||void 0===e||null===(s=e.total)||void 0===s?void 0:s.score)&&void 0!==t?t:null,{low:a,mid:c}=r.f;return null===n?{scoreStatus:"default",pathColor:"#ddd",trailColor:"#ddd",textColor:"#ddd"}:n<=a?{scoreStatus:"poor",pathColor:"#DC2626",trailColor:"#FEE2E2",textColor:"#DC2626"}:n<=c?{scoreStatus:"average",pathColor:"#F59E0B",trailColor:"#FEF3C7",textColor:"#F59E0B"}:{scoreStatus:"excellent",pathColor:"#2DB482",trailColor:"#D1FAE5",textColor:"#2DB482"}},S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{poor:t,belowAverage:s,average:n,good:a,veryGood:c,excellent:i}=r.e;return e<=t?{scoreCategory:"poor",className:"sequence-score-poor",content:"Your Sequence is unlikely to produce the desired results. Please take immediate action based on feedback and rectify the problems highlighted.",contentExpression:"\ud83e\udd7a"}:e<=s?{scoreCategory:"below average",className:"sequence-score-below-average",content:"Your sequence is unlikely to get good results. We strongly recommend you take prompt actions based on feedback & fix mentioned issues.",contentExpression:"\ud83d\ude41"}:e<=n?{scoreCategory:"average",className:"sequence-score-average",content:"Your sequence is unlikely to get good results. We strongly recommend you take prompt actions based on feedback & fix mentioned issues.",contentExpression:"\ud83d\ude42"}:e<=a?{scoreCategory:"good",className:"sequence-score-good",content:"Your sequence is well-constructed and has the potential to produce good results. However, there might be some minor areas for improvement.",contentExpression:"\ud83e\udd29"}:e<=c?{scoreCategory:"very good",className:"sequence-score-very-good",content:"Your sequence is well-constructed and shows great potential for excellent results. However, there's always room for further optimization.",contentExpression:"\ud83e\udd73"}:e<=i?{scoreCategory:"excellent",className:"sequence-score-excellent",content:"Your sequence is exceptionally well-constructed and is expected to produce outstanding results. Congratulations! keep up the good work.",contentExpression:"\ud83d\ude0d"}:{scoreCategory:"",className:"",content:"Add leads to prospect for reaching them out with cold email outreach.",contentExpression:""}},x=e=>{let{subscriptionPlan:t,emailAccountId:s,emailAccountMethod:d,showConnectSmtpImapEmailAccountModal:r,sendConnectEmailAccountRequest:u}=e;Object(l.a)(c.a.EMAIL_ACCOUNT_CONNECT)?d===n.a.SmtpImap?r(Number(s)):u(d,s):Object(i.a)(a.a.ACCOUNT_SUBSCRIPTION_READ)?Object(o.a)(5e3):Object(o.a)(5001)},q=e=>e===n.b.Gmail?n.a.Gmail:e===n.b.Microsoft?n.a.Microsoft:n.a.SmtpImap},2132:function(e,t,s){"use strict";s.d(t,"e",(function(){return i})),s.d(t,"f",(function(){return l})),s.d(t,"c",(function(){return o})),s.d(t,"b",(function(){return d})),s.d(t,"a",(function(){return r})),s.d(t,"g",(function(){return u})),s.d(t,"d",(function(){return b})),s.d(t,"h",(function(){return j}));var n=s(39),a=s(9),c=s(8);const i=e=>e<=30?{scoreStatus:"poor",color:"#DC2626"}:e>30&&e<=60?{scoreStatus:"average",color:"#F59E0B"}:e>60&&e<=100?{scoreStatus:"excellent",color:"#2DB482"}:{scoreStatus:"poor",color:"#1F2937"},l=(e,t)=>e>=1&&e<=30?{className:"poor",scoreCategory:"poor",description:"".concat(t("messages.score_poor_1")," ").concat(t("messages.score_poor_2"))}:e>=31&&e<=50?{className:"average",scoreCategory:"below average",description:"".concat(t("messages.score_below_average_1")," ").concat(t("messages.score_below_average_2"))}:e>=51&&e<=60?{className:"average",scoreCategory:"average",description:"".concat(t("messages.score_average_1")," ").concat(t("messages.score_average_2"))}:e>=61&&e<=70?{className:"excellent",scoreCategory:"good",description:"".concat(t("messages.score_good_1")," ").concat(t("messages.score_good_2"))}:e>=71&&e<=85?{className:"excellent",scoreCategory:"very good",description:"".concat(t("messages.score_very_good_1")," ").concat(t("messages.score_very_good_2"))}:e>=86?{className:"excellent",scoreCategory:"excellent",description:"".concat(t("messages.score_excellent_1")," ").concat(t("messages.score_excellent_2"))}:{className:"",scoreCategory:"",description:""},o=e=>{const t=[];return e>=1&&e<=30&&t.push({offset:0,color:a.u.belowAverage}),e>=31&&e<=50&&(t.push({offset:0,color:a.u.belowAverage}),t.push({offset:31,color:a.u.poor})),e>=51&&e<=60&&(t.push({offset:0,color:a.u.average}),t.push({offset:51,color:a.u.poor})),e>=61&&e<=70&&(t.push({offset:0,color:a.u.poor}),t.push({offset:31,color:a.u.belowAverage}),t.push({offset:61,color:a.u.average}),t.push({offset:80,color:a.u.average}),t.push({offset:100,color:a.u.good})),e>=71&&e<=85&&(t.push({offset:0,color:a.u.poor}),t.push({offset:31,color:a.u.belowAverage}),t.push({offset:75,color:a.u.average}),t.push({offset:90,color:a.u.good}),t.push({offset:100,color:a.u.veryGood})),e>=86&&(t.push({offset:0,color:a.u.poor}),t.push({offset:31,color:a.u.belowAverage}),t.push({offset:70,color:a.u.average}),t.push({offset:85,color:a.u.good}),t.push({offset:100,color:a.u.veryGood})),t},d=e=>{var t,s,n,c,i,l,o,d,r,u;if(!e)return a.w.EmailAccountSetupScore;const{emailAccountSetUpScore:b,sequenceSetupScore:j,emailWritingSetupScore:h}=e;return j&&(null===(t=j.total)||void 0===t?void 0:t.score)<(null===(s=b.total)||void 0===s?void 0:s.score)&&((null===(n=j.total)||void 0===n?void 0:n.score)<(null===(c=h.total)||void 0===c?void 0:c.score)||(null===(i=j.total)||void 0===i?void 0:i.score)===(null===(l=h.total)||void 0===l?void 0:l.score))?a.w.SequenceSetupScore:h&&(null===(o=h.total)||void 0===o?void 0:o.score)<(null===(d=b.total)||void 0===d?void 0:d.score)&&(null===(r=h.total)||void 0===r?void 0:r.score)<(null===(u=j.total)||void 0===u?void 0:u.score)?a.w.EmailWritingScore:a.w.EmailAccountSetupScore},r=e=>e&&e.sequenceScore&&e.sequenceScore.error.status,u=e=>{Object(n.a)({error:e,onError:()=>{c.d.error(e.message,{theme:c.a.New})}})},b=(e,t,s,n)=>{"sequence-score"!==e||t||s({sequenceId:n})},j=e=>{let{tabId:t,updateSequenceSettingsRequestStatus:s,updateSequenceSettingsRequestMessage:a,resetSequenceSettingUpdateRequestStatus:i,sendGetSequenceScoreRequest:l,sequenceId:o,updateSequenceSettingsRequestError:d}=e;"sequence-score"===t&&Object(n.b)({status:s,onSuccess:()=>{c.d.success(a,{theme:c.a.New}),i(),l({sequenceId:o})},onFailed:()=>{u(d)}})}},2140:function(e,t,s){"use strict";s.d(t,"a",(function(){return w}));var n=s(15),a=s(2),c=s(1),i=s.n(c),l=s(4),o=s(29),d=s(2236),r=s(19),u=s(18),b=s(2199),j=s(832),h=s(9),m=s(17),p=s(2226),v=s(21),g=s(11),O=s(16),S=s(108),x=s(230),q=s(0);class f extends i.a.Component{constructor(e){super(e),this.toggleRef=void 0,this.handleToggleClick=()=>{this.setState((e=>({isAddStepOptionsVisible:!e.isAddStepOptionsVisible})))},this.handleOutsideClick=e=>{null===e.target.closest(".add-steps")&&this.setState({isAddStepOptionsVisible:!1}),this.toggleRef.current&&!this.toggleRef.current.contains(e.target)&&this.setState({isAddStepOptionsVisible:!1})},this.showAddStepModal=()=>{this.setState({showAddStepModal:!0})},this.hideAddStepModal=()=>{this.setState({showAddStepModal:!1})},this.showCreateTaskStepModal=()=>{this.setState({isCreateTaskStepModalVisible:!0})},this.hideCreateTaskStepModal=()=>{this.setState({isCreateTaskStepModalVisible:!1})},this.showAiSequenceGeneratorModal=()=>{const{updateSetGenerateAiSeqModal:e,updateRequestStatus:t}=this.props;t(),e({isOpen:!0,currentStep:S.a.INITIATE_AI_SEQUENCE})},this.onAction=e=>{switch(e){case h.L.Email:return this.setState({stepType:h.L.Email,initialStepType:h.F.Email,isCreateTaskStepModalVisible:!1}),this.showAddStepModal();case h.L.WriteWithAi:return this.setState({stepType:h.L.WriteWithAi,initialStepType:h.F.WriteWithAi}),this.showAiSequenceGeneratorModal();case h.L.LinkedIn:return this.setState({stepType:h.L.LinkedIn,initialStepType:h.F.LinkedInConnectionRequest}),this.showCreateTaskStepModal();case h.L.Call:return this.setState({stepType:h.L.Call,initialStepType:h.F.Call}),this.showCreateTaskStepModal();case h.L.WhatsApp:return this.setState({stepType:h.L.WhatsApp,initialStepType:h.F.WhatsAppMessage}),this.showCreateTaskStepModal();case h.L.Task:return this.setState({stepType:h.L.Task,initialStepType:h.F.Custom}),this.showCreateTaskStepModal();default:return this.setState({stepType:h.L.Email,initialStepType:h.F.Email}),this.showAddStepModal()}},this.onAddStep=()=>{const{isAddStepOptionsVisible:e}=this.state;return Object(v.L)()?this.setState({isAddStepOptionsVisible:!e}):this.onAction(h.L.Email)},this.state={showAddStepModal:!1,isCreateTaskStepModalVisible:!1,stepType:null,initialStepType:null,isAddStepOptionsVisible:!1},this.toggleRef=i.a.createRef(),this.showAddStepModal=this.showAddStepModal.bind(this),this.hideAddStepModal=this.hideAddStepModal.bind(this),this.showCreateTaskStepModal=this.showCreateTaskStepModal.bind(this),this.hideCreateTaskStepModal=this.hideCreateTaskStepModal.bind(this)}componentDidMount(){const{history:e,location:t,sequence:s}=this.props;document.addEventListener("click",this.handleOutsideClick);const n=new URLSearchParams(t.search||"");n.get("addNewStep")&&Object(r.a)(u.a.SEQUENCE_STEP_WRITE)&&s&&(s.steps.length!==b.a&&this.showAddStepModal(),n.delete("addNewStep"),e.push({search:n.toString()}))}componentDidUpdate(){}componentWillUnmount(){document.removeEventListener("click",this.handleOutsideClick)}render(){var e;const{showAddStepModal:t,isCreateTaskStepModalVisible:s,stepType:n,initialStepType:c,isAddStepOptionsVisible:o}=this.state,{isEmptyScreen:b,isPrefixIconVisible:v=!0,match:S,subsequence:f,subsequenceSettings:C,isStepsListEmpty:y,featureUsages:N}=this.props,{subsequenceId:w}=S.params,R=!(!w||!f)&&!((null===f||void 0===f?void 0:f.isConditionsAdded)||(null===C||void 0===C||null===(e=C.conditions)||void 0===e?void 0:e.length)>0),E=e=>{var t;const s=Object(q.jsxs)("div",Object(a.a)(Object(a.a)({style:{backgroundColor:e.bgColor},className:"d-flex align-items-center pointer add-steps__step add-steps__step-".concat(null===(t=e.label)||void 0===t?void 0:t.toLowerCase()," ").concat(R?"disabled":"","  ").concat(e.customClassName)},Object(m.a)((()=>{R||this.onAction(e.label)}))),{},{children:[e.icon,Object(q.jsx)("span",{className:"ml-2 regular-2 line-height-20 gray-txt-1 ".concat(e.customTextClass),children:e.label})]}),e.label);return R?Object(q.jsx)(g.c,{text:"Please add at least one condition to the subsequence",children:s}):s},A=null===N||void 0===N?void 0:N.some((e=>(null===e||void 0===e?void 0:e.featureCode)===x.a.AI_CREDITS));return Object(q.jsxs)(q.Fragment,{children:[b?Object(q.jsxs)("div",{className:"d-flex align-items-center mt-3 add-steps__wrapper",children:[!w&&Object(q.jsx)("span",{className:"regular-2 font-medium gray-txt-15 bs-mr-20",children:"Add step"}),Object(q.jsx)("div",{className:"d-flex add-steps__steps",children:Object(j.a)().map(((e,t,s)=>{const n=e.label===h.L.WriteWithAi;if(n&&!A)return null;const a=s[t+1],c=n&&(null===a||void 0===a?void 0:a.label)===h.L.LinkedIn;return Object(q.jsxs)(i.a.Fragment,{children:[!(null===e||void 0===e?void 0:e.isHide)&&E(e),c&&Object(q.jsx)("div",{className:"add-steps__steps-divider  mx-2"})]},e.label)}))})]}):Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)("div",{className:"add-steps position-relative",children:[Object(q.jsxs)("div",{className:"d-flex start-sequence-modal-btn",children:[Object(r.a)(u.a.SEQUENCE_STEP_WRITE)&&(()=>{const e=Object(q.jsx)(l.d,{variant:"primary",onClick:()=>this.onAddStep(),disabled:R,children:Object(q.jsxs)("span",{className:"regular-2 font-medium",children:[v&&"+ ","Add Step"]})});return R?Object(q.jsx)(g.c,{text:"Please add at least one condition to the subsequence",children:e}):e})(),A&&y&&(()=>Object(q.jsxs)(l.d,Object(a.a)(Object(a.a)({},Object(m.a)((()=>{this.showAiSequenceGeneratorModal()}))),{},{className:"ai-seq-modal-btn",children:[Object(q.jsx)(l.h,{src:O.a.Stars,alt:"stars"}),Object(q.jsx)("span",{className:"ai-seq-modal-btn-text",children:"Write With AI"})]})))()]}),o&&Object(q.jsx)("div",{className:"add-steps__options",children:Object(j.a)(!0).map((e=>Object(q.jsxs)("div",Object(a.a)(Object(a.a)({className:"add-steps__option d-flex align-items-center pointer"},Object(m.a)((()=>this.onAction(e.label)))),{},{children:[e.icon,Object(q.jsx)("span",{className:"regular-2 popover-arrow-color-txt ml-2",children:e.label})]}),e.label)))})]})}),t&&Object(q.jsx)(d.a,{show:t,onClose:this.hideAddStepModal,subsequenceId:w}),s&&Object(q.jsx)(p.a,{show:s,stepType:n,initialStepType:c,onClose:this.hideCreateTaskStepModal,onStepTypeChange:this.onAction,variantNumber:1,subsequenceId:w})]})}}var C=Object(o.j)(f),y=s(97);const N={updateSetGenerateAiSeqModal:e=>Object(y.rb)(e),updateRequestStatus:()=>Object(y.K)()};var w=Object(n.connect)((e=>{var t,s,n;return{sequence:e.sequence.sequence,subsequence:e.sequence.subsequence,subsequenceSettings:null===(t=e.sequence)||void 0===t?void 0:t.subsequenceSettings,isStepsListEmpty:0===(null===(s=e.sequence.sequence)||void 0===s||null===(n=s.steps)||void 0===n?void 0:n.length),featureUsages:e.home.featureUsages}}),N)(C)},2148:function(e,t,s){"use strict";s.d(t,"b",(function(){return c})),s.d(t,"a",(function(){return i}));s(1);var n=s(0);const a=(e,t)=>{const s=Object.keys(e).map(Number).filter((e=>e<t));if(0===s.length)return null;return Math.max(...s)},c=(e,t,s)=>{const c=Object.keys(s);return 1===t&&0===(null===c||void 0===c?void 0:c.length)||e<=c[0]?Object(n.jsx)(n.Fragment,{children:"This step will be scheduled as soon as the sequence is activated."}):s[e]?Object(n.jsxs)(n.Fragment,{children:["This step will be scheduled after"," ",Object(n.jsxs)("span",{className:"font-semibold",children:["Step ",s[e]]})," ","is done."]}):Object(n.jsxs)(n.Fragment,{children:["This step will be scheduled"," ",Object(n.jsxs)("span",{className:"font-semibold",children:[Number(e)-a(s,e)," ","days"]})," ","after"," ",Object(n.jsxs)("span",{className:"font-semibold",children:["Step ",s[a(s,e)]]})," ","is done."]})},i=(e,t,s)=>{const c=Object.keys(s);return 1===t&&0===(null===c||void 0===c?void 0:c.length)||Number(e)<Number(c[0])?Object(n.jsx)(n.Fragment,{children:"This step will be scheduled as soon as the sequence is activated."}):s[e]?Object(n.jsxs)(n.Fragment,{children:["This step will be scheduled after"," ",Object(n.jsxs)("span",{className:"font-semibold",children:["Step ",s[e]]})," ","is done."]}):Object(n.jsxs)(n.Fragment,{children:["This step will be scheduled"," ",Object(n.jsxs)("span",{className:"font-semibold",children:[Number(e)-a(s,e)," ","days"]})," ","after"," ",Object(n.jsxs)("span",{className:"font-semibold",children:["Step ",s[a(s,e)]]})," ","is done."]})}},2149:function(e,t,s){},2150:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));let n=function(e){return e.Conditions="conditions",e.Steps="steps",e.Prospects="prospects",e.Emails="emails",e}({})},2151:function(e,t,s){"use strict";function n(e){if(0===e||"0"===e)return"0";if(!e)return"";const t="string"===typeof e?Number(e):e;if(Number.isNaN(t)||!t)return"";const[s,n]=t.toString().split("."),a=s.replace(/\B(?=(\d{3})+(?!\d))/g,",");return n?"".concat(a,".").concat(n):a}s.d(t,"a",(function(){return n}))},2152:function(e,t,s){"use strict";s.d(t,"c",(function(){return c})),s.d(t,"b",(function(){return i})),s.d(t,"a",(function(){return l}));var n=s(2150),a=s(18);const c=(e,t)=>{switch(e){case n.a.Steps:return null===t||void 0===t?void 0:t.stepCount;case n.a.Prospects:return null===t||void 0===t?void 0:t.prospectCount;default:return 0}},i=()=>[{key:n.a.Conditions,label:"Conditions"},{key:n.a.Steps,label:"Steps"},{key:n.a.Prospects,label:"Prospects",permission:a.a.SEQUENCE_PROSPECT_READ},{key:n.a.Emails,label:"Emails",permission:a.a.SEQUENCE_EMAIL_READ}],l=(e,t)=>{const s=(e=>{let t="";for(;e>=0;)t=String.fromCharCode(e%26+65)+t,e=Math.floor(e/26)-1;return t})(e);return"Sub ".concat(s,": ").concat(t)}},2153:function(e,t,s){"use strict";s.d(t,"c",(function(){return n})),s.d(t,"d",(function(){return a})),s.d(t,"b",(function(){return c})),s.d(t,"a",(function(){return i})),s.d(t,"g",(function(){return l})),s.d(t,"j",(function(){return o})),s.d(t,"h",(function(){return d})),s.d(t,"i",(function(){return r})),s.d(t,"f",(function(){return u})),s.d(t,"e",(function(){return b}));let n=function(e){return e[e.min=0]="min",e[e.max=15]="max",e}({}),a=function(e){return e[e.min=0]="min",e[e.max=5]="max",e}({}),c=function(e){return e[e.min=0]="min",e[e.mid=5]="mid",e[e.max=10]="max",e}({}),i=function(e){return e[e.min=0]="min",e[e.mid=10]="mid",e[e.max=15]="max",e}({}),l=function(e){return e[e.min=0]="min",e[e.max=10]="max",e}({}),o=function(e){return e[e.min=0]="min",e[e.mid=5]="mid",e[e.max=10]="max",e}({}),d=function(e){return e[e.min=0]="min",e[e.mid=15]="mid",e[e.max=25]="max",e}({}),r=function(e){return e[e.min=0]="min",e[e.mid=8]="mid",e[e.max=10]="max",e}({}),u=function(e){return e[e.low=50]="low",e[e.mid=70]="mid",e[e.high=100]="high",e}({}),b=function(e){return e[e.poor=30]="poor",e[e.belowAverage=50]="belowAverage",e[e.average=60]="average",e[e.good=70]="good",e[e.veryGood=85]="veryGood",e[e.excellent=100]="excellent",e}({})},2199:function(e,t,s){"use strict";s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return a}));const n=50,a={1:"step_1",2:"step_2",3:"step_3",4:"step_4"}},2200:function(e,t,s){"use strict";s(1);var n=s(5),a=s(9),c=s(6),i=s(174),l=s(0);t.a=e=>{let{show:t,action:s,onClose:o,onSubmit:d,isRequestPending:r}=e;const u=s===a.o.Pause?"pause":"activate",b=Object(c.k)(u);return Object(l.jsx)(i.a,{show:t,className:"show-conditions-modal",title:Object(l.jsxs)("div",{className:"d-flex align-items-center gap-10",children:[Object(l.jsx)(n.d,{width:20,height:20,color:"#FAAD14"}),Object(l.jsx)("span",{className:"line-height-1",children:"".concat(b," Subsequence")})]}),onHide:o,primaryBtnLabel:"Yes",secondaryBtnLabel:"No",primaryBtnClickedHandler:d,secondaryBtnClickedHandler:o,primaryBtnLoading:r,primaryBtnDisabled:r,children:Object(l.jsx)("p",{children:"Are you sure you want to ".concat(u," the Subsequence?")})})}},2201:function(e,t,s){"use strict";s(1);var n=s(29),a=s(27),c=s(5),i=s(174),l=s(69),o=s(19),d=s(18),r=s(160),u=s(6),b=s(21),j=s(0);t.a=e=>{let{show:t,onClose:s}=e;const{t:h}=Object(a.b)(),m=Object(n.g)();return Object(j.jsxs)(i.a,{show:t,className:"show-conditions-modal",title:Object(j.jsxs)("div",{className:"d-flex align-items-center gap-10",children:[Object(j.jsx)(c.ab,{width:20,height:20,color:"#1D4ED8"}),Object(j.jsx)("span",{className:"line-height-1",children:"Upgrade your plan for Subsequence"})]}),onHide:s,primaryBtnLabel:"Upgrade",secondaryBtnLabel:"Cancel",primaryBtnClickedHandler:()=>{const e="".concat(h("messages.upgrade_plan_error_email_subject")),t=Object(b.a)(),s=Object(b.m)(),n="Hello ".concat(t,", %0D%0A %0D%0A").concat(h("messages.upgrade_plan_error_email_body1")," %0D%0A %0D%0A").concat(h("messages.upgrade_plan_error_email_body2")," %0D%0A %0D%0A").concat(h("labels.thanks")," %26 ").concat(h("labels.regards"),"%2C %0D%0A").concat(s);Object(o.a)(d.a.ACCOUNT_SUBSCRIPTION_READ)?m.push({pathname:l.a.Setting_Billing_Upgrade_Email_Outreach_Plan,state:{modifySubscriptionStep:r.a.SelectPlan}}):Object(u.l)(e,n)},secondaryBtnClickedHandler:s,children:[Object(j.jsx)("p",{children:"Your current plan doesn't allow you to activate or create subsequence."}),Object(j.jsx)("p",{children:"Please upgrade to outreach pro or a higher plan to unlock this feature."})]})}},2202:function(e,t,s){"use strict";var n=s(2127);s.d(t,"a",(function(){return n.a}))},2203:function(e,t,s){"use strict";var n=s(4),a=(s(1),s(91)),c=s(76),i=s(0);t.a=e=>{let{isDealValueSet:t}=e;const s=[{dataField:"checkbox",text:"",headerLoadingSkeleton:Object(i.jsx)(n.l,{width:16,height:16}),cellLoadingSkeleton:Object(i.jsx)(n.l,{width:16,height:16}),headerStyle:()=>({width:"50px",height:"46px",verticalAlign:"middle"})},{dataField:"name",text:"",headerLoadingSkeleton:Object(i.jsx)(n.l,{width:120,height:14}),cellLoadingSkeleton:Object(i.jsxs)("div",{className:"contact-field-name-container",children:[Object(i.jsxs)("div",{className:"d-flex",children:[Object(i.jsx)(n.l,{width:70,height:14,className:"mr-2"}),Object(i.jsx)(n.l,{width:60,height:14})]}),Object(i.jsx)(n.l,{width:150,height:14,className:"bs-mt-2"})]}),headerAlign:"left",align:"left",headerStyle:()=>({width:"50px",verticalAlign:"middle"})},{dataField:"stepNumber",text:"",cellClasses:"text-nowrap",headerLoadingSkeleton:Object(i.jsx)(n.l,{width:74,height:14}),cellLoadingSkeleton:Object(i.jsxs)("div",{className:"d-flex",children:[Object(i.jsx)(n.l,{width:18,height:18,className:"mr-2"}),Object(i.jsx)(n.l,{width:41,height:14})]}),headerAlign:"left",align:"left",headerStyle:()=>({width:"20px",verticalAlign:"middle"})},{dataField:"history",text:"",headerLoadingSkeleton:Object(i.jsx)(n.l,{width:100,height:14}),cellLoadingSkeleton:Object(i.jsx)("div",{className:"d-flex",children:Array.from({length:4}).map(((e,t)=>Object(i.jsx)(n.l,{width:18,height:18,className:"mr-2"},t)))}),headerAlign:"left",align:"left",headerStyle:()=>({width:"50px",verticalAlign:"middle"})},{dataField:"outcome",text:"",headerLoadingSkeleton:Object(i.jsx)(n.l,{width:65,height:14}),cellLoadingSkeleton:Object(i.jsx)(n.l,{width:130,height:26,borderRadius:20}),headerAlign:"left",align:"left",headerStyle:()=>({width:"20px",verticalAlign:"middle"}),style:()=>({width:"7rem"})},{dataField:"tags",text:"",headerLoadingSkeleton:Object(i.jsx)(n.l,{width:50,height:14}),cellLoadingSkeleton:Object(i.jsxs)("div",{className:"d-flex",children:[Object(i.jsx)(n.l,{width:70,height:26,className:"mr-2"}),Object(i.jsx)(n.l,{width:70,height:26})]}),headerAlign:"left",align:"left",headerStyle:()=>({width:"20px",verticalAlign:"middle"})},{dataField:"lastActivity",text:"",headerLoadingSkeleton:Object(i.jsx)(n.l,{width:70,height:14}),cellLoadingSkeleton:Object(i.jsx)(n.l,{width:80,height:14}),headerAlign:"left",align:"left",headerStyle:()=>({width:"20px",verticalAlign:"middle"})}];return Object(i.jsxs)("div",{className:"contact-list-container contact-list-container-skeleton skeleton-height-1",children:[Object(i.jsxs)("div",{className:"sequence-prospect-actions",children:[Object(i.jsxs)("div",{className:"sequence-prospect-search-bar-and-filter",children:[Object(i.jsx)(n.l,{width:216,height:32}),Object(i.jsx)("div",{className:"prospect-filter-icon-container",children:Object(i.jsx)(n.l,{width:20,height:20})}),Object(i.jsx)("div",{className:"sequence-prospect-separator"}),Array.from({length:8}).map(((e,t)=>Object(i.jsx)("div",{className:"prospect-filter-icon-container",children:Object(i.jsx)(n.l,{width:20,height:20})},t)))]}),Object(i.jsx)("div",{className:"sequence-prospect-right-actions",children:Array.from({length:2}).map(((e,t)=>Object(i.jsx)("div",{children:Object(i.jsx)(n.l,{width:20,height:20})},t)))})]}),!t&&Object(i.jsxs)("div",{className:"deal-value-banner-skeleton",children:[Object(i.jsx)("div",{className:"deal-value-banner-skeleton-left",children:Object(i.jsx)(n.l,{width:300,height:20})}),Object(i.jsx)("div",{className:"deal-value-banner-skeleton-right",children:Object(i.jsx)(n.l,{width:16,height:16})})]}),Object(i.jsxs)("div",{className:"d-flex justify-content-between status-filter",children:[Array.from({length:6}).map(((e,t)=>Object(i.jsxs)("div",{className:"status-item-skeleton",children:[Object(i.jsx)(n.l,{width:24,height:24}),Object(i.jsx)(n.l,{width:65,height:20})]},t))),Object(i.jsx)("div",{className:"divider-vertical"}),Array.from({length:4}).map(((e,t)=>Object(i.jsxs)("div",{className:"status-item-skeleton",children:[Object(i.jsx)(n.l,{width:24,height:24}),Object(i.jsx)(n.l,{width:80,height:20})]},t)))]}),Object(i.jsx)("div",{className:"contact-list-table h-100",children:Object(i.jsx)(a.a,{columns:s,data:[],pagination:c.b.HIDE,paginationOptions:{options:{page:1,limit:10,totalElements:10}},bodyWrapperClasses:"sequence-contacts-table",isLoading:!0})})]})}},2204:function(e,t,s){"use strict";var n=s(2130);s.d(t,"a",(function(){return n.b}))},2205:function(e,t,s){"use strict";s(1);var n=s(4),a=s(91),c=s(76),i=s(0);t.a=()=>Object(i.jsxs)("div",{className:"sequence-emails-loader",children:[Object(i.jsxs)("div",{className:"sequence-emails-loader__header",children:[Object(i.jsxs)("div",{className:"sequence-emails-loader__header--inner",children:[Object(i.jsx)(n.l,{width:216,height:32}),Object(i.jsx)(n.l,{width:24,height:24})]}),Object(i.jsxs)("div",{className:"sequence-emails-loader__header--inner",children:[Object(i.jsx)(n.l,{width:80,height:24}),Object(i.jsx)(n.l,{width:80,height:24})]})]}),Object(i.jsxs)("div",{className:"sequence-emails-loader__status",children:[Object(i.jsx)(n.l,{width:"100%",height:60}),Object(i.jsx)(n.l,{width:"100%",height:60}),Object(i.jsx)(n.l,{width:"100%",height:60}),Object(i.jsx)(n.l,{width:"100%",height:60}),Object(i.jsx)(n.l,{width:"100%",height:60}),Object(i.jsx)(n.l,{width:"100%",height:60}),Object(i.jsx)(n.l,{width:"100%",height:60}),Object(i.jsx)(n.l,{width:"100%",height:60})]}),Object(i.jsxs)("div",{className:"sequence-emails-loader__content",children:[Object(i.jsxs)("div",{className:"sequence-emails-loader__content--steps",children:[Object(i.jsx)(n.l,{width:"100%",height:60}),Object(i.jsx)(n.l,{width:"100%",height:60}),Object(i.jsx)(n.l,{width:"100%",height:60}),Object(i.jsx)(n.l,{width:"100%",height:60})]}),Object(i.jsx)("div",{className:"sequence-emails-loader__content--table",children:Object(i.jsx)(a.a,{pagination:c.b.HIDE,isLoading:!0,data:[],paginationOptions:{options:{totalElements:0,page:1,limit:1}},columns:[{dataField:"col-1",text:"Prospect",component:()=>null,headerLoadingSkeleton:Object(i.jsx)(n.l,{width:160,height:20}),cellLoadingSkeleton:Object(i.jsxs)("div",{className:"cell-data-loader",children:[Object(i.jsx)(n.l,{width:120,height:20}),Object(i.jsx)(n.l,{width:160,height:19})]})},{dataField:"col-2",text:"Step",component:()=>null,headerLoadingSkeleton:Object(i.jsx)(n.l,{width:40,height:20}),cellLoadingSkeleton:Object(i.jsx)(n.l,{width:40,height:22})},{dataField:"col-3",text:"Scheduled/Sent",component:()=>null,headerLoadingSkeleton:Object(i.jsx)(n.l,{width:180,height:20}),cellLoadingSkeleton:Object(i.jsx)(n.l,{width:180,height:22})},{dataField:"col-4",text:"Opened",component:()=>null,headerLoadingSkeleton:Object(i.jsx)(n.l,{width:70,height:20}),cellLoadingSkeleton:Object(i.jsx)(n.l,{width:70,height:22})},{dataField:"col-5",text:"Clicked",component:()=>null,headerLoadingSkeleton:Object(i.jsx)(n.l,{width:65,height:20}),cellLoadingSkeleton:Object(i.jsx)(n.l,{width:65,height:22})},{dataField:"col-6",text:"Replied",component:()=>null,headerLoadingSkeleton:Object(i.jsx)(n.l,{width:45,height:20}),cellLoadingSkeleton:Object(i.jsx)(n.l,{width:45,height:22})},{dataField:"col-7",text:"Sender Email",component:()=>null,headerLoadingSkeleton:Object(i.jsx)(n.l,{width:170,height:20}),cellLoadingSkeleton:Object(i.jsx)(n.l,{width:170,height:22})},{dataField:"col-8",text:"Actions",component:()=>null,headerLoadingSkeleton:Object(i.jsx)(n.l,{width:45,height:20}),cellLoadingSkeleton:Object(i.jsx)(n.l,{width:45,height:22})}]})})]})]})},2206:function(e,t,s){"use strict";s(1);var n=s(0);t.a=e=>{let{width:t=20,height:s=20}=e;return Object(n.jsx)("svg",{width:t,height:s,viewBox:"0 0 490 490",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M268.5 1.48001C251.272 4.67901 235.296 14.178 225.133 27.264C209.062 47.959 205.019 72.626 213.928 95.622C215.681 100.148 230.414 124.609 254.34 162.719C285.41 212.206 293.118 223.812 298.43 229.096C305.666 236.295 312.713 240.895 322.706 244.943L329.5 247.695L329.757 318.966C329.92 364.349 329.649 391.591 329.01 393.964C326.774 402.268 317.484 410.671 305.886 414.882C288.778 421.092 267.774 420.289 252.138 412.827C243.966 408.927 235.609 400.858 234.095 395.405C233.356 392.742 233.009 364.594 233.006 306.886C233.002 258.731 232.598 220.153 232.067 217.353C228.117 196.527 213.849 179.34 191.5 168.488C175.851 160.889 167.095 158.858 147.5 158.286C133.833 157.886 129.987 158.129 121.126 159.953C90.63 166.23 68.288 182.978 58.62 206.809L55.5 214.5L55.21 280.565L54.92 346.63L48.71 348.858C24.936 357.386 6.126 379.161 1.458 403.557C-5.236 438.543 15.327 473.453 49.703 485.464C84.564 497.643 123.581 483.187 141.586 451.421C153.451 430.487 153.137 401.756 140.821 381.321C131.541 365.926 116.141 353.299 100.711 348.435L94.942 346.617L95.221 284.558C95.533 215.153 94.982 220.275 102.995 212.351C111.985 203.461 126.144 198.684 143.5 198.684C160.856 198.684 175.015 203.461 184.005 212.351C192.12 220.375 191.44 211.913 192.005 312C192.51 401.486 192.511 401.501 194.756 408.123C199.028 420.72 209.831 434.347 222.327 442.898C241.478 456.005 270.893 462.464 295.5 458.965C331.47 453.851 358.604 434.308 367.649 407C369.329 401.93 369.512 395.488 369.986 324.676L370.5 247.851L377.647 245.071C387.078 241.402 397.544 234.34 404.192 227.16C410.42 220.432 480.825 106.486 484.736 96.803C490.754 81.903 491.395 65.654 486.564 50.422C482.994 39.167 477.709 30.709 468.481 21.483C456.016 9.02201 440.075 1.78101 421.924 0.334006C412.756 -0.395994 408.243 0.883007 402.875 5.73201C394.907 12.931 394.452 25.904 401.871 34.356C404.707 37.588 410.242 39.724 418.701 40.851C423.212 41.452 428.944 42.903 431.438 44.076C437.157 46.764 443.273 52.656 446.108 58.209C449.133 64.132 449.815 74.492 447.556 80.195C444.414 88.13 377.75 196.136 373.221 200.631C367.343 206.465 359.786 209.208 349.648 209.189C342.945 209.177 340.897 208.731 335.648 206.146C332.267 204.48 328.108 201.628 326.407 199.809C322.622 195.761 254.562 87.478 251.903 81.274C247.782 71.66 250.627 58.531 258.548 50.61C264.446 44.712 269.925 42.234 280.056 40.884C291.983 39.294 296.713 36.627 300.246 29.5C305.557 18.784 300.831 6.15901 289.782 1.55101C285.38 -0.285994 278.139 -0.309994 268.5 1.48001ZM88.459 387.071C95.806 389.819 104.039 397.401 107.093 404.23C110.581 412.028 110.419 422.58 106.695 430.191C103.39 436.946 97.734 442.295 90.12 445.865C85.276 448.136 83.188 448.499 75 448.489C63.693 448.477 58.715 446.62 51.237 439.625C44.735 433.543 41.67 427.212 41.177 418.841C40.708 410.89 42.01 406.254 46.648 399.349C52.932 389.992 62.657 385.123 75.212 385.047C80.658 385.014 84.552 385.609 88.459 387.071Z",fill:"currentColor"})})}},2207:function(e,t,s){"use strict";var n=s(2),a=(s(1),s(811)),c=s.n(a),i=s(2132),l=s(0);t.a=e=>{let{score:t=0,style:s}=e;const a=Object(i.e)(t).color,o=Object(n.a)(Object(n.a)({chart:{type:"radialBar"},series:[(null===s||void 0===s?void 0:s.value)||t],plotOptions:{radialBar:{hollow:{size:"60%"},startAngle:-120,endAngle:120,track:{background:"#F1F2F5",startAngle:-120,endAngle:120},dataLabels:{name:{show:!1},value:{fontSize:(null===s||void 0===s?void 0:s.fontSize)||"32px",show:!0,color:a,fontWeight:"600",offsetY:(null===s||void 0===s?void 0:s.offsetY)||0,formatter:()=>t.toString()}}}}},(null===s||void 0===s?void 0:s.grid)?{grid:s.grid}:{}),{},{fill:{type:"gradient",gradient:{shade:"dark",type:t>30&&t<61&&!(null===s||void 0===s?void 0:s.value)?"vertical":"horizontal",stops:[0,(null===s||void 0===s?void 0:s.value)||t],colorStops:Object(i.c)((null===s||void 0===s?void 0:s.value)||t)}},stroke:{lineCap:"round"}});return Object(l.jsxs)("div",{className:"score-apex-chart",children:[Object(l.jsx)(c.a,Object(n.a)({options:o,series:o.series,type:"radialBar"},(null===s||void 0===s?void 0:s.className)?{className:s.className}:{})),Object(l.jsx)("div",{className:"markers marker-zero",children:Object(l.jsx)("span",{children:"0"})}),Object(l.jsxs)("div",{className:"markers marker-twenty-five",children:[Object(l.jsx)("span",{children:"25"}),Object(l.jsx)("div",{className:"marker-dash"})]}),Object(l.jsxs)("div",{className:"markers marker-fifty",children:[Object(l.jsx)("span",{children:"50"}),Object(l.jsx)("div",{className:"marker-dash"})]}),Object(l.jsxs)("div",{className:"markers marker-seventy-five",children:[Object(l.jsx)("span",{children:"75"}),Object(l.jsx)("div",{className:"marker-dash"})]}),Object(l.jsx)("div",{className:"markers marker-hundred",children:Object(l.jsx)("span",{children:"100"})})]})}},2208:function(e,t,s){"use strict";s(1);var n=s(4),a=s(53),c=s(0);t.a=()=>{const e=()=>Object(c.jsxs)("div",{className:"d-flex align-items-center justify-content-center sequence-score-loading--sequence-score-tab",children:[Object(c.jsxs)("div",{className:"sequence-score-loading--sequence-score-tab-progress mr-2",children:[Object(c.jsx)(n.l,{circle:!0,width:54,height:54}),Object(c.jsx)("div",{className:"inner-loader",children:Object(c.jsx)(n.l,{width:18,height:18,borderRadius:4})})]}),Object(c.jsx)(n.l,{width:100,height:20})]}),t=()=>Object(c.jsxs)("div",{className:"d-flex justify-content-between align-items-center sequence-score-loading--sequence-score-factor",children:[Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)(n.l,{width:16,height:20,borderRadius:4}),Object(c.jsxs)("div",{className:"sequence-score-loading--sequence-score-factor-content",children:[Object(c.jsx)(n.l,{width:70,height:20,borderRadius:4,className:"mb-1"}),Object(c.jsx)(n.l,{width:504,height:20,borderRadius:4})]})]}),Object(c.jsx)("div",{children:Object(c.jsx)(n.l,{width:70,height:20,borderRadius:4})})]});return Object(c.jsx)("div",{className:"sequence-score-loading--container",children:Object(c.jsxs)("div",{className:"sequence-score-loading--sequence-score",children:[Object(c.jsx)(a.r,{}),Object(c.jsx)(n.l,{className:"mt-3",width:303,height:20}),Object(c.jsx)(n.l,{className:"mt-3",width:530,height:12}),Object(c.jsx)(n.l,{className:"mt-1",width:346,height:12}),Object(c.jsxs)("div",{className:"mt-4 sequence-score-loading--sequence-score-tabs",children:[e(),e(),e()]}),Object(c.jsxs)("div",{className:"mt-4 sequence-score-loading--sequence-score-factors",children:[t(),t(),t()]})]})})}},2225:function(e,t,s){"use strict";s.r(t);var n=s(15),a=s(63),c=s(37),i=s(20),l=s(97),o=s(2),d=s(1),r=s(5),u=s(2059),b=s(2076),j=s(2062),h=s(29),m=s(27),p=s(14),v=s.n(p),g=s(10),O=s(8),S=s(4),x=s(16),q=s(2122),f=s(345),C=s(2240),y=s(91),N=s(76),w=s(11),R=s(536),E=s(703),A=s(34),k=s(82),I=s(351),P=s(0);var T=e=>{let{onSend:t,onClose:s,isRequestPending:n,show:a}=e;const{t:c}=Object(m.b)();return Object(P.jsx)("div",{className:"delete-template-modal",children:Object(P.jsx)(I.a,{content:c("messages.send_email_subject"),isRequestPending:n,onClose:s,onSubmit:t,showCancelButton:!0,showSuccessButton:!0,cancelButtonText:c("labels.no"),show:a,title:c("messages.send_email"),successButtonText:c("labels.yes")})})};let L=function(e){return e.Scheduled="scheduled",e.Delivered="delivered",e.Bounced="bounced",e.Opened="opened",e.Clicked="clicked",e.Replied="replied",e.Failed="failed",e.HardBounced="hardBounced",e.BlockBounced="blockBounced",e.SoftBounced="softBounced",e}({}),F=function(e){return e.HardBounced="hardBounced",e.BlockBounced="blockBounced",e.SoftBounced="softBounced",e.Failed="failed",e.Bounced="bounced",e}({});const M=e=>{var t;let{bounced:s,activity:n,time:a,emailList:c}=e;return{message:(null===s||void 0===s?void 0:s.manually)?"You marked this email as bounced manually":null===s||void 0===s?void 0:s.reason,value:null!==(t=null===n||void 0===n?void 0:n.bouncedAt)&&void 0!==t?t:null===a||void 0===a?void 0:a.value,type:(null===s||void 0===s?void 0:s.type)||(null===a||void 0===a?void 0:a.type)||"bounced",timeZone:null===c||void 0===c?void 0:c.timeZone,failedReason:null===a||void 0===a?void 0:a.failReason}},_=e=>v()([{"help-icon failed-reason-question-rounded":e===F.Failed,"red-txt-12 bounced-reason-question-rounded":e===F.SoftBounced||e===F.Bounced,"hard-bounced-icon hard-bounced-reason-question-rounded":e===F.HardBounced,"block-bounced-icon block-bounced-reason-question-rounded":e===F.BlockBounced},"ml-1 font-16"]),D=e=>v()({"mr-1 red-txt-12":e===F.SoftBounced||e===F.Bounced," mr-1 failed-status":e===F.Failed,"mr-1 hard-bounced-status":e===F.HardBounced,"mr-1 block-bounced-status":e===F.BlockBounced}),B=e=>e===F.Bounced||e===F.HardBounced||e===F.BlockBounced||e===F.SoftBounced;var G=function(e){return e.Replied="replied",e.Bounced="bounced",e}(G||{});var V=e=>{let{row:t,sendEmail:s,changeStatus:n,onPreview:a,resendEmail:c}=e;const{time:{type:i},id:l}=t,[o,r]=Object(d.useState)(!1),[u,b]=Object(d.useState)(!1),{sequenceId:j}=Object(h.i)(),m=()=>{r(!o)},p=()=>{b((e=>!e))},v=[{id:1,label:"Mark as replied",icon:"round-corner-arrow-back",onClick:()=>n(l,G.Replied),iconComponent:null},{id:2,label:"Mark as bounced",icon:null,onClick:()=>n(l,G.Bounced),iconComponent:Object(P.jsx)(A.a,{src:x.a.MailBounced})}],g=B(i)?v.filter((e=>"Mark as bounced"!==e.label)):v;return"sent"===i&&v.unshift({id:0,label:"Preview email",icon:"mail",onClick:()=>a(t),iconComponent:null}),"scheduled"===i&&v.unshift({id:0,label:"Send now",icon:"send",onClick:()=>m(),iconComponent:null}),"failed"===i&&v.splice(0,v.length,{id:0,label:"Resend Email",icon:"mail-forward",onClick:()=>c(j,l,i),iconComponent:null}),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(T,{show:o,onSend:async()=>{p(),await s(l),p(),m()},onClose:m,isRequestPending:u}),Object(P.jsxs)(E.a,{className:"sequence-step-email-list-dropdown",bsPrefix:"dropdown-custom",drop:"down",children:[Object(P.jsx)(E.a.Toggle,{bsPrefix:"dropdown-toggle-custom",variant:"dropdown-custom",id:"dropdown-basic",children:Object(P.jsx)(k.a,{identifier:"more-vertical-alt"})}),Object(P.jsx)(E.a.Menu,{bsPrefix:"dropdown-menu-custom",children:g.map((e=>Object(P.jsxs)(E.a.Item,{onClick:e.onClick,bsPrefix:"dropdown-item-custom",children:[e.iconComponent&&e.iconComponent,e.icon&&Object(P.jsx)(k.a,{identifier:e.icon}),Object(P.jsx)("span",{className:"ml-2",children:e.label})]},e.id)))})]})]})},U=s(806),W=s(73),H=s(17),z=s(40),Y=s(131),Q=s(2129),K=s(812);var Z=e=>{let{show:t,onClose:s,sentEmailPreview:n,userTimezone:a}=e;const c=Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("h1",{children:Object(P.jsx)(Y.a,{string:null===n||void 0===n?void 0:n.subject,length:90,tooltipClassName:"email-preview-tooltip"})}),(null===n||void 0===n?void 0:n.preHeader)&&Object(P.jsx)("p",{children:Object(P.jsx)(Y.a,{string:null===n||void 0===n?void 0:n.preHeader,length:90,tooltipClassName:"email-preview-tooltip"})})]});return Object(P.jsxs)(z.a,{show:t,onClose:s,showCloseIcon:!0,hideFooter:!0,titleContent:c,backdrop:"static",className:"email-preview-modal",children:[Object(P.jsx)(Q.a,{className:"mb-4",senderName:null===n||void 0===n?void 0:n.senderName,fromEmail:null===n||void 0===n?void 0:n.fromEmail,to:null===n||void 0===n?void 0:n.to,sentDate:null===n||void 0===n?void 0:n.sentDate,userTimezone:a}),Object(P.jsx)(K.a,{content:null===n||void 0===n?void 0:n.content,attachments:null===n||void 0===n?void 0:n.attachments})]})},J=s(39),X=s(736),$=s(42),ee=s(145),te=s(21);var se=e=>{let{show:t,onClose:s,message:n}=e;const[a,c]=Object(d.useState)(!1),i=Object(d.useRef)(null),l=Object(d.useCallback)((()=>{n&&!a&&(navigator.clipboard.writeText(n),c(!0),i.current=setTimeout((()=>{c(!1)}),2e3))}),[n,a]);return Object(d.useEffect)((()=>()=>{i.current&&(clearTimeout(i.current),i.current=null)}),[]),Object(P.jsx)(z.a,{show:t,onClose:s,onCancel:s,onSubmit:l,submitButtonText:a?"Copied":"Copy",isSubmitDisabled:a,titleContent:Object(P.jsx)("h1",{children:"Error Message"}),backdrop:"static",className:"email-preview-modal",extraModalProps:{dialogClassName:"custom-small-modal"},children:Object(P.jsx)("div",{className:"email-preview-copy-error",style:{marginBottom:24},children:n||"No error information available."})})};const ne={scheduled:{icon:Object(P.jsx)(U.a,{}),overlayTextPrefix:"Scheduled",columnTextPrefix:()=>"Scheduled"},sent:{icon:Object(P.jsx)(q.a,{}),overlayTextPrefix:"Sent",columnTextPrefix:()=>"Sent"},bounced:{icon:null,overlayTextPrefix:"Bounced",columnTextPrefix:()=>"Bounced"},hardBounced:{icon:null,overlayTextPrefix:"Hard Bounced",columnTextPrefix:()=>"Hard Bounced"},blockBounced:{icon:null,overlayTextPrefix:"Block Bounced",columnTextPrefix:()=>"Block Bounced"},softBounced:{icon:null,overlayTextPrefix:"Bounced",columnTextPrefix:()=>"Bounced"},opened:{icon:null,overlayTextPrefix:"Opened",columnTextPrefix:null},clicked:{icon:null,overlayTextPrefix:"Clicked",columnTextPrefix:null},replied:{icon:null,overlayTextPrefix:"Replied",columnTextPrefix:null},failed:{icon:null,overlayTextPrefix:"Failed",columnTextPrefix:null}};var ae=e=>{let{emailList:t,paginationFilter:s,onPaginationChange:n,onSort:a,sendEmail:c,changeStatus:i,showEngagementStatisticsHandler:l,isEmailInQueue:u,sentEmailPreview:b,sendGetSentEmailPreviewRequest:j,getSentEmailPreviewRequestStatus:p,userTimezone:g,emailsFilters:q,resetGetSentEmailPreviewRequest:E,viewShowProspectDetailsModal:k,pageHeaderBannerMessage:I,isWarningSignShow:T,warningSignMessage:L,resendEmail:G}=e;const{t:U}=Object(m.b)(),[z,Q]=Object(d.useState)(!1),[K,ae]=Object(d.useState)(!1),[ce,ie]=Object(d.useState)(!1),[le,oe]=Object(d.useState)(""),{sequenceId:de}=Object(h.i)(),re=()=>{ae(!K),(e=>{let{showEmailPreviewModal:t,resetGetSentEmailPreviewRequest:s}=e;t&&s()})({showEmailPreviewModal:K,resetGetSentEmailPreviewRequest:E})},ue=e=>{j(null===e||void 0===e?void 0:e.id)},be=e=>{ie(!ce),oe(e)},je=Object(d.useCallback)(((e,t)=>{e.stopPropagation(),be(t)}),[be]),he=t.emails.map((e=>{let{count:s,bounced:n,activity:a,contact:c,stepNumber:i,subject:l,time:o,id:d,emailAccountId:r,variantId:u,variantNumber:b}=e;return{contact:{name:c.name,email:c.email,id:c.id},id:d,subject:l,bounced:n,emailAccountId:r,variantId:u,variantNumber:b,clicked:{type:"clicked",value:a.clickedAt,count:s.clicked,text:U("messages.link_clicked_on"),timeZone:t.timeZone},replied:{type:"replied",value:a.repliedAt,text:U("messages.email_replied_on"),timeZone:t.timeZone},opened:{type:"opened",value:a.openedAt,count:s.opened,text:U("messages.email_opened_on"),timeZone:t.timeZone},stepNumber:"Step ".concat(i),time:M({bounced:n,activity:a,time:o,emailList:t})}})),me=(e,t)=>{a({by:e,order:t})},pe=(e,t,s)=>{var n;let{type:a,value:c,timeZone:i,count:d}=e;return 0===d?Object(P.jsx)("span",{className:"cursor-not-allowed",children:"0"}):Object(P.jsx)(w.c,{text:Object(C.a)(null===(n=ne[a])||void 0===n?void 0:n.overlayTextPrefix,c,i),placement:w.d.Auto,className:"email-activity-tooltip",children:Object(P.jsx)("span",Object(o.a)(Object(o.a)({className:"activity-count"},Object(H.a)((()=>l(t,s)))),{},{children:d}))})},ve=e=>void 0===e||null===e?"-":e<=0?"":ve(Math.floor((e-1)/26))+String.fromCharCode((e-1)%26+65),ge=(e,t,s,n,a,c)=>{var i;return Object(P.jsxs)("div",{className:"bounced-email-schedule-sent-tab",children:[Object(P.jsx)(w.c,{text:Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("span",{children:Object(C.a)(ne[e].overlayTextPrefix,t,s)}),B(e)?Object(P.jsx)("span",{className:"d-block mt-1 font-10 font-normal gray-txt-13",children:"(Click to Preview)"}):null]}),placement:w.d.Auto,className:"date-time-tooltip",children:Object(P.jsxs)("span",{className:"d-flex flex-column",children:[Object(P.jsx)("div",{className:"d-flex align-items-center",children:Object(P.jsx)("span",{className:D(e),children:(null===(i=ne[e])||void 0===i?void 0:i.overlayTextPrefix)||e})}),Object(P.jsx)("span",{className:"regular-1 gray-txt-15 whiteSpaceNoWrap",children:a.value})]})}),Object(P.jsx)("span",{className:"d-flex flex-column",children:Object(P.jsxs)("div",{className:"d-flex align-items-center",children:[Object(P.jsx)(w.c,{text:Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("span",{className:"email_copy_error_two_line_clamp",children:n}),B(e)&&Object(P.jsx)("span",{className:"d-block mt-1 font-10 font-normal gray-txt-13",children:"(Click to Preview Error Message)"})]}),placement:w.d.Auto,className:"bounced-reason-tooltip",children:Object(P.jsx)(r.Ib,Object(o.a)({className:_(e)},Object(H.a)((e=>je(e,n)))))}),(e===F.Failed||e===F.BlockBounced)&&Object(P.jsx)(S.i,{className:"resend-pill ".concat(v()({"block-resend-pill":e===F.BlockBounced})),icon:()=>Object(P.jsx)(r.ic,{width:16,height:16}),label:"Resend",onClick:t=>{t.stopPropagation(),G(de,c.id,e)}})]})})]})},Oe=[{dataField:"contact",text:"Prospect",headerAlign:"left",component:(e,t)=>{let{name:s,email:n}=e;return Object(P.jsxs)("div",Object(o.a)(Object(o.a)({className:"email-prospect-col"},Object(H.a)((()=>k(t.contact.id)))),{},{children:[Object(P.jsx)("div",{className:"name",children:s}),Object(P.jsx)(Y.a,{string:n,textClassName:"email",length:30})]}))}},{dataField:"stepNumber",text:"Step",headerAlign:"left",component:(e,t)=>{var s;const n=-1!==(null===t||void 0===t?void 0:t.variantNumber)&&ve(null===t||void 0===t?void 0:t.variantNumber);return Object(P.jsxs)("div",{className:"d-flex flex-column align-items-start",children:[Object(P.jsx)("span",{className:"whiteSpaceNoWrap",children:e}),-1!==(null===t||void 0===t?void 0:t.variantNumber)&&Object(P.jsx)(P.Fragment,{children:"-"===n?Object(P.jsx)("div",{className:"step-variant-block d-flex justify-content-center align-items-center purple-14",children:Object(P.jsx)("span",{className:"purple-txt-13 regular-1 font-medium whiteSpaceNoWrap",children:n})}):Object(P.jsx)(w.c,{text:"".concat(e," -> Variant ").concat(n," ").concat("scheduled"===(null===t||void 0===t||null===(s=t.time)||void 0===s?void 0:s.type)?"Scheduled":"Sent"),children:Object(P.jsx)("div",{className:"step-variant-block d-flex justify-content-center align-items-center purple-14",children:Object(P.jsx)("span",{className:"purple-txt-13 regular-1 font-medium whiteSpaceNoWrap",children:n})})})})]})}},{dataField:"time",text:"Scheduled/Sent",headerAlign:"left",component:(e,t)=>{var s,n;let{message:a,value:c,timeZone:i,type:l,failedReason:d}=e;const r=B(l)?a:d,b=null===r||void 0===r?void 0:r.replace(/&#(\d+);/g,((e,t)=>String.fromCodePoint(parseInt(t,10))||"")),j=Object(R.d)(c,i,!0);if(B(l))return Object(P.jsx)("div",{className:"d-flex align-items-center cursor-pointer",children:Object(P.jsx)("div",Object(o.a)(Object(o.a)({},Object(H.a)((()=>ue(t)))),{},{children:ge(l,c,i,b,j,t)}))});if("failed"===l)return Object(P.jsx)("div",{className:"d-flex align-items-center whiteSpaceNoWrap",children:ge(l,c,i,r,j,t)});if("scheduled"===l&&u)return Object(P.jsxs)("div",{className:"d-flex align-items-center cursor-pointer whiteSpaceNoWrap",children:[Object(P.jsx)(w.c,{text:"This email cannot be sent because the monthly email-sending limit has been reached, it is currently queued and will be sent once the quota is restored",placement:w.d.Auto,className:"date-time-tooltip",children:Object(P.jsx)("span",{className:"mr-1 red-txt-12",children:"Queued"})}),Object(P.jsx)(w.c,{text:"This email cannot be sent because the monthly email-sending limit has been reached, it is currently queued and will be sent once the quota is restored",placement:w.d.Auto,className:"bounced-reason-tooltip",children:Object(P.jsx)(W.a,{identifier:"help",className:"red-txt-12 ml-1 font-16"})})]});const h=null===(s=ne[l])||void 0===s?void 0:s.columnTextPrefix(!j.isRelative),m="".concat("-"===j.value?"To be scheduled":h);return"-"===j.value?Object(P.jsx)("span",{className:"regular-2 popover-arrow-color-txt whiteSpaceNoWrap",children:m}):Object(P.jsx)(P.Fragment,{children:Object(P.jsx)("div",Object(o.a)(Object(o.a)({className:"cursor-pointer scheduled-sent-email whiteSpaceNoWrap"},"sent"===l&&Object(H.a)((()=>ue(t)))),{},{children:Object(P.jsx)("span",{className:"d-flex align-items-center mr-1",children:Object(P.jsx)(w.c,{text:Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("span",{children:Object(C.a)(null===(n=ne[l])||void 0===n?void 0:n.overlayTextPrefix,c,i)}),"sent"===l&&Object(P.jsx)("span",{className:"d-block mt-1 font-10 font-normal gray-txt-13",children:"(Click to Preview)"})]}),placement:w.d.Auto,className:"date-time-tooltip",children:Object(P.jsxs)("span",{className:"d-flex align-items-center mr-1",children:[Object(P.jsxs)("span",{className:"d-flex flex-column",children:[Object(P.jsx)("span",{className:"regular-2 popover-arrow-color-txt",children:m}),Object(P.jsx)("span",{className:"regular-1 gray-txt-15",children:j.value})]}),"sent"===l&&Object(P.jsx)(W.a,{className:"mail-icon ml-2 font-16 blue-txt-15",identifier:"mail"})]})})})}))})}},{dataField:"opened",text:"Opened",headerAlign:"left",sort:!0,onSort:me,component:(e,t)=>pe(e,f.a.EmailOpened,t)},{dataField:"clicked",text:"Clicked",headerAlign:"left",sort:!0,onSort:me,component:(e,t)=>pe(e,f.a.LinkClicked,t)},{dataField:"replied",text:"Replied",headerAlign:"left",component:(e,t)=>{var s;let{type:n,value:a,timeZone:c}=e;return a?Object(P.jsx)(w.c,{text:Object(C.a)(null===(s=ne[n])||void 0===s?void 0:s.overlayTextPrefix,a,c),placement:w.d.Auto,className:"email-activity-tooltip",children:Object(P.jsx)(A.a,{className:"email-replied-icon",src:x.a.CheckSingleGreen,onClick:()=>l(f.a.EmailReplied,t)})}):Object(P.jsx)("span",{className:"cursor-not-allowed",children:"-"})}},{dataField:"emailAccountId",text:"Sender Email",headerAlign:"left",component:(e,t)=>"scheduled"===t.time.type?Object(P.jsx)("span",{children:"-"}):Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{className:"name",children:null===e||void 0===e?void 0:e.fromName}),Object(P.jsx)("div",{className:"email",children:null===e||void 0===e?void 0:e.fromEmail})]})},{dataField:"Actions",text:"Actions",headerAlign:"left",component:(e,t)=>Object(P.jsx)(V,{sendEmail:()=>{var e;Object(te.g)()?Q(!0):c(t.id,null===t||void 0===t||null===(e=t.emailAccountId)||void 0===e?void 0:e.emailAccountId,null===t||void 0===t?void 0:t.variantId)},changeStatus:i,row:t,onPreview:ue,resendEmail:G})}];if(Object(d.useEffect)((()=>{Object(J.b)({status:p,onSuccess:()=>{(e=>{let{sentEmailPreview:t,onEmailPreviewModalChange:s}=e;!Object.values(t).every((e=>null===e))&&t.content&&t.subject?s():O.d.error("Email Preview is not available for this Email",{theme:O.a.New})})({sentEmailPreview:b,onEmailPreviewModalChange:re})},onFailed:()=>{O.d.error("Failed to load sent email preview",{theme:O.a.New})}})}),[p]),Object(d.useEffect)((()=>()=>{E()}),[]),!he.length)return Object(P.jsxs)("div",{className:"empty-list-emails",children:[Object(P.jsx)(A.a,{src:x.a.NoEmailsFound}),T?Object(P.jsxs)("h2",{className:"w-75 text-center",children:[L||"Scheduled emails are not displayed because you have more than 20,000 emails scheduled across all the active sequences. But don't worry \u2013 all your scheduled emails will be sent without any interruption."," ",Object(P.jsx)("a",{href:$.a.doYouKnowWhyScheduledEmailsAreNotShown,target:"_blank",rel:"noreferrer",children:"Learn more"})]}):Object(P.jsx)("h2",{children:"No emails found!"})]});const Se=v()([{"email-table":!Object(X.a)(q)},{"email-table-filter":Object(X.a)(q)&&!I},{"sm-table":!Object(X.a)(q)&&I},{"md-table":Object(X.a)(q)&&I}]);return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{className:Se,children:Object(P.jsx)(y.a,{columns:Oe,data:he,onPaginationOptionsChange:n,paginationOptions:{options:{totalElements:t.totalCount,page:s.page,limit:s.limit},onPaginationOptionsChange:n},pagination:N.b.SHOW})}),K&&Object(P.jsx)(Z,{show:K,onClose:re,sentEmailPreview:b,userTimezone:g}),ce&&Object(P.jsx)(se,{show:ce,onClose:()=>be(),message:le}),Object(P.jsx)(ee.a,{show:z,onClose:()=>Q(!1),title:"Sending email is disabled in demo mode",content:"This is a demo account with sample data. Signup to send emails",primaryBtnLabel:"Sign up"})]})},ce=s(2204),ie=s(241);var le=()=>Object(P.jsx)("div",{className:"h-100 w-100 d-flex justify-content-center align-items-center position-relative",children:Object(P.jsx)(ie.a,{description:Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{children:"You can view scheduled and sent emails here once the sequence has"}),Object(P.jsx)("div",{children:" started."})]}),title:"All your email data at a single place ",imgSrc:x.a.EmptyData4})}),oe=s(256),de=s(848),re=s(2130),ue=s(100);const be=e=>e===L.HardBounced||e===L.BlockBounced||e===L.SoftBounced,je=(e,t,s,n)=>{var a,c;return e===L.Bounced&&t.status&&be(null===t||void 0===t?void 0:t.status)&&null!==(a=null===(c=s.find((e=>e.type===t.status)))||void 0===c?void 0:c.count)&&void 0!==a?a:n},he=(e,t,s,n)=>{var a,c;return e===L.Bounced&&t.status&&be(null===t||void 0===t?void 0:t.status)&&null!==(a=null===(c=s.find((e=>e.type===t.status)))||void 0===c?void 0:c.percentage)&&void 0!==a?a:n},me=(e,t,s)=>e===L.Bounced?t===L.HardBounced?"Hard Bounced":t===L.BlockBounced?"Block Bounced":t===L.SoftBounced?"Soft Bounced":"Bounced":s;var pe=s(2102),ve=s(781),ge=s(420),Oe=s(134);const Se=e=>{var t,s;return"asc"===(null===e||void 0===e||null===(t=e.toLocaleLowerCase())||void 0===t?void 0:t.trim())?Oe.b.ASC:"desc"===(null===e||void 0===e||null===(s=e.toLocaleLowerCase())||void 0===s?void 0:s.trim())?Oe.b.DESC:void 0};var xe=s(537),qe=s(285),fe=s(415),Ce=s(785),ye=s.n(Ce),Ne=s(57);let we=function(e){return e.EmailAccountIds="emailAccountIds",e.VariantNumbers="variantNumbers",e.SentAt="sentAt",e}({});var Re=s(225);const Ee=[{id:1,key:"variant-a",value:"Variant A"},{id:2,key:"variant-b",value:"Variant B"},{id:3,key:"variant-c",value:"Variant C"},{id:4,key:"variant-d",value:"Variant D"},{id:5,key:"variant-e",value:"Variant E"},{id:6,key:"variant-f",value:"Variant F"},{id:7,key:"variant-g",value:"Variant G"},{id:8,key:"variant-h",value:"Variant H"},{id:9,key:"variant-i",value:"Variant I"},{id:10,key:"variant-j",value:"Variant J"},{id:11,key:"variant-k",value:"Variant K"},{id:12,key:"variant-l",value:"Variant L"},{id:13,key:"variant-m",value:"Variant M"},{id:14,key:"variant-n",value:"Variant N"},{id:15,key:"variant-o",value:"Variant O"},{id:16,key:"variant-p",value:"Variant P"},{id:17,key:"variant-q",value:"Variant Q"},{id:18,key:"variant-r",value:"Variant R"},{id:19,key:"variant-s",value:"Variant S"},{id:20,key:"variant-t",value:"Variant T"},{id:21,key:"variant-u",value:"Variant U"},{id:22,key:"variant-v",value:"Variant V"},{id:23,key:"variant-w",value:"Variant W"},{id:24,key:"variant-x",value:"Variant X"},{id:25,key:"variant-Y",value:"Variant Y"},{id:26,key:"variant-z",value:"Variant Z"}];var Ae=s(505);var ke=e=>{let{show:t,emailFilters:s,onClear:n,onClose:a,onSubmit:c,sequenceId:i,senderEmails:l,getSenderEmails:o,resolveAndSetFilters:u,timeZone:b}=e;const{t:j}=Object(m.b)();return Object(d.useEffect)((()=>{o(i)}),[]),Object(P.jsxs)(fe.a,{show:t,"aria-labelledby":"contained-modal-title-vcenter",className:"prospects-filters-modal",backdrop:"static",children:[Object(P.jsxs)(fe.a.Header,{children:[Object(P.jsx)(fe.a.Title,{children:Object(P.jsx)("span",{className:"semibold-3",children:j("labels.filters")})}),Object(P.jsx)(S.d,{className:"close",onClick:a,children:Object(P.jsx)(r.eb,{})})]}),Object(P.jsxs)(fe.a.Body,{children:[Object(P.jsx)(Re.a,{label:"Sender Email",onSelect:e=>{u(we.EmailAccountIds,e)},options:null!==l&&void 0!==l?l:[],labelKey:"fromEmail",placeholder:"Search & Select email accounts",values:[...s.emailAccountIds]}),Object(P.jsx)(Re.a,{label:"Email Variants",containerClassName:"mt-4",onSelect:e=>{u(we.VariantNumbers,e)},options:Ee,labelKey:"value",placeholder:"Search & Select variants",values:[...s.variantNumbers]}),Object(P.jsx)(Re.a,{label:"Sent Date",containerClassName:"mt-4",onSelect:e=>{if(e.length>0){const t=Ne.DateTime.local().zoneName,s=e.map((e=>{if(e){const s=Ne.DateTime.fromJSDate(e,{zone:t}).startOf("day"),n=s.setZone(b,{keepLocalTime:!0}).startOf("day"),a=s.offset,c=n.offset-a;let i=s;return c<0&&(i=s.plus({minutes:-c})),i.toJSDate()}return e})),n=s[0]&&Ne.DateTime.fromJSDate(s[0]).setZone(b),a=s[1]&&Ne.DateTime.fromJSDate(s[1]).setZone(b);u(we.SentAt,[{date:n&&n.toString(),displayDate:n&&n.toFormat("MMM dd, yyyy")},{date:a&&a.toString(),displayDate:a&&a.toFormat("MMM dd, yyyy")}])}else u(we.SentAt,[])},options:[],placeholder:"select",values:[...s.sentAt],filterType:Ae.a.Date})]}),Object(P.jsx)(fe.a.Footer,{children:Object(P.jsxs)("div",{className:"d-flex flex-row align-self-start flex-grow-1",children:[Object(P.jsx)(S.d,{variant:"link",onClick:n,className:"rst-btn",children:j("labels.clear_all")}),Object(P.jsxs)("div",{className:"d-flex flex-row justify-content-end flex-grow-1",children:[Object(P.jsx)(S.d,{variant:"tertiary",onClick:a,children:j("labels.cancel")}),Object(P.jsx)(S.d,{variant:"primary",onClick:()=>{var e;ye()(null===(e=s.sentAt[1])||void 0===e?void 0:e.date)&&(s.sentAt[1]=s.sentAt[0]),c(),a()},className:"ml-4",children:j("labels.apply")})]})]})})]})};const Ie={getSenderEmails:e=>Object(i.P)({sequenceId:e})};var Pe=Object(n.connect)((e=>({getProspectRequestStatus:e.prospect.getProspectRequest.status,getProspectRequestError:e.prospect.getProspectRequest.error,getProspectCountRequestStatus:e.prospect.getProspectCountRequest.status,getProspectCountRequestError:e.prospect.getProspectCountRequest.error,senderEmails:e.sequence.getSenderEmailsResponse,sequences:e.sequence.contactSequence,timeZone:e.home.timeZone})),Ie)(ke),Te=s(796),Le=s(196),Fe=s(19),Me=s(18),_e=s(240),De=s(502),Be=s(897),Ge=s(2205),Ve=s(2206),Ue=s(2228),We=s(28);var He=Object(m.c)()((e=>{const{t:t,userTimeZone:s,sequenceEmailsFilters:n,setSequenceEmailsFilters:a,prospectsDiagnoseEmailSendingGuideRequestStatus:c,prospectsDiagnoseEmailSendingGuide:i,isProspectActive:l}=e,{sequenceId:m,subsequenceId:p}=Object(h.i)(),S=p||m,[x,q]=Object(d.useState)(""),[C,y]=Object(d.useState)(!1),[N,R]=Object(d.useState)({emailAccountIds:[],sentAt:[],variantNumbers:[]}),[E,A]=Object(d.useState)(!1),[k,I]=Object(d.useState)(!1),[T,F]=Object(d.useState)(!1),[M,_]=Object(d.useState)(!1),[D,B]=Object(d.useState)({showEngagementStatsModal:!1,activeProspectId:null,activeType:f.a.EmailOpened,prospectName:"",prospectEmail:""}),G=Object(d.useMemo)((()=>{const e=Object(X.c)({emailAccountIds:n.emailAccountIds,sentAt:n.sentAt,variantNumbers:n.variantNumbers});return Object(o.a)(Object(o.a)(Object(o.a)({sequenceId:S,stepId:n.stepId,status:n.status,page:n.page,limit:n.limit,sortBy:n.sortBy,sortOrder:Se(n.sortOrder),search:n.search},(null===e||void 0===e?void 0:e.emailAccountIds)&&{emailAccountIds:e.emailAccountIds}),(null===e||void 0===e?void 0:e.variantNumbers)&&{variantNumbers:e.variantNumbers}),(null===e||void 0===e?void 0:e.sentAt)&&{sentAt:e.sentAt})}),[n,S]),{sendScheduledEmail:V,changeEmailStatus:U,sendGetUserSettingsRequest:W,sentEmailPreview:z,sendGetSentEmailPreviewRequest:Y,getSentEmailPreviewRequestStatus:Q,resetGetSentEmailPreviewRequest:K,selectedProspectId:Z,selectedProspectData:$,selectedProspectSequences:se,getSingleProspectDetailsStatus:ne,getSingleProspectSequencesDetailsStatus:ie,setSelectedProspectId:be,resetSelectedProspectId:Oe,resetSelectedProspectData:fe,pageHeaderBannerMessage:Ce,resendFailedEmail:ye,changeEmailStatusRequestStatus:Ne,changeEmailStatusRequestMessage:we,resetChangeEmailStatusRequest:Re,isDemoAccount:Ee}=e,{data:Ae,isLoading:ke,error:Ie,refetch:He}=Object(De.d)(G),{data:ze,isLoading:Ye,error:Qe,refetch:Ke}=Object(De.b)(Object(o.a)(Object(o.a)(Object(o.a)({sequenceId:G.sequenceId,stepId:G.stepId,search:G.search},(null===G||void 0===G?void 0:G.emailAccountIds)&&{emailAccountIds:G.emailAccountIds}),(null===G||void 0===G?void 0:G.variantNumbers)&&{variantNumbers:G.variantNumbers}),(null===G||void 0===G?void 0:G.sentAt)&&{sentAt:G.sentAt})),{data:Ze,isLoading:Je,error:Xe,refetch:$e}=Object(De.c)(Object(o.a)(Object(o.a)(Object(o.a)({sequenceId:G.sequenceId,status:G.status,search:G.search},(null===G||void 0===G?void 0:G.emailAccountIds)&&{emailAccountIds:G.emailAccountIds}),(null===G||void 0===G?void 0:G.variantNumbers)&&{variantNumbers:G.variantNumbers}),(null===G||void 0===G?void 0:G.sentAt)&&{sentAt:G.sentAt})),et=()=>{He(),Ke(),$e()};Object(d.useEffect)((()=>{(null===n||void 0===n?void 0:n.search)!==x&&q(n.search),JSON.stringify({emailAccountIds:n.emailAccountIds,variantNumbers:n.variantNumbers,sentAt:n.sentAt})!==JSON.stringify(N)&&R({emailAccountIds:n.emailAccountIds,variantNumbers:n.variantNumbers,sentAt:n.sentAt})}),[]),Object(d.useEffect)((()=>{ke||Ye||Je||(Ie&&Object(Be.a)(Ie),Qe&&Object(Be.a)(Qe),Xe&&Object(Be.a)(Xe))}),[ke,Ye,Je,Ie,Qe,Xe]),Object(d.useEffect)((()=>{Object(J.b)({status:Ne,onSuccess:()=>{O.d.success(we,{theme:O.a.New}),Re(),et()}})}),[Ne]);const tt=(e,t)=>{(e=>{let{type:t,value:s,filters:n,setFilters:a}=e;"status"!==t?"step"===t&&a(Object(o.a)(Object(o.a)({},n),{},{stepId:s,page:1})):a(Object(o.a)(Object(o.a)({},n),{},{status:s,page:1}))})({type:e,value:t,filters:n,setFilters:a})},st=Object(d.useMemo)((()=>(e=>{let{stepOfStatus:t}=e,s=[{id:null,text:"All Steps",number:null,count:null===t||void 0===t?void 0:t.total}];return s=s.concat(null===t||void 0===t?void 0:t.steps.map((e=>{let{count:t,id:s,number:n}=e;return{count:t,id:s,number:n,text:"Step ".concat(n)}}))),s.filter((e=>void 0!==e&&"object"===typeof e))})({stepOfStatus:Ze})),[Ze]),nt=Object(d.useMemo)((()=>{const e=(e=>{let{statusOfStep:t}=e;return[{text:"Total",type:null,count:null===t||void 0===t?void 0:t.total,countColor:"#1F2937",isPercentageShow:!1},{text:"Scheduled",type:L.Scheduled,count:0,countColor:"#1D4ED8",isPercentageShow:!1},{text:"Delivered",type:L.Delivered,count:0,countColor:"#4338CA",isPercentageShow:!1},{text:"Opened",type:L.Opened,count:0,countColor:"#0891B2",isPercentageShow:!0,percentage:0},{text:"Clicked",type:L.Clicked,count:0,countColor:"#6D28D9",isPercentageShow:!0,percentage:0},{text:"Replied",type:L.Replied,count:0,countColor:"#047857",isPercentageShow:!0,percentage:0},{text:"Bounced",type:L.Bounced,count:0,countColor:"#C2410C",isPercentageShow:!0,percentage:0},{text:"Failed",type:L.Failed,count:0,countColor:"#B91C1C",isPercentageShow:!0,percentage:0}]})({statusOfStep:ze});return null===ze||void 0===ze||ze.status.forEach((t=>{let{count:s,type:n}=t;const a=e.find((e=>{let{text:t}=e;return"Total"===t})).count,c=e.find((e=>{let{type:t}=e;return t===L.Delivered})).count,i=e.find((e=>{let{type:t}=e;return t===n}));i&&(i.count=s,i.percentage=Object(Le.b)(i.count,[L.Bounced,L.Failed].includes(i.type)?a:c))})),e}),[ze]),at=Object(d.useMemo)((()=>{var e,t;const s=[{text:"Hard Bounced",type:L.HardBounced,count:0,isPercentageShow:!0,percentage:0},{text:"Block Bounced",type:L.BlockBounced,count:0,isPercentageShow:!0,percentage:0},{text:"Soft Bounced",type:L.SoftBounced,count:0,isPercentageShow:!0,percentage:0}],n=null!==(e=null===(t=nt.find((e=>{let{text:t}=e;return"Total"===t})))||void 0===t?void 0:t.count)&&void 0!==e?e:0;return s.forEach((e=>{const t=null===ze||void 0===ze?void 0:ze.status.find((t=>t.type===e.type));t&&(e.count=t.count,e.percentage=Object(Le.b)(t.count,n))})),s}),[nt,ze]),ct=(e,t,s)=>(e||t)&&s===L.Scheduled,{showEngagementStatsModal:it,prospectEmail:lt,prospectName:ot,activeType:dt,activeProspectId:rt}=D,ut=e=>{if("Soft Bounced"===e)return null;let t="";switch(e){case"Hard Bounced":t="Emails not delivered as the prospect\u2019s email address is invalid or inactive.";break;case"Block Bounced":t="Email were not delivered because your email server rejected it due to issues with authentication, spam filtering, or sender reputation.";break;default:t=""}return Object(P.jsx)(qe.a,{text:t,children:Object(P.jsx)(r.Mb,{className:"bounce-info-icon"})})},bt=()=>{const e=at.filter((e=>e.type===L.BlockBounced||e.type===L.HardBounced||e.count>0)),t=e.some((e=>e.type===L.SoftBounced));return Object(P.jsx)("div",Object(o.a)(Object(o.a)({className:"bounce-summary-dropdown pointer"},Object(H.a)((e=>e.stopPropagation()))),{},{children:Object(P.jsx)(w.b,{className:"bounce-transfer  ".concat(t?"soft-bounced-dropdown":"hard-block-bounced-dropdown"),show:T,onToggle:e=>F(e),rootClose:!0,placement:w.d.BottomEnd,content:e.map((e=>{return Object(P.jsxs)("div",Object(o.a)(Object(o.a)({className:"bounce-dropdown"},Object(H.a)((()=>{return t=e.type,a(Object(o.a)(Object(o.a)({},n),{},{status:t})),void F(!1);var t}))),{},{children:[Object(P.jsxs)("div",{className:"bounce-indicator-wrapper",children:[Object(P.jsx)("div",{className:v()(["bounce-indicator",{hard:e.type===L.HardBounced,block:e.type===L.BlockBounced}])}),Object(P.jsxs)("span",{className:"bounce-name",children:[Object(_e.d)(e.text,20),ut(e.text)]})]}),Object(P.jsxs)("div",{className:"bounce-count-wrapper",children:[Object(P.jsx)("span",{className:"bounce-count",children:e.count}),Object(P.jsxs)("span",{className:"bounce-percentage",children:[(t=e.percentage,isNaN(t)?0:t%1===0?Math.round(t).toString():t.toFixed(1)),"%"]})]})]}),e.type);var t})),children:Object(P.jsx)(r.P,{className:"bounce-icon-wrapper"})})}))};return Ye||Je||ke?Object(P.jsx)(Ge.a,{}):(null===Ae||void 0===Ae?void 0:Ae.hasEmails)?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(u.a,{fluid:!0,className:"emails-container",children:[Object(P.jsx)(b.a,{className:"email-report-actions-container",children:Object(P.jsxs)("div",{className:"d-flex flex-column w-100",children:[Object(P.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(P.jsx)(j.a,{md:3,className:"p-0",children:Object(P.jsxs)("div",{className:"d-flex align-items-center",children:[Object(P.jsx)(oe.a,{onSearch:()=>{a(Object(o.a)(Object(o.a)({},n),{},{page:1,search:x}))},searchValue:x,setSearchValue:e=>q(e),onClearSearch:()=>{q(""),a(Object(o.a)(Object(o.a)({},n),{},{page:1,search:""}))},placeholder:t("labels.search_hit_enter").toString(),searchIconPlace:ge.a.Left}),Object(P.jsx)(qe.a,{text:t("labels.apply_filters"),placement:w.d.Bottom,className:"cell-card__tooltip",children:Object(P.jsx)("div",Object(o.a)(Object(o.a)({className:"ml-3"},Object(H.a)((()=>A(!0)))),{},{children:Object(P.jsx)(r.yb,{className:"regular-3 gray-txt-15 filter-icon-sequence"})}))})]})}),Object(P.jsxs)("div",{className:"d-flex align-items-center right-actions",children:[1===l&&Object(P.jsx)(qe.a,{placement:w.d.Bottom,text:"Diagnose Email Sending",children:Object(P.jsx)(We.a,Object(o.a)(Object(o.a)({className:"sequence-prospect-right-actions-diagnose-btn"},Object(H.a)((()=>{y(!0)}))),{},{children:Object(P.jsx)("span",{children:Object(P.jsx)(Ve.a,{width:20,height:20})})}))}),Object(P.jsx)(pe.a,{onRefresh:()=>{et()},iconClass:"refresh-icon-header",isTextVisible:!1,showTooltip:!0}),Object(P.jsx)(ve.a,{handleExport:async()=>{if(Ee)return void _(!0);const e=(e=>{var t,s;const n=Array.isArray(null===e||void 0===e?void 0:e.variantNumbers)&&e.variantNumbers.map((e=>{let{id:t}=e;return t})).join(",")||void 0,a=Array.isArray(null===e||void 0===e?void 0:e.emailAccountIds)&&e.emailAccountIds.map((e=>{let{id:t}=e;return t})).join(",")||void 0,c={};return(null===e||void 0===e?void 0:e.stepId)&&(c.stepId=e.stepId),(null===e||void 0===e?void 0:e.status)&&(c.status=e.status),Array.isArray(null===e||void 0===e?void 0:e.sentAt)&&2===e.sentAt.length&&(null===(t=e.sentAt[0])||void 0===t?void 0:t.date)&&(null===(s=e.sentAt[1])||void 0===s?void 0:s.date)&&(c.sentAt="".concat(e.sentAt[0].date,",").concat(e.sentAt[1].date)),n&&(c.variantNumbers=n),a&&(c.emailAccountIds=a),c})(n);try{const t=await g.a.get("sequences/".concat(S,"/emails/export-async"),{params:Object(o.a)({},e)}),{message:s,status:n}=t.payload;0===n?O.d.error(s):2===n?O.d.warning(s):O.d.success(Object(te.O)()?"Exporting data has been started successfully. You will shortly receive a notification with the exported data.(Estimate 30 mins)":s)}catch(t){O.d.error("Error while exporting csv")}},iconOnly:!0})]})]}),Object(P.jsx)("div",{className:"mt-3",children:Object(P.jsx)(Te.a,{prospectsFilters:{emailAccountIds:n.emailAccountIds,sentAt:n.sentAt,variantNumbers:n.variantNumbers},resetProspectsFilters:e=>{R(Object(o.a)(Object(o.a)({},N),{},{[e]:[]})),a(Object(o.a)(Object(o.a)({},n),{},{[e]:[]}))},isLoading:!1,isSequenceEmailsFilter:!0})})]})}),Object(P.jsx)(b.a,{children:Object(P.jsx)(j.a,{children:Object(P.jsx)("div",{className:"d-flex justify-content-between status-filter",children:nt.map((e=>{let{type:t,text:s,count:a,isPercentageShow:c,percentage:i}=e;return Object(P.jsx)(ce.a,{className:(l=t,o=n,v()([{"active-status-filter":l===o.status,"inactive-status-filter":l!==o.status}])),number:je(t,n,at,a),onClick:()=>tt("status",t),text:me(t,n.status,s),isPercentageShow:c,percentage:he(t,n,at,i),size:re.a.md,isWarningSignShow:ct(null===ze||void 0===ze?void 0:ze.isSkipped,null===Ae||void 0===Ae?void 0:Ae.isSkipped,t),bounceDropdownComponent:t===L.Bounced&&bt()},t);var l,o}))})})}),Object(P.jsxs)(b.a,{className:"emails-main",children:[Object(P.jsx)(j.a,{className:"step-filter",children:Object(P.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center ",children:st.map((e=>{return Object(P.jsx)(ce.a,{number:null===e||void 0===e?void 0:e.count,onClick:()=>tt("step",null===e||void 0===e?void 0:e.id),className:(t=null===e||void 0===e?void 0:e.id,s=n,v()([{"active-step-filter":t===s.stepId,"inactive-step-filter":t!==s.stepId}])),text:null===e||void 0===e?void 0:e.text},null===e||void 0===e?void 0:e.id);var t,s}))})}),Object(P.jsx)(j.a,{className:"emails-list-table",children:Object(P.jsx)(b.a,{className:"h-100 ml-auto w-full mr-0",children:Object(P.jsx)(j.a,{className:"h-100",children:Object(P.jsx)(ae,{emailList:Ae,paginationFilter:{page:n.page,limit:n.limit},onPaginationChange:e=>{let{page:t,limit:s}=e;a(Object(o.a)(Object(o.a)({},n),{},{page:t,limit:s}))},onSort:e=>{let{by:t,order:s}=e;a(Object(o.a)(Object(o.a)({},n),{},{sortBy:t,sortOrder:s}))},sendEmail:(e,t,s)=>(async(e,t,s)=>{const{payload:n}=await V({sequenceId:S,sequenceContactHistoryId:e,emailAccountId:t,variantId:s});return n.error?Object(ue.a)(n.message):(et(),W(),O.d.success("Email sent successfully.")),{}})(e,t,s),changeStatus:async(e,t)=>{const{payload:s}=await U({sequenceId:S,sequenceContactHistoryId:e,status:t});s.error||et()},showEngagementStatisticsHandler:(e,t)=>{const{id:s,name:n,email:a}=t.contact;B(Object(o.a)(Object(o.a)({},D),{},{showEngagementStatsModal:!0,activeProspectId:s,activeType:e,prospectName:n,prospectEmail:a}))},isEmailInQueue:null===Ae||void 0===Ae?void 0:Ae.isQueued,sentEmailPreview:z,sendGetSentEmailPreviewRequest:Y,getSentEmailPreviewRequestStatus:Q,userTimezone:s,emailsFilters:{emailAccountIds:n.emailAccountIds,sentAt:n.sentAt,variantNumbers:n.variantNumbers},resetGetSentEmailPreviewRequest:K,viewShowProspectDetailsModal:e=>{Object(Fe.a)(Me.a.PROSPECT_READ)&&e&&(be(e),I(!0))},pageHeaderBannerMessage:Ce,isWarningSignShow:ct(null===ze||void 0===ze?void 0:ze.isSkipped,null===Ae||void 0===Ae?void 0:Ae.isSkipped,n.status),warningSignMessage:(null===ze||void 0===ze?void 0:ze.skipMessage)||(null===Ae||void 0===Ae?void 0:Ae.skipMessage)||"",resendEmail:async(e,t,s)=>{const{payload:n}=await ye({sequenceId:e,sequenceContactHistoryId:t,resendType:s});n.error&&"Email has been marked as a bounce after 3 failed attempts."!==n.message||et()}})})})})]}),k&&Z&&Object(P.jsx)(xe.a,{show:k,onHide:()=>{I(!1),fe(),et()},selectedProspectId:Z,resetSelectedProspectId:Oe,selectedProspectData:$,selectedProspectSequences:se,getSingleProspectDetailsStatus:ne,getSingleProspectSequencesDetailsStatus:ie,isTagsFilterApplied:!1}),it&&Object(P.jsx)(de.a,{prospectEmail:lt,prospectFullName:ot,timezone:s,show:it,onHide:()=>{B(Object(o.a)(Object(o.a)({},D),{},{showEngagementStatsModal:!1}))},sequenceId:S,prospectId:rt,type:dt})]}),C&&Object(P.jsx)(Ue.a,{show:C,onClose:()=>{y(!1)},sequenceId:m,prospectsDiagnoseEmailSendingGuideRequestStatus:c,prospectsDiagnoseEmailSendingGuide:i}),E&&Object(P.jsx)(Pe,{show:E,emailFilters:N,resolveAndSetFilters:(e,t)=>((e,t)=>{R(Object(o.a)(Object(o.a)({},N),{},{[e]:t}))})(e,t),onClear:()=>{R({emailAccountIds:[],variantNumbers:[],sentAt:[]}),a(Object(o.a)(Object(o.a)({},n),{},{emailAccountIds:[],variantNumbers:[],sentAt:[]}))},onClose:()=>A(!1),onSubmit:()=>{a(Object(o.a)(Object(o.a)(Object(o.a)({},n),N),{},{page:1}))},sequenceId:S}),Object(P.jsx)(ee.a,{show:M,onClose:()=>_(!1),title:"Export is disabled in demo mode",content:"This is a demo account with sample data. Signup to export your real leads, contacts, or reports",primaryBtnLabel:"Sign up"})]}):Object(P.jsx)(le,{})}));const ze={sendScheduledEmail:e=>Object(i.zb)(e),changeEmailStatus:e=>Object(i.j)(e),showLoading:()=>Object(a.showLoading)(),hideLoading:()=>Object(a.hideLoading)(),sendGetUserSettingsRequest:()=>Object(c.m)(),sendGetSentEmailPreviewRequest:e=>Object(i.Q)(e),resetGetSentEmailPreviewRequest:()=>Object(l.w)(),setSelectedProspectId:e=>Object(l.Ab)(e),resetSelectedProspectId:()=>Object(l.N)(),resetSelectedProspectData:()=>Object(l.M)(),setSequenceEmailsFilters:e=>Object(l.Bb)(e),resetSequenceEmailsFilters:e=>Object(l.S)(e),resendFailedEmail:e=>Object(i.xb)(e),resetChangeEmailStatusRequest:()=>Object(l.o)()},Ye=Object(n.connect)((e=>{var t,s,n;return{changeEmailStatusRequestStatus:e.sequence.changeEmailStatusRequest.status,changeEmailStatusRequestMessage:e.sequence.changeEmailStatusRequest.message,isDemoAccount:e.home.isDemoAccount,subscriptionDetails:e.home.subscription,pageHeaderBannerMessage:e.pageHeader.message,ctaURL:e.pageHeader.CTAUrl,ctaText:e.pageHeader.CTAText,target:e.pageHeader.target,userTimeZone:null===e||void 0===e||null===(t=e.myProfile)||void 0===t||null===(s=t.myProfile)||void 0===s?void 0:s.timeZone,getSentEmailPreviewRequestStatus:e.sequence.getSentEmailPreviewRequest.status,getSentEmailPreviewRequestError:e.sequence.getSentEmailPreviewRequest.error,sentEmailPreview:e.sequence.sentEmailPreview,selectedProspectId:e.sequence.selectedProspectId,selectedProspectData:e.sequence.selectedProspectData,selectedProspectSequences:e.sequence.selectedProspectSequences,getSingleProspectDetailsStatus:e.sequence.getSingleProspectDetailsRequest.status,getSingleProspectSequencesDetailsStatus:e.sequence.getSingleProspectSequencesDetailsRequest.status,sequenceEmailsFilters:e.sequence.sequenceEmailsFilters,prospectsDiagnoseEmailSendingGuideRequestStatus:e.sequence.prospectsDiagnoseEmailSendingGuideRequest.status,prospectsDiagnoseEmailSendingGuide:e.sequence.prospectsDiagnoseEmailSendingGuide,isProspectActive:null===(n=e.sequence.sequence)||void 0===n?void 0:n.progress}}),ze);t.default=Ye(He)},2226:function(e,t,s){"use strict";s.d(t,"a",(function(){return ae}));var n=s(2),a=s(15),c=s(1),i=s(5),l=s(2121),o=s(14),d=s.n(o),r=s(40),u=s(819),b=s(541),j=s(17),h=s(9),m=s(0);var p=e=>{let{label:t,stepType:s,mode:a,selectedTaskType:c,onChange:i}=e;const l=e=>d()(["d-flex justify-content-center",{"channel-sub-types__active":c===e,"channel-sub-types__disable":a!==h.z.CreateStep&&e!==c,"channel-sub-types__type-secondary":s===h.L.Call||s===h.L.WhatsApp,"channel-sub-types__type-secondary-whatsapp":s===h.L.WhatsApp,"channel-sub-types__type":s!==h.L.Call&&s!==h.L.WhatsApp}]);return Object(m.jsxs)("div",{className:"channel-sub-types",children:[Object(m.jsx)("span",{className:"semibold-1 gray-txt-15",children:t}),Object(m.jsx)("div",{className:"channel-sub-types__container bs-mt-12",children:Object.values(Object(b.t)(s)).map((e=>Object(m.jsx)("div",Object(n.a)(Object(n.a)({className:l(e)},Object(j.a)((()=>(e=>a===h.z.CreateStep&&i(e))(e)))),{},{children:Object(m.jsx)("span",{className:"regular-2 line-height-20 popover-arrow-color-txt",children:e})}),e)))})]})},v=s(851),g=s(11),O=s(311),S=s(2125);var x=e=>{let{show:t,onClose:s,onSubmit:n,onContentBlur:a,taskNote:o,mergeTagOptions:d,title:u,maxLength:b,contentAreaPlaceholder:j,isExpandOptionVisible:h=!1}=e;const p=Object(c.useRef)(),[x,q]=Object(c.useState)(o);return Object(m.jsx)(r.a,{show:t,titleContent:Object(m.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(m.jsxs)("div",{className:"d-flex align-items-center pl-4",children:[Object(m.jsx)("span",{className:"semibold-3 gray-txt-10",children:u||"Task Instruction"}),Object(m.jsx)(g.c,{text:u&&"task note"!==(null===u||void 0===u?void 0:u.toLowerCase())?"Write personalized InMail message":"Add instructions/tips for task assignee to execute this task successfully.",className:"tooltip-mdd",children:Object(m.jsx)(i.Mb,{width:16,height:16,className:"gray-txt-11 ml-1"})})]}),Object(m.jsx)(S.a,{options:d,onChange:e=>{Object(l.a)(null===p||void 0===p?void 0:p.current,null===e||void 0===e?void 0:e.tag)},placement:g.d.BottomEnd,searchPlaceholder:"Search Tags",className:"merge-tags-dropdown",children:Object(m.jsx)("div",{onMouseDown:e=>{e.preventDefault()},className:"gray-16 merge-tag bs-border-radius-50 pointer",children:Object(m.jsx)(i.y,{width:20,height:20,className:"pointer"})})})]}),backdrop:"static",className:"task-note-modal",submitButtonText:"Save",onClose:s,onHide:s,onSubmit:()=>n(x),isCustomCloseIcon:!1,isSubmitDisabled:(null===x||void 0===x?void 0:x.length)>3e3,cancelButtonVarient:O.d.Outlined,extraModalProps:{centered:!0,enforceFocus:!1,"aria-labelledby":"contained-modal-title-vcenter"},children:Object(m.jsx)(v.a,{ref:p,stepContentHTML:x,maxLength:b||3e3,onChange:e=>q(e),onHide:s,onBlur:a,placeholder:j,isExpandOptionVisible:h})})},q=s(8);var f=e=>{var t;let{taskNote:s,mergeTagOptions:a,onTaskNoteSave:l,onContentBlur:o}=e;const[d,r]=Object(c.useState)(!1),u=()=>r(!0),b=()=>r(!1);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"d-flex align-items-center bs-mt-20",children:Object(m.jsx)("span",{className:"regular-2 align-items-center font-medium blue-txt-11",children:(null===s||void 0===s||null===(t=s.trim())||void 0===t?void 0:t.length)>0?Object(m.jsx)(g.c,{text:((e,t)=>{const s=null===e||void 0===e?void 0:e.trim();return s.length>t?"".concat(s.substring(0,t),"..."):s})(s,200),className:"tooltip-mdd tooltip-white",children:Object(m.jsxs)("span",Object(n.a)(Object(n.a)({className:"d-flex align-items-center"},Object(j.a)(u)),{},{children:[Object(m.jsx)(i.Y,{width:16,height:16}),Object(m.jsx)("span",{className:"pointer",children:"Edit Task Instruction"})]}))}):Object(m.jsxs)("span",{className:"d-flex align-items-center",children:[Object(m.jsxs)("span",Object(n.a)(Object(n.a)({className:"pointer d-flex align-items-center"},Object(j.a)(u)),{},{children:[Object(m.jsx)(i.qc,{width:16,height:16,className:"mr-1"}),Object(m.jsx)("span",{children:"Add Task Instruction"})]})),Object(m.jsx)(g.c,{text:"Add instructions/tips for task assignee to execute this task successfully.",children:Object(m.jsx)(i.Mb,{width:16,height:16,className:"gray-txt-11 ml-1"})})]})})}),d&&Object(m.jsx)(x,{show:d,onClose:b,taskNote:s,mergeTagOptions:a,contentAreaPlaceholder:"Give details to a person who will perform this task, so as not to forget anything.",onSubmit:e=>(e=>{const t=null===e||void 0===e?void 0:e.trim();l(t),b(),q.d.success("Task note has been added successfully.",{theme:q.a.New})})(e),onContentBlur:o})]})};var C=e=>{let{selectedPriority:t,onPriorityChange:s}=e;return Object(m.jsxs)("div",{className:"task-priority",children:[Object(m.jsx)("span",{className:"semibold-1 gray-txt-15",children:"Task Priority"}),Object(m.jsx)("div",{className:"d-flex task-priority__items",children:Object.values(h.D).map((e=>Object(m.jsx)("div",Object(n.a)(Object(n.a)({},Object(j.a)((()=>(e=>{const t=h.E[e];s(t)})(e)))),{},{className:"task-priority__item ".concat(t===h.E[e]&&"task-priority__item-active ".concat(e.toLowerCase())),children:Object(m.jsx)("span",{className:"regular-1 font-medium line-height-20",children:e})}),e)))})]})},y=s(81);var N=e=>{var t;let{selectedAssignee:s,onAssigneeChange:n,taskAssigneeList:a}=e;const i=e=>e.userName.trim()?e.userName:e.email,l=Object(c.useMemo)((()=>null===a||void 0===a?void 0:a.map((e=>({key:i(e),value:e.id})))),[a]);return Object(m.jsxs)("div",{className:"task-assignee",children:[Object(m.jsx)("span",{className:"semibold-1 gray-txt-15",children:"Task Assignee"}),Object(m.jsx)("div",{className:"d-flex task-assignee__select",children:Object(m.jsx)(y.a,{options:l,selectedOptionKey:null===l||void 0===l||null===(t=l.find((e=>e.value===s)))||void 0===t?void 0:t.key,optionRenderer:e=>Object(m.jsx)("span",{children:null===e||void 0===e?void 0:e.key}),selectedOptionRenderer:e=>{let[t]=e;return Object(m.jsx)("span",{children:null===t||void 0===t?void 0:t.key})},onChange:e=>{let[t]=e;return n(t)},placement:g.d.Top,className:"task-assignee__select-dropdown"})})]})},w=s(175),R=s(2124),E=s(832),A=s(527),k=s(31),I=s(240),P=s(6),T=s(100),L=s(2148),F=s(535),M=s(2090),_=s(60),D=s.n(_);const B=function(e,t,s){var n,a,c,i,l;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;const d=/^(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])+$/;switch(e){case h.L.Task:if(!D.a.isLength(null===s||void 0===s?void 0:s.title,{min:o,max:t}))return!0;break;case h.L.LinkedIn:if(d.test(null===s||void 0===s?void 0:s.title))return!1;if((null===s||void 0===s||null===(n=s.title)||void 0===n?void 0:n.length)>0&&(!D.a.isLength(null===s||void 0===s?void 0:s.title,{min:o,max:t})||0!==o&&D.a.isEmpty(null===s||void 0===s||null===(a=s.title)||void 0===a?void 0:a.trim(),{ignore_whitespace:!1})))return!0;break;case h.L.Call:if((null===s||void 0===s||null===(c=s.title)||void 0===c?void 0:c.length)>0&&(!D.a.isLength(null===s||void 0===s?void 0:s.title,{min:o,max:t})||(null===s||void 0===s||null===(i=s.title)||void 0===i?void 0:i.length)>0&&D.a.isEmpty(null===s||void 0===s||null===(l=s.title)||void 0===l?void 0:l.trim(),{ignore_whitespace:!1})))return!0;break;default:return!1}return!1};var G=s(2235),V=s(16),U=s(2101),W=s(423),H=s(50),z=s(258),Y=s(2108);const Q={[h.L.Email]:{active:"gray-txt-1",inactive:"blue-txt-24"},[h.L.LinkedIn]:{active:"gray-txt-1",inactive:"blue-txt-24"},[h.L.Call]:{active:"gray-txt-1",inactive:"purple-txt-16"},[h.L.WhatsApp]:{active:"gray-txt-1",inactive:"green-txt-23"},[h.L.Task]:{active:"gray-txt-1",inactive:"orange-txt-21"}},K={[h.L.Email]:i.Wb,[h.L.LinkedIn]:i.Sb,[h.L.Call]:i.Bc,[h.L.WhatsApp]:i.Xc,[h.L.Task]:i.M},Z=e=>Object.keys(K).map((t=>{const s=K[t];return{key:h.L[t],icon:Object(m.jsx)(s,{width:20,height:20,className:e===t?Q[t].active:Q[t].inactive})}}));var J=e=>{let{show:t,initialStepType:s,stepType:a,onClose:o,onStepTypeChange:O,sequenceId:y,mode:_=h.z.CreateStep,actionStep:D,fields:Q,taskAssigneeList:K,stepNumber:J,steps:X,variantNumber:$,userId:ee,defaultAbsoluteDay:te,actionVariant:se,updatedSteps:ne,addSequenceStepRequestStatus:ae,addSequenceStepVariantRequestStatus:ce,updateSequenceStepVariantDataRequestStatus:ie,addSequenceStepRequestError:le,sendAddSequenceStepVariantRequest:oe,sendAddSequenceStepRequest:de,sendGetFieldsRequest:re,sendGetSequenceRequest:ue,sendGetSubsequenceRequest:be,sendGetTaskAssigneeListRequest:je,sendUpdateSequenceStepVariantDataRequest:he,resetAddStepRequest:me,subsequenceId:pe,subsequenceStepNumber:ve,subsequenceSteps:ge,subsequenceSettings:Oe,uploadAttachmentRequestStatus:Se,uploadAttachmentRequestError:xe,uploadedAttachment:qe,resetUploadAttachmentRequest:fe,deleteAttachmentRequestStatus:Ce,deleteAttachmentRequestError:ye,deletedAttachmentId:Ne,resetDeleteAttachmentRequest:we,sendUploadAttachmentRequest:Re,sendDeleteAttachmentRequest:Ee,sendImageUploadRequest:Ae}=e;const ke=Object(c.useRef)(),Ie=Object(c.useRef)(null),Pe=Object(c.useRef)(null),Te=Object(A.t)(Q),Le=Boolean(pe),[Fe,Me]=Object(c.useState)(Le&&1===ve?null===Oe||void 0===Oe?void 0:Oe.firstStepRelativeDays:te||Object(F.a)(Le?ve:J,Object(F.b)(Le?ge:X,ne))),[_e,De]=Object(c.useState)(s),[Be,Ge]=Object(c.useState)(Object(b.j)(s)),[Ve,Ue]=Object(c.useState)(""),[We,He]=Object(c.useState)(""),[ze,Ye]=Object(c.useState)(""),[Qe,Ke]=Object(c.useState)(""),[Ze,Je]=Object(c.useState)(h.E.Normal),[Xe,$e]=Object(c.useState)(ee),[et,tt]=Object(c.useState)(""),[st,nt]=Object(c.useState)(""),[at,ct]=Object(c.useState)(""),[it,lt]=Object(c.useState)({buttonName:!1,buttonLink:!1,inMail:!1,content:!1}),[ot,dt]=Object(c.useState)({buttonName:!1,buttonLink:!1,inMail:!1,content:!1,inMailSubject:!1,customTitle:!1}),[rt,ut]=Object(c.useState)(!1),[bt,jt]=Object(c.useState)(!1),[ht,mt]=Object(c.useState)([]),[pt,vt]=Object(c.useState)([]),[gt]=Object(c.useState)(Date.now()),[Ot,St]=Object(c.useState)(!1),xt=()=>jt(!1),qt=e=>{if(_e===h.F.WhatsAppMessage){var t,s;const n=(null===e||void 0===e||null===(t=e.replace(/<[^>]*>/g,""))||void 0===t||null===(s=t.trim())||void 0===s?void 0:s.length)||0;St(n>b.b)}else St(!1)},ft=e=>{const t=b.d[Be]||b.d[a];dt((e=>Object(n.a)(Object(n.a)({},e),{},{content:!0}))),lt((s=>{var a;return Object(n.a)(Object(n.a)({},s),{},{content:(null===(a=e.trim())||void 0===a?void 0:a.length)>t})})),_e===h.F.LinkedInPostInteraction||_e===h.F.LinkedInViewProfile||Object(H.z)(_e)||_e===h.F.Custom?He(e):(Ue(e),qt(e),_e===h.F.WhatsAppMessage?Ye(e):_e!==h.F.WhatsAppVoiceMessage&&_e!==h.F.WhatsAppVoiceCall||Ke(e),xt())},Ct=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=b.d[Be]||b.d[a];lt((s=>Object(n.a)(Object(n.a)({},s),{},{content:B(a,t,{title:e?We:Ve},Object(b.o)(a,_e))})))},yt=e=>{const t=b.d[e]||b.d[a],s=Ve||We;if(lt((e=>{var a;return Object(n.a)(Object(n.a)({},e),{},{inMail:!1,content:(null===(a=s.trim())||void 0===a?void 0:a.length)>t})})),a===h.L.WhatsApp){const t=Object(b.y)(e);St(!1),t===h.F.WhatsAppMessage?Ue(ze):t===h.F.WhatsAppVoiceMessage||t===h.F.WhatsAppVoiceCall?Ue(Qe):_e===h.F.WhatsAppMessage?(Ye(Ve),Ue("")):_e!==h.F.WhatsAppVoiceMessage&&_e!==h.F.WhatsAppVoiceCall||(Ke(Ve),Ue(""))}Ge(e),a===h.L.Call&&De(Object(b.e)(e)),a===h.L.LinkedIn&&De(Object(b.n)(e)),a===h.L.WhatsApp&&De(Object(b.y)(e)),a===h.L.Task&&De(h.F.Custom)},Nt=()=>{const e={};return _e===h.F.LinkedInInMail&&(e.subject=null===et||void 0===et?void 0:et.trim()),_e!==h.F.LinkedInPostInteraction&&_e!==h.F.LinkedInViewProfile&&(Object(H.C)(_e)||_e===h.F.LinkedInInMail||_e===h.F.LinkedInMessage||_e===h.F.Custom||Object(H.z)(_e)||(e.connectionNote=null===Ve||void 0===Ve?void 0:Ve.trim()),(Object(H.C)(_e)||_e===h.F.LinkedInInMail||_e===h.F.LinkedInMessage)&&(e.message=null===Ve||void 0===Ve?void 0:Ve.trim())),_e===h.F.Custom&&(null===et||void 0===et?void 0:et.length)>0&&(e.title=et),_e===h.F.Custom&&(null===at||void 0===at?void 0:at.length)>0&&(null===st||void 0===st?void 0:st.length)>0&&(e.action={url:at,name:st}),e};Object(c.useEffect)((()=>{if(re(),je(ee),_===h.z.CreateVariant&&Je(null===D||void 0===D?void 0:D.priority),_===h.z.EditVariant){var e,t,s,n,c,i,l,o,d,r,u;if(Ue((null===se||void 0===se||null===(e=se.payload)||void 0===e?void 0:e.connectionNote)||(null===se||void 0===se||null===(t=se.payload)||void 0===t?void 0:t.message)||(null===se||void 0===se||null===(s=se.payload)||void 0===s?void 0:s.content)||""),tt(null===se||void 0===se||null===(n=se.payload)||void 0===n?void 0:n.title),Je(null===D||void 0===D?void 0:D.priority),tt((null===se||void 0===se||null===(c=se.payload)||void 0===c?void 0:c.subject)||(null===se||void 0===se||null===(i=se.payload)||void 0===i?void 0:i.title)),nt(null===se||void 0===se||null===(l=se.payload)||void 0===l||null===(o=l.action)||void 0===o?void 0:o.name),ct(null===se||void 0===se||null===(d=se.payload)||void 0===d||null===(r=d.action)||void 0===r?void 0:r.url),$e(null===D||void 0===D?void 0:D.assigneeId),Be===b.c.Message&&(null===se||void 0===se?void 0:se.sequenceStepVariantAttachments)){const e=Object(Y.a)(se.sequenceStepVariantAttachments);mt(e)}if((null===D||void 0===D?void 0:D.type)===h.F.WhatsAppMessage)Ye((null===se||void 0===se||null===(u=se.payload)||void 0===u?void 0:u.message)||"");else if((null===D||void 0===D?void 0:D.type)===h.F.WhatsAppVoiceMessage||(null===D||void 0===D?void 0:D.type)===h.F.WhatsAppVoiceCall){var j,m;Ke((null===se||void 0===se||null===(j=se.payload)||void 0===j?void 0:j.message)||(null===se||void 0===se||null===(m=se.payload)||void 0===m?void 0:m.content)||"")}if(a===h.L.Call){const e=null===D||void 0===D?void 0:D.type;e===h.F.Introduction?Ge(b.a.Introduction):e===h.F.Demo?Ge(b.a.Demo):e===h.F.FollowUp?Ge(b.a.FollowUp):e===h.F.Reminder?Ge(b.a.Reminder):Ge(b.a.Other)}}He((null===se||void 0===se?void 0:se.taskNote)||Object(b.s)(Le?ge:X,D))}),[]),Object(c.useEffect)((()=>{_===h.z.CreateStep&&(Ge(Object(b.j)(s)),yt(Object(b.j)(s)),tt(""),He(""),Ue(""),Ye(""),Ke(""),St(!1),lt({buttonName:!1,buttonLink:!1,inMail:!1,content:!1}))}),[a]),Object(c.useEffect)((()=>{_e===h.F.WhatsAppMessage&&Ve&&qt(Ve)}),[_e,Ve]),Object(c.useEffect)((()=>{Object(P.p)({status:ae,onSuccess:()=>{q.d.success("Sequence step created successfully.",{theme:q.a.New}),Object(W.a)(),o(),Le?be(pe):ue(y),me()},onFailed:()=>{Object(T.a)(le.message),me()}})}),[ae]);const wt=d()(["d-flex align-items-center pl-4 step-info-wrapper",{"step-info-wrapper-secondary":!Object(U.l)(_e)}]),Rt=e=>d()(["channel pointer",{"channel-disable":_!==h.z.CreateStep&&e!==a}]),Et=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Object(m.jsx)(S.a,{options:Te,onChange:t=>{Object(l.a)(e?null===ke||void 0===ke?void 0:ke.current:Ie.current,null===t||void 0===t?void 0:t.tag)},placement:g.d.BottomEnd,searchPlaceholder:"Search Tags",className:"merge-tags-dropdown",showAiGeneratedIcon:!0,children:Object(m.jsx)("div",{onMouseDown:e=>{e.preventDefault()},className:"gray-16 merge-tag bs-border-radius-50 pointer",children:Object(m.jsx)(i.y,{width:20,height:20,className:"pointer"})})})},At=_e===h.F.WhatsAppMessage;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(r.a,{show:t,className:"create-step-modal",titleContent:Object(m.jsxs)("div",{className:"d-flex justify-content-between mt-4",children:[Object(m.jsxs)("div",{className:wt,children:[Object(m.jsxs)("span",{className:"regular-2 font-medium gray-txt-12",children:["Step"," ",_!==h.z.CreateStep?null===D||void 0===D?void 0:D.number:Le?ve:J]}),Object(U.l)(_e)&&Object(m.jsx)("span",{className:"semibold-1 gray-txt-12 step-variant",children:Object(M.b)($)})]}),Object(m.jsx)("div",{className:"channels d-flex justify-content-center",children:Z(a).map(((e,t)=>{let{icon:s,key:c}=e;return Object(m.jsx)("div",Object(n.a)(Object(n.a)({className:Rt(c),style:{backgroundColor:c===a&&E.b[c],color:c===a&&"#fff",opacity:_!==h.z.CreateStep&&c!==a&&.5,outline:c===a&&"none"}},Object(j.a)((()=>_===h.z.CreateStep&&O(c)))),{},{children:s}),t)}))})]}),onClose:()=>{Object(b.k)(ot)?ut(!0):o()},showCloseIcon:!0,hideCancelButton:!0,backdrop:"static",extraModalProps:{centered:!0,enforceFocus:!1,"aria-labelledby":"contained-modal-title-vcenter"},onSubmit:()=>{!Object(b.z)(it)||a===h.L.Task&&0===et.length||(_!==h.z.CreateVariant?_!==h.z.EditVariant?de(Le?pe:y,{type:_e,absoluteDays:Fe,priority:Ze,assigneeId:Xe,variants:[Object(n.a)({taskNote:We,payload:Nt()},(null===ht||void 0===ht?void 0:ht.length)>0&&{attachmentIds:null===ht||void 0===ht?void 0:ht.map((e=>null===e||void 0===e?void 0:e.attachmentId))})]}):(()=>{if(_e===h.F.WhatsAppMessage){var e;const t=Object(n.a)(Object(n.a)({type:_e,taskNote:We},Fe!==te&&{absoluteDays:Fe}),{},{priority:Ze,assigneeId:Xe,payload:Nt()}),s=(null===ht||void 0===ht?void 0:ht.map((e=>null===e||void 0===e?void 0:e.attachmentId)))||[],a=(null===se||void 0===se||null===(e=se.sequenceStepVariantAttachments)||void 0===e?void 0:e.map((e=>null===e||void 0===e?void 0:e.attachmentId)))||[];(s.length!==a.length||!s.every((e=>a.includes(e))))&&(t.attachmentIds=s),he(Le?pe:y,null===D||void 0===D?void 0:D.id,null===se||void 0===se?void 0:se.id,t)}else he(Le?pe:y,null===D||void 0===D?void 0:D.id,null===se||void 0===se?void 0:se.id,Object(n.a)(Object(n.a)(Object(n.a)({type:_e,taskNote:We},Fe!==te&&{absoluteDays:Fe}),{},{priority:Ze,assigneeId:Xe},(null===ht||void 0===ht?void 0:ht.length)>0&&{attachmentIds:null===ht||void 0===ht?void 0:ht.map((e=>null===e||void 0===e?void 0:e.attachmentId))}),{},{payload:Nt()}))})():oe(Le?pe:y,null===D||void 0===D?void 0:D.id,Object(n.a)(Object(n.a)(Object(n.a)({type:_e,taskNote:We,priority:Ze,assigneeId:Xe},Fe!==te&&{absoluteDays:Number(Fe)}),(null===ht||void 0===ht?void 0:ht.length)>0&&{attachmentIds:null===ht||void 0===ht?void 0:ht.map((e=>null===e||void 0===e?void 0:e.attachmentId))}),{},{payload:Nt()})))},submitButtonText:"Save",submitButtonClassName:"header-btn",isSubmitLoading:Object(I.c)(ae)||Object(I.c)(ce)||Object(I.c)(ie),isSubmitDisabled:Object(I.c)(ae)||Object(I.c)(ce)||Object(I.c)(ie)||!Object(b.z)(it)||a===h.L.Task&&0===et.length||Object(b.B)(_e,{content:Ve,subject:et})||Ot,footerContent:Object(m.jsxs)("div",{className:"day-input-spinner d-flex align-items-center",children:[Object(m.jsxs)("label",{className:"regular-2 font-medium popover-arrow-color-txt d-flex align-items-center m-0",htmlFor:"days",children:["Start this step on Day ",Object(m.jsx)(w.a,{id:"days",name:"relativeDays",className:"day-number m-0 ml-2 mr-2",min:h.B.MinDay,max:h.B.MaxDay,value:Fe,onChange:e=>{(e=>{const t=h.B.MinDay;return Object(R.a)(e,t)})(e)&&""!==e||Me(e)},onKeyDown:e=>{["e","E","+","-","."].includes(e.key)&&e.preventDefault()}})]}),Object(m.jsx)("span",{className:"regular-1 font-10 gray-txt-15",children:Object(m.jsx)("span",{className:"regular-1 font-10 gray-txt-15",children:Object(L.b)(Fe,_!==h.z.CreateStep?null===D||void 0===D?void 0:D.number:Le?ve:J,Object(b.h)(Le?ge:X))})})]}),children:[Object(b.A)(a)&&Object(m.jsx)(p,{label:Object(b.v)(a),stepType:a,selectedTaskType:Be,onChange:e=>yt(e),mode:_}),Object(m.jsxs)("div",{className:"w-100 mt-3 pr-4 pl-4 content-body",children:[(_e===h.F.LinkedInInMail||_e===h.F.Custom)&&Object(m.jsxs)("div",{className:"w-100 mb-3",children:[Object(m.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(m.jsxs)("div",{className:"d-flex",children:[Object(m.jsx)("span",{className:"semibold-1 gray-txt-15",children:_e===h.F.Custom?"Task Title":"InMail Subject"}),Object(m.jsx)(g.c,{text:_e===h.F.Custom?"Task title is mandatory":"Write personalized InMail subject line",className:"tooltip-mdd",children:Object(m.jsx)(i.Mb,{width:18,height:18,className:"gray-txt-11 ml-2"})})]}),_e===h.F.LinkedInInMail&&Et(!1)]}),Object(m.jsx)(k.a,{name:"preheader",placeholder:_e===h.F.LinkedInInMail?"Add a subject line here":"Add a task title",size:k.a.Size.Large,variant:it.inMail&&k.a.Variant.Error,value:et,onChange:(e,t)=>{t.preventDefault(),dt((e=>Object(n.a)(Object(n.a)({},e),{},{inMail:!0}))),lt((t=>Object(n.a)(Object(n.a)({},t),{},{inMail:e.length>Object(b.C)(a)}))),tt(e)},onBlur:()=>{const e=a===h.L.Task?100:200;lt((t=>Object(n.a)(Object(n.a)({},t),{},{inMail:B(a,e,{title:et},_e===h.F.LinkedInInMail?2:5)})))},className:"create-step-input-box mt-2",ref:Ie,icons:[{place:k.a.IconPlace.Right,component:Object(m.jsx)("div",{children:Object(m.jsxs)("span",{className:"regular-1 gray-txt-11",children:[Object(m.jsx)("span",{className:(null===et||void 0===et?void 0:et.length)>Object(b.C)(a)&&"red-txt-12",children:null===et||void 0===et?void 0:et.length}),"/",Object(b.C)(a)]})})}]}),it.inMail&&Object(m.jsx)("span",{className:"regular-1 red-txt-12 line-height-18 mt-1",children:Object(b.i)(it.inMail,et,Object(b.C)(a),_e===h.F.LinkedInInMail?2:5)})]}),Object(m.jsxs)("div",{className:"d-flex align-items-center justify-content-between w-100",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{className:"semibold-1 gray-txt-15",children:Object(b.r)(_e)}),Object(m.jsx)(g.c,{text:Object(b.q)(_e),className:"tooltip-mdd",children:Object(m.jsx)(i.Mb,{width:18,height:18,className:"gray-txt-11 ml-2"})})]}),!At&&Et()]}),At?Object(m.jsx)(u.a,{value:Ve,onEditorChange:ft,error:it.content,className:"whatsapp-editor",showMinimalToolbar:!0,showAddAttachments:!0,showMergeAndVariableTags:!0,mergeTags:Te,attachments:ht,onAttachmentStatusChange:e=>{mt((t=>t.map((t=>t.attachmentIdentifier===e.attachmentIdentifier?Object(n.a)(Object(n.a)({},t),e):t))))},onAttachmentsChange:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];mt(e),t&&vt((t=>t.filter((t=>e.some((e=>e.attachmentIdentifier===t.attachmentIdentifier))))))},onAttachmentsMetaChange:e=>{vt(e)},sendAttachmentUploadRequest:Re,uploadAttachmentRequestStatus:Se,uploadAttachmentRequestError:xe,uploadedAttachment:qe,resetUploadAttachmentRequest:fe,sendDeleteAttachmentRequest:Ee,deleteAttachmentRequestStatus:Ce,deleteAttachmentRequestError:ye,deletedAttachmentId:Ne,resetDeleteAttachmentRequest:we,imageUploader:e=>{let{formData:t,onUploadProgress:s}=e;return Ae({formData:t,onUploadProgress:s})},addMergeTagInContent:e=>{var t;const{tag:s}=e;let n=s;const a=s.lastIndexOf("|");if(-1!==a){const e=s.slice(0,a+1),t=s.slice(a+1);n=e+(Object(z.c)(t)?t:Object(z.d)(t))}null===(t=Pe.current)||void 0===t||t.insertContent(n)},addVariableTagInContent:e=>{var t;null===(t=Pe.current)||void 0===t||t.insertContent(e)},getEditorInstance:e=>{Pe.current=e},uniqueId:gt,attachmentsClassname:"whatsapp-attachments",maxInputCount:b.b,showCount:!0,placeholder:"Enter the message you want to send to prospects.",sequenceStepVariantId:null===se||void 0===se?void 0:se.id,isTemplateEditorModal:!1}):Object(m.jsx)(v.a,{ref:ke,stepContentHTML:Object(b.m)(_e)?We:Ve,isContentError:it.content,placeholder:Object(b.p)(Be,a),onChange:e=>ft(e),onBlur:Ct,maxLength:b.d[Be]||b.d[a],minLength:Object(b.o)(a,_e),isExpandOptionVisible:Object(b.l)(a,_e),onExpandContentArea:()=>jt(!0),size:Object(b.g)(a,_e)})]}),Object(m.jsxs)("div",{className:"pr-4 pl-4",children:[_e!==h.F.LinkedInPostInteraction&&_e!==h.F.LinkedInViewProfile&&_e!==h.F.Custom&&!Object(H.z)(_e)&&Object(m.jsx)(f,{taskNote:We,mergeTagOptions:Te,onTaskNoteSave:e=>He(e),onContentBlur:()=>Ct(!0)}),Object(m.jsxs)("div",{className:"d-flex justify-content-between mt-3",children:[Object(m.jsx)(C,{selectedPriority:Ze,onPriorityChange:e=>Je(e)}),Object(m.jsx)(N,{taskAssigneeList:K,selectedAssignee:Xe,onAssigneeChange:e=>$e(null===e||void 0===e?void 0:e.value)})]})]})]}),rt&&Object(m.jsx)(G.a,{show:rt,title:Object(m.jsxs)("div",{className:"send-test-email-modal-header",children:[Object(m.jsx)("img",{src:V.a.InfoCircleYellow,alt:"Icon"}),Object(m.jsx)("h2",{children:"Want to close the editor without saving changes?"})]}),className:"save-changes-modal",content:Object(b.f)(),onSubmit:o,onClose:()=>ut(!1),showInput:!1,submitButtonText:"Close",isSubmitLoading:!1,isSubmitDisabled:!1,cancelButtonText:"Cancel"}),bt&&Object(m.jsx)(x,{show:bt,title:Object(b.x)(_e),maxLength:Object(b.w)(_e),onClose:xt,isExpandOptionVisible:!0,mergeTagOptions:Te,contentAreaPlaceholder:Object(b.p)(Be,a),taskNote:Object(b.m)(_e)?We:Ve,onSubmit:e=>ft(e)})]})},X=s(20),$=s(268),ee=s(78),te=s(97),se=s(330);const ne={sendGetSequenceRequest:e=>Object(X.Y)(e),sendAddSequenceStepRequest:(e,t)=>Object(X.e)(Object(n.a)({sequenceId:e},t)),sendAddSequenceStepVariantRequest:(e,t,s)=>Object(X.f)(Object(n.a)({sequenceId:e,stepId:t},s)),sendUpdateSequenceStepVariantDataRequest:(e,t,s,a)=>Object(X.Mb)(Object(n.a)({sequenceId:e,stepId:t,variantId:s},a)),sendGetUserSettingsRequest:()=>Object(ee.e)(),updateProfileProgressRequest:e=>Object($.a)(e),sendCreateEmailWritingScoreForStepOne:e=>Object(te.pb)(e),sendGetFieldsRequest:()=>Object(se.a)(),sendGetTaskAssigneeListRequest:e=>Object(X.ob)({userId:e}),resetAddStepRequest:()=>Object(te.j)(),sendGetSubsequenceRequest:e=>Object(X.jb)(e),sendUploadAttachmentRequest:e=>Object(X.Pb)(e),sendDeleteAttachmentRequest:e=>Object(X.r)(e),sendImageUploadRequest:e=>Object(X.qb)(e),resetUploadAttachmentRequest:()=>Object(te.lb)(),resetDeleteAttachmentRequest:()=>Object(te.t)()};var ae=Object(a.connect)((e=>{var t,s,n,a,c,i,l,o,d,r,u,b,j,m,p,v,g,O,S;return{addSequenceStepRequestStatus:e.sequence.addSequenceStepRequest.status,addSequenceStepRequestMessage:e.sequence.addSequenceStepRequest.message,addSequenceStepRequestError:e.sequence.addSequenceStepRequest.error,sequence:e.sequence.sequence,sequenceId:e.sequence.sequence.id,totalSteps:e.sequence.sequence.totalSteps,stepNumber:e.sequence.sequence.totalSteps+1,isFirstStep:0===e.sequence.sequence.totalSteps,isFirstAutomatedEmailStep:null===(t=e.sequence.sequence)||void 0===t||null===(s=t.steps)||void 0===s?void 0:s.reduce(((e,t)=>e&&t.executionType!==h.C.AutomatedEmail),!0),steps:e.sequence.sequence.steps,profileProgress:e.home.profileProgress,updateProfileProgressRequestStatus:e.home.updateProfileProgressRequest.status,updateProfileProgressRequestMessage:e.home.updateProfileProgressRequest.message,updateProfileProgressRequestError:e.home.updateProfileProgressRequest.error,addSequenceStepVariantRequestStatus:e.sequence.addSequenceStepVariantRequest.status,updateSequenceStepVariantDataRequestStatus:e.sequence.updateSequenceStepVariantDataRequest.status,fields:e.emailModal.fields,taskAssigneeList:e.sequence.taskAssigneeList,userId:null===(n=e.sequence)||void 0===n||null===(a=n.sequence)||void 0===a?void 0:a.userId,updatedSteps:e.sequence.updatedSteps,subsequenceStepNumber:(null===(c=e.sequence)||void 0===c||null===(i=c.subsequence)||void 0===i?void 0:i.totalSteps)+1,subsequenceSteps:null===(l=e.sequence)||void 0===l||null===(o=l.subsequence)||void 0===o?void 0:o.steps,subsequenceSettings:null===(d=e.sequence)||void 0===d?void 0:d.subsequenceSettings,uploadAttachmentRequestStatus:null===(r=e.sequence)||void 0===r||null===(u=r.uploadAttachmentRequest)||void 0===u?void 0:u.status,uploadAttachmentRequestError:null===(b=e.sequence)||void 0===b||null===(j=b.uploadAttachmentRequest)||void 0===j?void 0:j.error,uploadedAttachment:null===(m=e.sequence)||void 0===m?void 0:m.uploadedAttachment,deleteAttachmentRequestStatus:null===(p=e.sequence)||void 0===p||null===(v=p.deleteAttachmentRequest)||void 0===v?void 0:v.status,deleteAttachmentRequestError:null===(g=e.sequence)||void 0===g||null===(O=g.deleteAttachmentRequest)||void 0===O?void 0:O.error,deletedAttachmentId:null===(S=e.sequence)||void 0===S?void 0:S.deletedAttachmentId}}),ne)(J)},2228:function(e,t,s){"use strict";s.d(t,"a",(function(){return N}));var n=s(1),a=s.n(n),c=s(15),i=s(4),l=s(20),o=s(40),d=s(5),r=s(11),u=s(6),b=s(2151),j=s(0);var h=e=>{var t,s,n;let{data:a}=e;if(!a)return Object(j.jsx)("div",{children:"No data found"});const{badCount:c,blacklistedCount:i,connectedEmailAccounts:l,emailSent:o,sendingPriority:h,settings:m,similarEmailAccountsInOtherSequence:p,totalEmailAccounts:v,waitingCount:g,schedule:O,riskyCount:S,emailSent_7d:x,emailSent_yesterday:q}=a,f=(null===m||void 0===m||null===(t=m.find((e=>"mark-as-finished"===e.code)))||void 0===t?void 0:t.value)||"Not Set",C=(null===m||void 0===m||null===(s=m.find((e=>"email-risky-prospects"===e.code)))||void 0===s?void 0:s.value)||"Not Set",y=(null===m||void 0===m||null===(n=m.find((e=>"esp-matching"===e.code)))||void 0===n?void 0:n.value)||"Not Set",N=e=>e.toString().padStart(2,"0"),w={1:"Prioritise Follow-Ups",2:"Prioritise New Prospects",3:"Balanced Sending",4:"Aggressively Prioritise New Prospects"},R=(e,t)=>{const s="number"===typeof t?t:0;return{connectedEmailAccounts:{color:s>0?"green":"red",show:!0},disconnectedEmailAccounts:{color:"red",show:s>0},similarEmailAccountsInOtherSequence:{color:"red",show:s>0},waitingCount:{color:"yellow",show:s>0},blacklistedCount:{color:"yellow",show:s>0},riskyCount:{color:"yellow",show:"Not Set"!==C&&s>0},badCount:{color:"red",show:"Not Set"!==C&&s>0},schedule:{color:"blue",show:!0},emailSent:{color:"yellow",show:!0},yesterdayEmails:{color:"yellow",show:!0},espMatching:{color:"blue",show:"Not Set"!==y},sendingPriority:{color:"blue",show:!0},hasFinishedCount:{color:"blue",show:!0},sendingLimit:{color:"yellow",show:!0}}[e]||{color:"default",show:!0}},E=[{label:"Total Ready for Outreach Email Accounts",value:v||0,key:"connectedEmailAccounts",count:v||0},{label:"Disconnected Email Accounts",value:Math.max(0,v-l)||0,key:"disconnectedEmailAccounts"},{label:"Similar Email Accounts found in other sequences",value:p||0,key:"similarEmailAccountsInOtherSequence"},{label:"Total Prospects in 'Waiting' stage",value:Object(b.a)(g)||0,key:"waitingCount"},{label:"Total Blacklisted Prospects",value:Object(b.a)(i)||0,key:"blacklistedCount"},..."Not Set"!==C?[{label:"Total Risky Prospects (Emails will not be sent to Risky Prospects)",value:Object(b.a)(S)||0,key:"riskyCount"}]:[],..."Not Set"!==C?[{label:"Total Bad Prospects (Emails will not be sent to Bad Prospects)",value:Object(b.a)(c)||0,key:"badCount"}]:[],{label:"Emails sent in past 7 days from this sequence",value:Object(b.a)(x)||0,key:"emailSent"},{label:"Emails sent on yesterday from this sequence",value:Object(b.a)(q),key:"yesterdayEmails"},{label:"Monthly Email Sending Limit Left",value:Object(b.a)(Math.max(o,0)),key:"sendingLimit"},{label:"Emails are being sent in (Schedule)",value:Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(r.c,{rootClose:!0,text:(()=>{var e;const t=[];let s=[];try{s=JSON.parse((null===O||void 0===O?void 0:O.timeSlots)||"[]")}catch(a){}null===(e=s)||void 0===e||e.forEach((e=>{if(e.slots.length>0){const s=e.slots.map(((e,t)=>Object(j.jsx)("div",{children:"".concat(N(e.start.hour),":").concat(N(e.start.minute)," - ").concat(N(e.end.hour),":").concat(N(e.end.minute))},t)));t.push(Object(j.jsxs)("div",{className:"schedule-day",children:[Object(j.jsx)("p",{className:"font-semibold",children:u.m[e.day]}),s]},e.day))}}));const n=Object(u.K)(null===O||void 0===O?void 0:O.timezone);return t.unshift(Object(j.jsx)("div",{className:"schedule-timezone font-semibold",children:n},"timezone")),t.length>0?t:"Not Set"})(),className:"tooltip-schedule tooltip-lg",placement:r.d.Right,children:Object(j.jsx)("div",{className:"info-icon","aria-describedby":"tooltip-i09oB4y2M",children:Object(j.jsx)(d.Mb,{})})})}),key:"schedule"},..."Not Set"!==y?[{label:Object(j.jsxs)(j.Fragment,{children:["ESP Matching is"," ",Object(j.jsx)("strong",{children:y?"Enabled":"Disabled"})]}),value:y?"True":"False",key:"espMatching"}]:[],{label:Object(j.jsxs)(j.Fragment,{children:["Sending Priority is"," ",Object(j.jsx)("strong",{children:w[h]})]}),value:w[h]||"Not Set",key:"sendingPriority"},{label:Object(j.jsxs)(j.Fragment,{children:["Considering Prospects as Finished when Replied is"," ",Object(j.jsx)("strong",{children:f?"Enabled":"Disabled"})]}),value:f?"True":"False",key:"hasFinishedCount"}].filter((e=>R(e.key,e.value).show));return Object(j.jsxs)("div",{className:"diagnose-email-sending-guide-status",children:[Object(j.jsx)("h5",{className:"diagnose-email-sending-guide-status-title",children:"Summary"}),Object(j.jsx)("div",{className:"status-grid",children:E.map((e=>{const t=R(e.key,e.value),s=(n=e.key,{connectedEmailAccounts:Object(j.jsx)(d.Yb,{height:16,width:16}),disconnectedEmailAccounts:Object(j.jsx)(d.d,{height:16,width:16}),similarEmailAccountsInOtherSequence:Object(j.jsx)(d.e,{height:16,width:16}),waitingCount:Object(j.jsx)(d.Z,{height:16,width:16}),blacklistedCount:Object(j.jsx)(d.t,{height:16,width:16}),riskyCount:Object(j.jsx)(d.e,{height:16,width:16}),badCount:Object(j.jsx)(d.d,{height:16,width:16}),schedule:Object(j.jsx)(d.F,{height:16,width:16}),emailSent:Object(j.jsx)(d.ic,{height:16,width:16}),yesterdayEmails:Object(j.jsx)(d.ic,{height:16,width:16}),espMatching:Object(j.jsx)(d.F,{height:16,width:16}),sendingPriority:Object(j.jsx)(d.ic,{height:16,width:16}),hasFinishedCount:Object(j.jsx)(d.U,{height:16,width:16}),sendingLimit:Object(j.jsx)(d.Pc,{height:16,width:16})}[n]||Object(j.jsx)(d.Mb,{height:16,width:16}));var n;return Object(j.jsxs)("div",{className:"status-item status-".concat(t.color),children:[!["schedule"].includes(e.key)&&Object(j.jsx)("div",{className:"status-icon",children:s}),!["espMatching","sendingPriority","hasFinishedCount"].includes(e.key)&&Object(j.jsx)("span",{className:"status-count",children:e.value}),Object(j.jsx)("span",{className:"status-label",children:e.label})]},e.key)}))})]})},m=s(16);const p=e=>{let{icon:t,altText:s,tooltipText:n,containerClass:a}=e;return Object(j.jsx)("div",{className:"".concat(a,"-label"),children:Object(j.jsx)(r.c,{placement:r.d.Top,text:n,children:Object(j.jsx)("span",{className:"d-flex align-items-center gap-1",children:Object(j.jsx)(i.h,{src:t,alt:s,width:20,height:20})})})})},v=e=>{let{showDivider:t}=e;return t?Object(j.jsx)("div",{className:"diagnose-email-sending-guide-divider"}):null},g=e=>{let{showWarningLabel:t}=e;return t?Object(j.jsx)("p",{className:"warning-text",children:"WARNING"}):null},O=e=>{let{icon:t,altText:s,tooltipText:n,heading:a="",items:c,containerClass:i="",itemClass:l="",showDivider:o=!1,showLabel:d=!0,showWarningLabel:r=!1,noListingView:u=!1}=e;return c&&c.length?u?Object(j.jsxs)("div",{className:"icon-list-item d-grid gap-2 py-1",children:[a&&Object(j.jsx)("h5",{children:a}),Object(j.jsxs)("div",{className:i,children:[d&&Object(j.jsx)(p,{icon:t,altText:s,tooltipText:n,containerClass:i}),Object(j.jsxs)("div",{className:"d-grid gap-4",children:[Object(j.jsx)(g,{showWarningLabel:r}),Object(j.jsx)("ul",{children:null===c||void 0===c?void 0:c.map((e=>Object(j.jsx)("li",{className:l,children:e},e)))})]})]}),v({showDivider:o})]}):Object(j.jsx)(j.Fragment,{children:null===c||void 0===c?void 0:c.map(((e,c)=>Object(j.jsxs)("div",{className:"icon-list-item d-grid gap-2 py-1",children:[a&&Object(j.jsx)("h5",{children:a}),Object(j.jsxs)("div",{className:i,children:[d&&Object(j.jsx)(p,{icon:t,altText:s,tooltipText:n,containerClass:i}),Object(j.jsxs)("div",{className:"d-grid gap-4",children:[Object(j.jsx)(g,{showWarningLabel:r}),Object(j.jsx)("ul",{children:Object(j.jsx)("li",{className:l,children:e})})]})]}),Object(j.jsx)(v,{showDivider:o})]},c)))}):null};var S=a.a.memo(O);var x=e=>{let{stepData:t}=e;const{stepNumber:s,totalProspectsInStep:n,processedProspectsInStep:a,errors:c=[],warnings:l=[]}=t,o=(null===c||void 0===c?void 0:c.length)>0,d=(null===l||void 0===l?void 0:l.length)>0,r=!o&&!d;return Object(j.jsx)("div",{className:"active-steps-card-info-container",children:Object(j.jsx)("div",{className:"active-steps-card-info-right",children:Object(j.jsxs)("div",{className:"active-steps-card-info-right-container-horizontal",children:[Object(j.jsxs)("div",{className:"active-steps-card-info-right-container-horizontal-steps-item",children:[Object(j.jsxs)("span",{className:"active-steps-card-info-step-item-value",children:["Step ",String(s).padStart(2,"0")]}),Object(j.jsxs)("div",{className:"active-steps-card-info-right-item",children:[Object(j.jsxs)("span",{className:"active-steps-card-info-right-item-value",children:[a||0,"/",n||0]}),Object(j.jsx)("p",{className:"active-steps-card-info-right-item-label",children:"Processed Prospects"})]})]}),Object(j.jsx)("div",{className:"diagnose-email-sending-guide-divider-2"}),r?Object(j.jsxs)("div",{className:"active-steps-card-info-right-item-success-value",children:[Object(j.jsx)(i.h,{src:null===m.a||void 0===m.a?void 0:m.a.CircleCheck,alt:"Success",className:"active-steps-card-info-right-item-success-value-icon",width:16,height:16}),Object(j.jsx)("span",{className:"active-steps-card-info-right-item-success-value-text",children:"No Issue Found"})]}):Object(j.jsxs)("div",{className:"active-steps-card-info-right-container-horizontal-overall-status-item",children:[o&&Object(j.jsx)(S,{icon:null===m.a||void 0===m.a?void 0:m.a.VerifiedError,altText:"Error",tooltipText:"Error",items:c,containerClass:"active-steps-card-info-right-error-item",itemClass:"active-steps-card-info-right-item-error-value"}),d&&Object(j.jsx)(S,{icon:null===m.a||void 0===m.a?void 0:m.a.WarningTriangle,altText:"Warning",tooltipText:"Warning",items:l,containerClass:"active-steps-card-info-right-warning-item",itemClass:"active-steps-card-info-right-item-warning-value"})]})]})})})},q=s(53);var f=()=>Object(j.jsx)("div",{className:"diagnose-email-sending-guide-activity",children:Object(j.jsxs)("div",{className:"diagnose-email-sending-guide-activity-no-issues",children:[Object(j.jsx)(q.E,{}),Object(j.jsx)("p",{className:"diagnose-email-sending-guide-activity-item-no-issues-value",children:"No Delivery Issue Found."})]})});var C=e=>{let{data:t}=e;const{analysis:{errors:s=[],warnings:a=[],stepByStepAnalysis:c=[]}}=t||{},i=Object(n.useMemo)((()=>[...s,...a]),[s,a]);return 0===i.length&&0===c.length?Object(j.jsx)(f,{}):Object(j.jsxs)("div",{className:"diagnose-email-sending-guide-activity",children:[Object(j.jsx)(S,{icon:m.a.WarningTriangle,altText:"Warning",tooltipText:"Warning",items:i,containerClass:"diagnose-email-sending-guide-activity-warning-item",itemClass:"diagnose-email-sending-guide-activity-item-warning-value mb-1",showDivider:c.length>0,heading:"Consolidated Analysis",showLabel:!0,showWarningLabel:!0,noListingView:!0}),(null===c||void 0===c?void 0:c.length)>0&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h5",{children:"Step-by-Step Analysis"}),null===c||void 0===c?void 0:c.map((e=>Object(j.jsx)(x,{stepData:e},e.id)))]})]})};var y=()=>Object(j.jsxs)("div",{className:"diagnose-email-sending-guide-modal-body",children:[Object(j.jsxs)("div",{className:"diagnose-email-sending-guide-status",children:[Object(j.jsx)(i.l,{width:150,height:14}),Object(j.jsx)("div",{className:"status-grid",children:["status-0","status-1","status-2","status-3","status-4","status-5","status-6","status-7","status-8"].map((e=>Object(j.jsx)("div",{className:"status-item",children:Object(j.jsx)("div",{className:"status-icon",children:Object(j.jsx)(i.l,{width:26,height:16})})},e)))})]}),Object(j.jsx)("div",{className:"diagnose-email-sending-guide-activity",children:Object(j.jsxs)("div",{children:[Object(j.jsx)(i.l,{width:150,height:18,className:"mb-3"}),["step-0","step-1","step-2"].map((e=>Object(j.jsx)("div",{className:"active-steps-card-info-container mb-3",children:Object(j.jsx)("div",{className:"active-steps-card-info-right",children:Object(j.jsxs)("div",{className:"active-steps-card-info-right-container-horizontal",children:[Object(j.jsxs)("div",{className:"active-steps-card-info-right-container-horizontal-steps-item",children:[Object(j.jsx)("div",{children:Object(j.jsx)(i.l,{width:60,height:32,className:"mb-2"})}),Object(j.jsxs)("div",{children:[Object(j.jsx)(i.l,{width:80,height:14,className:"mb-1"}),Object(j.jsx)(i.l,{width:60,height:14})]})]}),Object(j.jsx)("div",{className:"diagnose-email-sending-guide-divider-2"}),Object(j.jsx)("div",{className:"active-steps-card-info-right-container-horizontal-overall-status-item",children:Object(j.jsx)(i.l,{width:100,height:14})})]})})},e)))]})})]});var N=e=>{let{show:t,onClose:s,sequenceId:a,prospectsDiagnoseEmailSendingGuideRequestStatus:d,prospectsDiagnoseEmailSendingGuide:r}=e;const b=Object(c.useDispatch)();Object(n.useEffect)((()=>{t&&b(Object(l.N)(Number(a)))}),[t,b,a]);const m=Object(n.useMemo)((()=>Object(u.G)(d)||Object(u.F)(d)&&!r),[d,r]),p=Object(n.useMemo)((()=>m?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(i.l,{width:250,height:14}),Object(j.jsx)(i.l,{width:150,height:12})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h5",{className:"diagnose-email-sending-guide-modal-title",children:"Diagnose Email Sending"}),Object(j.jsx)("span",{className:"diagnose-email-sending-guide-modal-title-description",children:(null===r||void 0===r?void 0:r.name)||"-"})]})),[m,r]),v=Object(n.useMemo)((()=>m?Object(j.jsx)(y,{}):r?Object(j.jsxs)("div",{className:"diagnose-email-sending-guide-modal-body",children:[Object(j.jsx)(h,{data:r}),Object(j.jsx)(C,{data:r})]}):Object(j.jsx)("div",{className:"diagnose-email-sending-guide-modal-body",children:Object(j.jsx)(f,{})})),[m,r]);return Object(j.jsx)(o.a,{show:t,onHide:s,showCloseIcon:!0,onClose:s,onCancel:s,titleContent:p,backdrop:"static",hideFooter:!0,className:"diagnose-email-sending-guide-modal",extraModalProps:{dialogClassName:" diagnose-email-sending-guide-custom-small-modal"},children:v})}},2236:function(e,t,s){"use strict";s.d(t,"a",(function(){return k}));var n=s(2),a=s(15),c=s(1),i=s.n(c),l=s(92),o=s(175),d=s(3),r=s(8),u=s(80),b=s(100),j=s(9),h=s(535),m=s(2177),p=s(2124),v=s(527),g=s(39),O=s(2148),S=s(19),x=s(18),q=s(423),f=s(0);class C extends i.a.Component{constructor(e){super(e),this.onKeyDownHandler=e=>{["e","E","+","-","."].includes(e.key)&&e.preventDefault()},this.onAddStepModalSubmit=(e,t,s,n,a,c,i)=>{const{sequenceId:l,sendAddSequenceStepRequest:o,subsequenceId:d,subsequence:r}=this.props;o(Boolean(d)?r.id:l,{type:j.F.Email,absoluteDays:s,variants:[{payload:{subject:e,content:t,preheader:c},templateId:a,attachmentIds:i}]})};const{steps:t,subsequenceSteps:s,stepNumber:n,subsequenceStepNumber:a,updatedSteps:c,subsequenceId:i,subsequenceSettings:l}=e,o=Boolean(i),d=Object(h.b)(o?s:t,c),r=Object(h.a)(o?a:n,d);this.state={values:{relativeDays:"".concat(o&&1===a?null===l||void 0===l?void 0:l.firstStepRelativeDays:r)},errors:{relativeDays:""},dirty:{relativeDays:null}},this.onFormSubmit=this.onFormSubmit.bind(this),this.onInputChangeHelper=this.onInputChangeHelper.bind(this),this.onInputChange=this.onInputChange.bind(this),this.onValueChange=this.onValueChange.bind(this),this.onInputBlur=this.onInputBlur.bind(this)}componentDidUpdate(e){const{addSequenceStepRequestStatus:t,addSequenceStepRequestError:s,sendGetSequenceRequest:n,sequenceId:a,onClose:c,profileProgress:i,sendGetUserSettingsRequest:l,updateProfileProgressRequest:o,updateProfileProgressRequestStatus:d,updateProfileProgressRequestError:j,isFirstStep:h,sendCreateEmailWritingScoreForStepOne:m,resetAddStepRequest:p,getSequenceStatsCountRequest:v,sendGetSequenceScoreRequest:O,subsequenceId:S,sendGetSubsequenceRequest:x}=this.props,f=Boolean(S);Object(g.c)({status:t,prevStatus:e.addSequenceStepRequestStatus,onSuccess:()=>{if(i){i.find((e=>e.profileProgressStep.stepName===u.c.CreateSequence)).isCompleted||o({step:u.c.CreateSequence,isCompleted:!0})}Object(q.a)(),h&&(m(h),setTimeout((()=>{O({sequenceId:a.toString()})}),1e3)),r.d.success("Sequence step created successfully.",{theme:r.a.New}),c(),f?x(S):n(a),v(a),p()},onFailed:()=>{Object(g.a)({error:s,onError:()=>{Object(b.a)(s.message),p()}})}}),Object(g.c)({status:d,prevStatus:e.updateProfileProgressRequestStatus,onSuccess:()=>{l()},onFailed:()=>{Object(g.a)({error:j,onError:()=>{Object(b.a)(j.message)}})}})}onInputChangeHelper(e,t){this.validate(e)&&""!==e||this.onInputChange(e,t)}onInputChange(e,t){const{name:s}=t.target;this.onValueChange(e,s)}onValueChange(e,t){this.setState(Object(l.a)((s=>{s.values[t]=e,s.dirty[t]=!0})))}onInputBlur(e){const{name:t}=e.target;this.postInputBlur(t)}onFormSubmit(e,t,s,n,a){const{values:{relativeDays:c}}=this.state,i=parseInt(c,10),l=j.C.AutomatedEmail;this.onAddStepModalSubmit(e,t,i,l,n,s,a)}getMinRelativeDays(){return Object(h.c)()}postInputBlur(e){this.setState(Object(l.a)((t=>{t.dirty[e]&&(t.errors[e]=this.validate(t.values[e]))})))}validate(e){const t=this.getMinRelativeDays();return Object(p.a)(e,t)}render(){const{values:e,errors:t}=this.state,{show:s,onClose:n,sequenceId:a,sequence:c,stepNumber:i,steps:l,isFirstStep:r,isFirstAutomatedEmailStep:u,subsequenceId:b,subsequence:h,subsequenceStepNumber:p,subsequenceSteps:g,subsequenceIsFirstStep:q,addSequenceStepRequestStatus:C}=this.props,y=Boolean(b);let N=1;const w={};(y?g:l).forEach((e=>{N+=e.relativeDays,w[N]=e.number}));const R=this.getMinRelativeDays(),E=C===d.a.Pending,A=!u,k="Step ".concat(i," - Email");let I="";I=y?q?"":Object(v.o)(h,p):r?"":Object(v.o)(c,i);const P={stepNumber:y?p:i,sequenceId:y?b:a};return Object(f.jsx)(m.a,{show:s,isRequestPending:E,allowEmptySubject:!!y||A,subjectPlaceholder:"Enter a Subject",modalTitle:k,modalName:"Step",testMailOptions:P,onClose:n,showTitle:!1,shouldRenderTemplate:!0,onSubmit:this.onFormSubmit,prevStepSubject:I,stepNumber:y?p:i,variantNumber:1,showTextOnlyEmail:!0,isSubsequence:y,footerPart:()=>Object(S.a)(x.a.SEQUENCE_STEP_RELATIVE_DAYS_READ)&&Object(f.jsxs)("div",{className:"day-input-spinner d-flex align-items-center",children:[Object(f.jsxs)("label",{className:"regular-2 font-medium popover-arrow-color-txt d-flex align-items-center m-0",htmlFor:"days",children:["Start this step on Day ",Object(f.jsx)(o.a,{id:"days",name:"relativeDays",className:"day-number m-0 ml-2 mr-2",variant:t.relativeDays&&o.a.Variant.Error,min:R,max:j.B.MaxDay,value:e.relativeDays,onChange:this.onInputChangeHelper,onBlur:this.onInputBlur,onKeyDown:this.onKeyDownHandler})]}),Object(f.jsx)("span",{className:"regular-1 font-10 gray-txt-15",children:Object(O.a)(e.relativeDays,y?p:i,w)})]})})}}var y=C,N=s(20),w=s(268),R=s(78),E=s(97);const A={sendGetSequenceRequest:e=>Object(N.Y)(e),sendAddSequenceStepRequest:(e,t)=>Object(N.e)(Object(n.a)({sequenceId:e},t)),sendGetUserSettingsRequest:()=>Object(R.e)(),updateProfileProgressRequest:e=>Object(w.a)(e),sendCreateEmailWritingScoreForStepOne:e=>Object(E.pb)(e),getSequenceStatsCountRequest:e=>Object(N.ab)(e),sendGetSequenceScoreRequest:e=>Object(N.Z)(e),resetAddStepRequest:()=>Object(E.j)(),sendGetSubsequenceRequest:e=>Object(N.jb)(e)};var k=Object(a.connect)((e=>{var t,s,n,a,c,i,l,o,d,r,u,b,h,m,p;return{addSequenceStepRequestStatus:e.sequence.addSequenceStepRequest.status,addSequenceStepRequestMessage:e.sequence.addSequenceStepRequest.message,addSequenceStepRequestError:e.sequence.addSequenceStepRequest.error,sequence:e.sequence.sequence,sequenceId:e.sequence.sequence.id,totalSteps:e.sequence.sequence.totalSteps,stepNumber:e.sequence.sequence.totalSteps+1,isFirstStep:0===e.sequence.sequence.totalSteps,isFirstAutomatedEmailStep:e.sequence.sequence.steps.reduce(((e,t)=>e&&t.type!==j.F.Email),!0),steps:e.sequence.sequence.steps,subsequences:null===(t=e.sequence)||void 0===t?void 0:t.subsequence,subsequenceTotalSteps:null!==(s=null===(n=e.sequence)||void 0===n||null===(a=n.subsequence)||void 0===a?void 0:a.totalSteps)&&void 0!==s?s:0,subsequenceStepNumber:(null!==(c=null===(i=e.sequence)||void 0===i||null===(l=i.subsequence)||void 0===l?void 0:l.totalSteps)&&void 0!==c?c:0)+1,subsequenceIsFirstStep:0===(null===(o=e.sequence)||void 0===o||null===(d=o.subsequence)||void 0===d?void 0:d.totalSteps),subsequenceIsFirstAutomatedEmailStep:null===(r=e.sequence)||void 0===r||null===(u=r.subsequence)||void 0===u?void 0:u.steps.reduce(((e,t)=>e&&t.type!==j.F.Email),!0),subsequenceSteps:null===(b=e.sequence)||void 0===b||null===(h=b.subsequence)||void 0===h?void 0:h.steps,subsequenceSettings:null===(m=e.sequence)||void 0===m?void 0:m.subsequenceSettings,updatedSteps:e.sequence.updatedSteps,profileProgress:e.home.profileProgress,updateProfileProgressRequestStatus:e.home.updateProfileProgressRequest.status,updateProfileProgressRequestMessage:e.home.updateProfileProgressRequest.message,updateProfileProgressRequestError:e.home.updateProfileProgressRequest.error,lastAbsoluteDay:e.sequence.lastAbsoluteDay,subsequence:null===(p=e.sequence)||void 0===p?void 0:p.subsequence}}),A)(y)},2240:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var n=s(536);var a=(e,t,s)=>"".concat(e," ").concat(Object(n.a)(t,s,void 0,!1)," (GMT").concat(Object(n.c)(t,s),") ").concat(s)},2307:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return T}));var n=s(15),a=s(29),c=s(1),i=s.n(c),l=s(2059),o=s(37),d=s(20),r=s(2),u=s(2140),b=s(18),j=s(19),h=s(21),m=s(17),p=s(2202),v=s(2128),g=s(195),O=s(0);var S=e=>{let{sequenceId:t,sendGetSequenceConfigRequest:s}=e;const[n,a]=i.a.useState(!1);return Object(c.useEffect)((()=>{t&&s(t.toString())}),[]),Object(h.L)()&&Object(j.a)(b.a.TASK_READ)?Object(O.jsxs)("div",{className:"h-100 d-flex flex-column justify-content-center align-items-center empty-steps-container",children:[Object(O.jsxs)("div",{className:"d-flex flex-column text-center",children:[Object(O.jsx)("span",{className:"semibold-4 popover-arrow-color-txt",children:"Start your Sequence"}),Object(O.jsx)("span",{className:"regular-2 gray-txt-15 mt-2",children:"Automate the engagement with your prospects by adding steps in your Sequence."})]}),Object(j.a)(b.a.SEQUENCE_STEP_WRITE)&&Object(O.jsx)(u.a,{isEmptyScreen:!0})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"empty-screen",children:Object(O.jsxs)("div",{className:"d-flex justify-content-center step-empty-screen",children:[Object(O.jsxs)("div",{className:"d-flex flex-column justify-content-center left-container",children:[Object(O.jsx)("span",{className:"semibold-4 line-height-20 popover-arrow-color-txt",children:"Start your Sequence"}),Object(O.jsx)("span",{className:"regular-2 line-height-20 gray-txt-15 bs-mt-12 mb-3",children:"Automate the engagement with your prospects by adding steps in your Sequence."}),Object(j.a)(b.a.SEQUENCE_STEP_WRITE)&&Object(O.jsx)(u.a,{})]}),Object(O.jsxs)("div",Object(r.a)(Object(r.a)({className:"right-container play-icon pointer d-flex justify-content-center align-items-center position-relative"},Object(m.a)((()=>a(!0)))),{},{children:[Object(O.jsx)(g.a,{imagePath:"video-thumbnail-1.jpg",alt:"img"}),Object(O.jsx)("div",{className:"position-absolute",children:Object(O.jsx)(v.a,{width:24,height:24})})]}))]})}),n&&Object(O.jsx)(p.a,{show:n,onClose:()=>a(!1),selectedStepNumber:1})]})};const x={sendUpgradeOnboardingStepRequest:e=>Object(o.s)(e),sendCreateSampleStepsRequest:e=>Object(d.o)(e),sendGetSequenceRequest:e=>Object(d.Y)(e),sendGetSequenceConfigRequest:e=>Object(d.R)({sequenceId:e})};var q=Object(n.connect)((e=>({addSequenceStepRequestStatus:e.sequence.addSequenceStepRequest.status,addSequenceStepRequestMessage:e.sequence.addSequenceStepRequest.message,addSequenceStepRequestError:e.sequence.addSequenceStepRequest.error,createSampleStepsRequestStatus:e.sequence.createSampleStepsRequest.status,createSampleStepsRequestMessage:e.sequence.createSampleStepsRequest.message,createSampleStepsRequestError:e.sequence.createSampleStepsRequest.error,getSequenceRequestStatus:e.sequence.getSequenceRequest.status,getSequenceRequestMessage:e.sequence.getSequenceRequest.message,getSequenceRequestError:e.sequence.getSequenceRequest.error,meta:e.home.meta,sequence:e.sequence.sequence,agencyConfig:e.home.agencyConfig,sequenceId:e.sequence.sequence.id})),x)(S),f=s(16),C=s(34);var y=()=>Object(O.jsx)("div",{className:"h-100 d-flex flex-column align-items-center subsequence-empty-step-container",children:Object(O.jsxs)("div",{className:"add-step-empty",children:[Object(O.jsx)(C.a,{src:f.a.FollowUpStep}),Object(O.jsxs)("div",{className:"add-step-empty-list-container",children:[Object(O.jsx)("div",{className:"add-step-empty__title",children:"Add Followup Steps"}),Object(O.jsx)("p",{className:"add-step-empty__description",children:"Add steps to engage prospects at the right time and drive conversions."}),Object(O.jsx)("div",{className:"add-step-empty__action ".concat(Object(h.L)()&&Object(j.a)(b.a.TASK_READ)?"":"mt-3"),children:!Object(j.a)(b.a.SEQUENCE_STEP_WRITE)||Object(h.L)()&&Object(j.a)(b.a.TASK_READ)?Object(O.jsx)(u.a,{isEmptyScreen:!0}):Object(O.jsx)(u.a,{})})]})]})});const N={sendUpgradeOnboardingStepRequest:e=>Object(o.s)(e),sendCreateSampleStepsRequest:e=>Object(d.o)(e),sendGetSubsequenceRequest:e=>Object(d.jb)(e),sendGetSequenceRequest:e=>Object(d.Y)(e),sendGetSequenceConfigRequest:e=>Object(d.R)({sequenceId:e})};var w=Object(n.connect)((e=>({addSequenceStepRequestStatus:e.sequence.addSequenceStepRequest.status,addSequenceStepRequestMessage:e.sequence.addSequenceStepRequest.message,addSequenceStepRequestError:e.sequence.addSequenceStepRequest.error,createSampleStepsRequestStatus:e.sequence.createSampleStepsRequest.status,createSampleStepsRequestMessage:e.sequence.createSampleStepsRequest.message,createSampleStepsRequestError:e.sequence.createSampleStepsRequest.error,getSequenceRequestStatus:e.sequence.getSequenceRequest.status,getSequenceRequestMessage:e.sequence.getSequenceRequest.message,getSequenceRequestError:e.sequence.getSequenceRequest.error,meta:e.home.meta,sequence:e.sequence.sequence,agencyConfig:e.home.agencyConfig,sequenceId:e.sequence.sequence.id,subsequenceId:e.sequence.subsequence.id})),N)(y),R=s(103),E=s(113),A=s(803);const k=i.a.lazy((()=>Object(R.a)((()=>Promise.all([s.e(46),s.e(27)]).then(s.bind(null,2325))))));var I=e=>{let{isStepsListEmpty:t,tabId:s,isSubsequenceStepsListEmpty:n,match:a,createSubsequence:c}=e;const{subsequenceId:i}=a.params;return Object(O.jsx)(l.a,{fluid:!0,className:"steps-list-container",children:(i?n:t)?i?Object(O.jsx)(w,{}):Object(O.jsx)(q,{}):Object(O.jsx)(E.a,{fallback:Object(O.jsx)(A.a,{}),children:Object(O.jsx)(k,{tabId:s,createSubsequence:c})})})};const P=Object(n.connect)((e=>{var t,s,n,a,c;return{isStepsListEmpty:0===(null===e||void 0===e||null===(t=e.sequence)||void 0===t||null===(s=t.sequence)||void 0===s||null===(n=s.steps)||void 0===n?void 0:n.length),isSubsequenceStepsListEmpty:0===(null===(a=e.sequence.subsequence)||void 0===a||null===(c=a.steps)||void 0===c?void 0:c.length),subscriptionDetails:e.home.subscription,pageHeaderBannerMessage:e.pageHeader.message,ctaURL:e.pageHeader.CTAUrl,ctaText:e.pageHeader.CTAText,target:e.pageHeader.target,getSequenceRequestStatus:e.sequence.getSequenceRequest.status,getSchedulesRequestStatus:e.sequence.getSchedulesRequest.status}}));var T=Object(a.j)(P(I))},2308:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return w}));var n=s(2),a=s(15),c=s(63),i=s(1),l=s.n(i),o=s(29),d=s(3),r=s(100),u=s(77),b=s(103),j=s(113),h=s(2203),m=s(0);const p=l.a.lazy((()=>Object(b.a)((()=>s.e(9).then(s.bind(null,2321))))));var v=e=>{var t,s;let{sendGetContactStatusCountRequest:a,sendGetSequenceContactListRequest:c,contactsPagination:l,sendGetSequenceContactListRequestStatus:b,sendGetContactStatusCountRequestStatus:v,sendGetSequenceContactListRequestError:g,sequenceContacts:O,sequenceStatusFilterList:S,currentSequenceStep:x,currentSubsequenceStep:q,showLoadingBar:f,hideLoadingBar:C,resetContacts:y,userTimeZone:N,onTabChange:w,resetSequenceProspectsFilters:R,sendGetEmailVerificationCreditsRequestStatus:E,sendGetEmailVerificationCreditsRequestError:A,sendGetAllOutcomesRequest:k,tabId:I,allOutcomes:P,sequenceProspectsFilters:T,setSequenceProspectsFilters:L,sendGetSubsequenceContactListRequest:F,sendGetSubsequenceContactListRequestStatus:M,sendGetSubsequenceContactListRequestError:_,sendGetSubsequenceContactStatusCountRequest:D,sendGetSubsequenceContactStatusCountRequestStatus:B,isDealValueSet:G}=e;const V=Object(i.useMemo)((()=>{var e,t;if(!(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t?void 0:t.search))return null;const s=new URLSearchParams(window.location.search);return{importedFileIds:(null===s||void 0===s?void 0:s.get("importedFile"))||"",importedFileNotificationId:(null===s||void 0===s?void 0:s.get("notificationId"))||""}}),[null===(t=window)||void 0===t||null===(s=t.location)||void 0===s?void 0:s.search]),{sequenceId:U,subsequenceId:W}=Object(o.i)(),H=Object(i.useCallback)((async e=>{var t;const s=await Object(u.u)(e);var a;(null===s||void 0===s||null===(t=s.payload)||void 0===t?void 0:t.length)>0?L(Object(n.a)(Object(n.a)({},T),{},{"imported file":s.payload})):L(Object(n.a)(Object(n.a)({},T),{},{"imported file":null===e||void 0===e||null===(a=e.split(","))||void 0===a?void 0:a.map((e=>({name:"Unknown File Name",id:e})))}))}),[L,T]);return Object(i.useEffect)((()=>{if("prospects"===I){let e={};(null===V||void 0===V?void 0:V.importedFileIds)&&(e={prospectImportFileIds:null===V||void 0===V?void 0:V.importedFileIds},H(null===V||void 0===V?void 0:V.importedFileIds));const t=Object(n.a)(Object(n.a)({},l),e);W?(F(U,W,t),D(U,W,t)):U&&(c(U,t),a(U,t)),k()}else y()}),[I,null===V||void 0===V?void 0:V.importedFileIds,null===V||void 0===V?void 0:V.importedFileNotificationId]),Object(i.useEffect)((()=>{b===d.a.Pending&&f(),b===d.a.Succeeded&&C(),b===d.a.Failed&&(C(),g&&Object(r.a)(g.message))}),[b]),Object(i.useEffect)((()=>{M===d.a.Pending&&f(),M===d.a.Succeeded&&C(),M===d.a.Failed&&(C(),_&&Object(r.a)(_.message))}),[M]),Object(i.useEffect)((()=>()=>{y(),R("all")}),[]),Object(i.useEffect)((()=>{E===d.a.Failed&&A&&Object(r.a)(A.message)}),[E,A]),v!==d.a.Succeeded&&null===S||b!==d.a.Succeeded&&null===O||null===N||B!==d.a.Succeeded&&null===S||B!==d.a.Succeeded&&null===O||null===N?Object(m.jsx)(h.a,{isDealValueSet:G}):Object(m.jsx)(j.a,{fallback:Object(m.jsx)(h.a,{isDealValueSet:G}),children:Object(m.jsx)(p,{sendGetContactStatusCountRequest:a,sendGetSubsequenceContactStatusCountRequest:D,sendGetSequenceContactListRequest:c,sendGetSubsequenceContactListRequest:F,onTabChange:w,contactsPagination:l,currentSequenceStep:W?q:x,resetSequenceProspectsFilters:R,tabId:I,allOutcomes:P,isSubsequence:Boolean(W)})})},g=s(20),O=s(97),S=s(9),x=s(26),q=s(116);var f=e=>t=>{let{sendGetSequenceContactListRequest:s,sendGetContactStatusCountRequest:c,sendGetSubsequenceContactListRequest:i,sendGetSubsequenceContactStatusCountRequest:l}=t,o=Object(x.a)(t,["sendGetSequenceContactListRequest","sendGetContactStatusCountRequest","sendGetSubsequenceContactListRequest","sendGetSubsequenceContactStatusCountRequest"]);const d=Object(a.useStore)();return Object(m.jsx)(e,Object(n.a)(Object(n.a)({},o),{},{sendGetSequenceContactListRequest:(e,t)=>{const n=d.getState().sequence.sequenceProspectsFilters;return s(e,Object(q.d)(t,n))},sendGetContactStatusCountRequest:(e,t)=>{const s=d.getState().sequence.sequenceProspectsFilters;return c(e,Object(q.d)(t,s))},sendGetSubsequenceContactListRequest:(e,t,s)=>{const n=d.getState().sequence.sequenceProspectsFilters;return i(e,t,Object(q.d)(s,n))},sendGetSubsequenceContactStatusCountRequest:(e,t,s)=>l(e,t,{})}))},C=s(22),y=s(129);const N={showLoadingBar:()=>Object(c.showLoading)(),hideLoadingBar:()=>Object(c.hideLoading)(),sendGetContactStatusCountRequest:(e,t)=>Object(g.F)(Object(n.a)({sequenceId:e},t)),sendGetSequenceContactListRequest:(e,t)=>Object(g.S)(Object(n.a)(Object(n.a)({sequenceId:e},t),{},{sortOrder:S.I.Asc})),resetContacts:()=>Object(O.r)(),sendGetAdminSettingsRequest:()=>Object(g.y)(),resetSequenceProspectsFilters:e=>Object(O.ab)(e),sendGetEmailVerificationPlansRequest:()=>Object(C.n)(),sendGetAllOutcomesRequest:()=>Object(y.d)(),setSequenceProspectsFilters:e=>Object(O.Cb)(e),sendGetSubsequenceContactListRequest:(e,t,s)=>Object(g.hb)(Object(n.a)(Object(n.a)({sequenceId:e,subsequenceId:t},s),{},{sortOrder:S.I.Asc})),sendGetSubsequenceContactStatusCountRequest:(e,t,s)=>Object(g.ib)(Object(n.a)({sequenceId:e,subsequenceId:t},s))};var w=Object(a.connect)((e=>{var t,s,n,a;return{sendGetContactStatusCountRequestStatus:e.sequence.getContactStatusCountRequest.status,sendGetContactStatusCountRequestError:e.sequence.getContactStatusCountRequest.error,sendGetSequenceContactListRequestStatus:e.sequence.getSequenceContactListRequest.status,sendGetSequenceContactListRequestError:e.sequence.getSequenceContactListRequest.error,getAdminSettingsRequestStatus:e.sequence.getAdminSettings.status,sequenceContacts:e.sequence.contacts,sequenceStatusFilterList:e.sequence.contactStatusFilterCount,contactsPagination:e.sequence.contactPagination,currentSequenceStep:e.sequence.sequence.steps,currentSubsequenceStep:null===(t=e.sequence.subsequence)||void 0===t?void 0:t.steps,isDealValueSet:null===(s=e.sequence.sequence)||void 0===s?void 0:s.isDealValueSet,adminSettings:e.sequence.adminSettings,userTimeZone:null===e||void 0===e||null===(n=e.myProfile)||void 0===n||null===(a=n.myProfile)||void 0===a?void 0:a.timeZone,subscriptionDetails:e.home.subscription,pageHeaderBannerMessage:e.pageHeader.message,ctaURL:e.pageHeader.CTAUrl,ctaText:e.pageHeader.CTAText,target:e.pageHeader.target,sendGetEmailVerificationCreditsRequestStatus:e.billingAndSubscription.getEmailVerificationCreditsRequest.status,sendGetEmailVerificationCreditsRequestError:e.billingAndSubscription.getEmailVerificationCreditsRequest.error,sendGetEmailVerificationPlansRequestStatus:e.billingAndSubscription.getEmailVerificationPlanRequest.status,sendGetEmailVerificationPlansRequestError:e.billingAndSubscription.getEmailVerificationPlanRequest.error,getEmailVerificationPlanResponse:e.billingAndSubscription.getEmailVerificationPlanResponse,allOutcomes:e.customOutcome.outcomes,sequenceProspectsFilters:e.sequence.sequenceProspectsFilters,sendGetSubsequenceContactListRequestStatus:e.sequence.getSubsequenceContactListRequest.status,sendGetSubsequenceContactListRequestError:e.sequence.getSubsequenceContactListRequest.error,sendGetSubsequenceContactStatusCountRequestStatus:e.sequence.getSubsequenceContactStatusCountRequest.status,sendGetSubsequenceContactStatusCountRequestError:e.sequence.getSubsequenceContactStatusCountRequest.error}}),N)(f(v))},2322:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return Ht}));var n=s(15),a=s(29),c=s(1),i=s.n(c),l=s(2),o=s(63),d=s(20),r=s(121),u=s(14),b=s.n(u),j=s(5),h=s(210),m=s(9),p=s(4),v=s(539),g=s(255),O=s(11),S=s(0);var x=e=>{let{tab:t,isSequenceOnboardingCompeted:s,count:n,isDisabled:a,isLoading:c=!1}=e;if(c)return Object(S.jsx)("div",{className:"loading-wrapper",children:Object(S.jsx)(p.l,{width:70,height:20})});if(t.key===v.f.Subsequence){const e=Object(S.jsxs)("span",{className:"label-container ".concat(a?"disabled":""),children:[Object(S.jsx)("span",{className:"label-icon d-flex",children:Object(S.jsx)(j.Fb,{width:18,height:18})}),Object(S.jsx)("span",{className:"label-text",children:t.label}),n?Object(S.jsx)("div",{className:"tab-count",children:Object(S.jsx)("span",{className:"regular-1 font-medium gray-txt-15",children:n})}):Object(S.jsx)(S.Fragment,{})]});return Object(S.jsxs)("div",{className:"sequence-single-tab--label",children:[Object(S.jsx)("div",{className:"tab-separator"}),a?Object(S.jsx)(g.a,{placement:O.d.Bottom,text:Object(S.jsx)("div",{className:"subsequence-tab-disabled-tooltip",children:Object(S.jsx)("div",{className:"description",children:"Set up the first step in your sequence to begin creating subsequences"})}),children:e}):e]})}return s?Object(S.jsxs)("div",{className:"sequence-single-tab--label",children:[Object(S.jsx)("span",{className:"label-text",children:t.label}),n?Object(S.jsx)("div",{className:"tab-count",children:Object(S.jsx)("span",{className:"regular-1 font-medium gray-txt-15",children:n})}):Object(S.jsx)(S.Fragment,{})]}):Object(S.jsxs)("div",{className:"sequence-single-tab--label",children:[(null===t||void 0===t?void 0:t.isCompleted)?Object(S.jsx)("div",{className:"tab-complete d-flex justify-content-center align-items-center",children:Object(S.jsx)(j.L,{width:14,height:14})}):Object(S.jsx)("div",{className:"tab-incomplete"}),Object(S.jsx)("span",{children:t.label})]})},q=s(62),f=s(2140),C=s(100),y=s(6),N=s(3),w=s(8),R=s(340),E=s(41),A=s(19),k=s(18),I=s(418),P=s(39),T=s(342),L=s(836),F=s(196),M=s(314),_=s(2089),D=s(798),B=s(16),G=s(151),V=s(176);var U=e=>{let{progress:t,currentTab:s,isStepsListEmpty:n,isContactsEmpty:a,sequenceId:i,sendPauseResumeSequenceRequest:o,pauseResumeSequenceRequestStatus:d,sendConnectEmailAccountRequest:r,sendGetSequenceRequest:u,pauseResumeSequenceRequestMessage:b,pauseResumeSequenceRequestError:j,renameSequenceRequestStatus:h,resetRenameSequenceRequest:v,renameSequenceRequestError:g,renameSequenceRequestMessage:O,connectEmailAccountRequestStatus:x,authUrl:U,profileProgress:W,updateProfileProgressRequest:H,updateProfileProgressRequestStatus:z,sendGetUserSettingsRequest:Y,resetPauseResumeSequenceRequest:Q,sequence:K,sendGetSequenceScoreRequest:Z,remainingEmailSentLimit:J,isAllStepsCompleted:X,isPauseResumeSequence:$,setIsPauseResumeSequence:ee,handleInvalidateEmailsTabCache:te}=e;const se=d===N.a.Pending,[ne,ae]=Object(c.useState)({action:null,showOnboarding:!1,showUpgradePlanModal:!1}),[ce,ie]=Object(c.useState)(!1),[le,oe]=Object(c.useState)(!1),[de,re]=Object(c.useState)(!1),[ue,be]=Object(c.useState)(!1);Object(c.useEffect)((()=>{$&&Object(P.b)({status:d,onSuccess:()=>{w.d.success(b),ee(!1),Q(),te(),setTimeout((()=>{Object(T.a)(W,H,K),u(i)}),0)},onFailed:()=>{ee(!1),Q(),4001!==j.code?2001!==j.code?3001!==j.code?Object(C.a)(null===j||void 0===j?void 0:j.message):Object(C.a)(Object(S.jsxs)("p",{children:["All email accounts are disconnected. Click",Object(S.jsx)(q.a,{to:"/email-accounts",children:" here "})," to connect and start engaging with your prospects."]}),"Email accounts are disconnected"):Object(C.a)(Object(S.jsxs)("p",{children:["Attached email account is disconnected. Click",Object(S.jsx)(q.a,{to:"/email-accounts",children:" here "})," to connect and start engaging with your prospects."]})):ie(!0)}})}),[d]),Object(c.useEffect)((()=>{Object(P.b)({status:z,onSuccess:()=>{Y()}})}),[z]),Object(c.useEffect)((()=>{Object(P.b)({status:h,onSuccess:()=>{w.d.success(O),u(i),v()},onFailed:()=>{Object(C.a)(null===g||void 0===g?void 0:g.message),v()}})}),[h]),Object(c.useEffect)((()=>{Object(P.b)({status:x,onSuccess:()=>{Object(y.Z)(U)}})}),[x]);const je=t===m.s.Active;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"steps-top-action",children:["settings"===s&&!je&&Object(S.jsx)("div",{className:"d-flex",children:Object(S.jsxs)(p.d,{onClick:()=>(async e=>{const t=Object(T.b)(e);if(Object(A.a)(k.a.SEQUENCE_UPDATE_STATUS)||!Object(V.a)())Object(A.a)(k.a.SEQUENCE_UPDATE_STATUS)&&(o(i,t),ee(!0));else{const e="Please upgrade to enable the sequence",t=["Your account is downgraded to a free plan. Upgrade to a paid plan to enable the sequence and resume email sending."];G.b.showModal(e,t,!0)}})(!je),disabled:!X,isLoading:se,loadingText:"Start Sequence",children:[Object(S.jsx)("img",{src:B.a.BxRightArrow,alt:"icon",className:"mr-2"}),"Start Sequence"]})}),Object(T.h)(s)&&Object(S.jsx)(_.a,{onRefresh:()=>Z({sequenceId:K.id.toString(),refresh:!0})}),Object(A.a)(k.a.SEQUENCE_STEP_WRITE)&&Object(T.g)(s,n)&&Object(S.jsx)(f.a,{isEmptyScreen:!1}),Object(T.d)(s,n,a)]}),Object(T.e)(ce,(()=>{ie(!1),R.a.dispatch(E.a.MODAL_HANDLER,{isModalOpened:!1})}),r),Object(T.f)(ne.showUpgradePlanModal,(()=>{ae(Object(l.a)(Object(l.a)({},ne),{},{showUpgradePlanModal:!1}))})),Object(S.jsx)(I.a,{show:le,onClose:()=>{oe(!1)},planName:"starter",restrictionOn:"sequence"}),de&&Object(S.jsx)(L.a,{show:de,modalTitle:"Upgrade your plan to resume sequence",bodyContent:0===J?Object(M.b)():Object(M.c)(),emailBody:Object(F.a)(),onClose:()=>re(!1)}),Object(S.jsx)(D.a,{show:ue,onClose:()=>be(!1)})]})},W=s(37),H=s(35),z=s(268),Y=s(97);const Q={sendGetSequenceRequest:e=>Object(d.Y)(e),sendRenameSequenceRequest:(e,t)=>Object(d.wb)({sequenceId:e,title:t}),resetRenameSequenceRequest:()=>Object(Y.J)(),sendPauseResumeSequenceRequest:(e,t)=>Object(d.tb)({sequenceId:e,action:t}),sendUpgradeOnboardingStepRequest:e=>Object(W.s)(e),sendConnectEmailAccountRequest:(e,t)=>Object(H.e)({method:e,emailAccountId:t}),sendGetUserSettingsRequest:()=>Object(W.m)(),updateProfileProgressRequest:e=>Object(z.a)(e),resetPauseResumeSequenceRequest:()=>Object(Y.F)(),setIsPauseResumeSequence:e=>Object(Y.wb)(e),sendGetSequenceScoreRequest:e=>Object(d.Z)(e)},K=Object(n.connect)((e=>{var t,s,n,a,c,i,l,o,d;return{renameSequenceRequestStatus:e.sequence.renameSequenceRequest.status,renameSequenceRequestMessage:e.sequence.renameSequenceRequest.message,renameSequenceRequestError:e.sequence.renameSequenceRequest.error,pauseResumeSequenceRequestStatus:e.sequence.pauseResumeSequenceRequest.status,pauseResumeSequenceRequestMessage:e.sequence.pauseResumeSequenceRequest.message,pauseResumeSequenceRequestError:e.sequence.pauseResumeSequenceRequest.error,title:null===(t=e.sequence.sequence)||void 0===t?void 0:t.title,progress:null===(s=e.sequence.sequence)||void 0===s?void 0:s.progress,isStepsListEmpty:0===(null===e||void 0===e||null===(n=e.sequence)||void 0===n||null===(a=n.sequence)||void 0===a||null===(c=a.steps)||void 0===c?void 0:c.length),sequenceId:null===(i=e.sequence.sequence)||void 0===i?void 0:i.id,isContactsEmpty:!e.sequence.contactStepFilterCount.totalContacts,meta:e.home.meta,connectEmailAccountRequestStatus:e.emailAccount.connectEmailAccountRequest.status,authUrl:e.emailAccount.authUrl,getUserSettingRequestStatus:e.home.getUserSettingsRequest.status,profileProgress:e.home.profileProgress,updateProfileProgressRequestStatus:e.home.updateProfileProgressRequest.status,updateProfileProgressRequestMessage:e.home.updateProfileProgressRequest.message,updateProfileProgressRequestError:e.home.updateProfileProgressRequest.error,pausedReasonIdentifier:null===(l=e.sequence.sequence)||void 0===l?void 0:l.pausedReasonIdentifier,featureUsages:e.home.featureUsages,agencyConfig:e.home.agencyConfig,subscriptionDetails:e.home.subscription,sequence:e.sequence.sequence,remainingEmailSentLimit:parseInt(null===(o=e.home.getPostLoadMetaResponse)||void 0===o||null===(d=o.accountUsageQuotaRemaining)||void 0===d?void 0:d["EMAIL.SEND"],10),isPauseResumeSequence:e.sequence.isPauseResumeSequence,verified:e.home.verified}}),Q);var Z=Object(a.j)(K(U)),J=s(103),X=s(2150),$=s(27),ee=s(408),te=s(172),se=s(96),ne=s(95),ae=s(704),ce=s(50),ie=s(116);class le extends i.a.PureComponent{constructor(e){super(e),this.inputRef=void 0,this.spanRef=void 0,this.adjustInputWidth=()=>{var e,t;const{title:s}=this.state;(null===(e=this.spanRef)||void 0===e?void 0:e.current)&&(null===(t=this.inputRef)||void 0===t?void 0:t.current)&&(this.spanRef.current.textContent=s,this.inputRef.current.style.width="".concat(this.spanRef.current.offsetWidth+14,"px"))},this.state={title:e.title||"",isEditMode:!1},this.inputRef=i.a.createRef(),this.spanRef=i.a.createRef(),this.onSetTitle=this.onSetTitle.bind(this),this.onInputChange=this.onInputChange.bind(this),this.onInputBlur=this.onInputBlur.bind(this),this.onInputKeyPress=this.onInputKeyPress.bind(this),this.activateEditMode=this.activateEditMode.bind(this),this.deactivateEditMode=this.deactivateEditMode.bind(this)}componentDidMount(){this.adjustInputWidth()}componentDidUpdate(e,t){const{title:s}=this.props,{title:n}=this.state;e.title!==s&&this.onSetTitle(),t.title!==n&&this.adjustInputWidth()}onSetTitle(){const{title:e}=this.state,{title:t}=this.props;e||this.setState({title:t})}onInputChange(e){const{value:t}=e.target;this.setState({title:t})}onInputKeyPress(e){Object(ae.a)(e.key)?this.inputRef.current.blur():Object(ae.b)(e.key)&&this.onRevert()}onInputBlur(){this.onSave(),this.changeFilterSequenceTitle()}onRevert(){const{title:e}=this.props;this.setState({title:e},(()=>{this.inputRef.current.blur()})),this.deactivateEditMode()}onSave(){const{title:e}=this.state,{title:t,onChange:s}=this.props;e&&0!==e.length&&e.trim()?t!==e&&s(e):this.setState({title:t}),this.deactivateEditMode()}changeFilterSequenceTitle(){const{sequenceId:e}=this.props,{title:t}=this.state,s=Object(ce.v)(),n=Object(ce.v)();if(s||n){var a,c;const i=null===s||void 0===s||null===(a=s.sequences)||void 0===a?void 0:a.map((s=>{let{id:n,title:a}=s;return{id:n,title:n===e?t:a}})),o=null===n||void 0===n||null===(c=n.sequences)||void 0===c?void 0:c.map((s=>{let{id:n,title:a}=s;return{id:n,title:n===e?t:a}})),d=Object(l.a)(Object(l.a)({},s),{},{sequences:i}),r=Object(l.a)(Object(l.a)({},n),{},{sequences:o});Object(ce.I)(d),Object(ie.h)(r)}}activateEditMode(){this.setState({isEditMode:!0})}deactivateEditMode(){this.setState({isEditMode:!1})}render(){const{title:e,isEditMode:t}=this.state,s=!Object(A.a)(k.a.SEQUENCE_UPDATE)||!Object(ne.a)(se.a.SEQUENCES_RENAME),n=b()(["subsequence-name--input",{disabled:s}]);return Object(S.jsxs)("div",{className:"subsequence-name",children:[Object(S.jsx)("input",{className:n,value:e,onChange:this.onInputChange,onBlur:this.onInputBlur,onKeyUp:this.onInputKeyPress,onKeyPress:this.onInputKeyPress,onFocus:this.activateEditMode,ref:this.inputRef,maxLength:Number(v.c.MaxSequenceTitleLength),readOnly:s||!t}),Object(S.jsx)("span",{ref:this.spanRef,className:"subsequence-name--hidden-span",children:e})]})}}var oe=le,de=s(283),re=s(2200),ue=s(174),be=s(2236);var je=e=>{let{subsequenceId:t,show:s,onClose:n,isAddStepDisabled:a}=e;const[i,l]=Object(c.useState)(!1);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(ue.a,{show:s,className:"no-steps-found-modal",title:Object(S.jsxs)("div",{children:[Object(S.jsx)(j.d,{width:20,height:20,color:"#FAAD14"}),Object(S.jsx)("span",{className:"line-height-1",children:"Ensure at least one step is added"})]}),primaryBtnClickedHandler:()=>{n(),l(!0)},secondaryBtnClickedHandler:n,primaryBtnLabel:"Add Step",secondaryBtnLabel:"Cancel",onHide:n,primaryBtnDisabled:a,children:Object(S.jsx)("p",{children:"No steps found in the subsequence you're trying to activate"})}),i&&Object(S.jsx)(be.a,{show:i,onClose:()=>{l(!1)},subsequenceId:t})]})};var he=e=>{let{show:t,onClose:s,onAddCondition:n,subsequenceTab:a}=e;return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(ue.a,{show:t,className:"no-steps-found-modal",title:Object(S.jsxs)("div",{children:[Object(S.jsx)(j.d,{width:20,height:20,color:"#FAAD14"}),Object(S.jsx)("span",{className:"line-height-1",children:"Ensure at least one condition is added"})]}),primaryBtnClickedHandler:n,secondaryBtnClickedHandler:s,hidePrimaryBtn:a===X.a.Conditions,primaryBtnLabel:"Add Conditions",secondaryBtnLabel:"Cancel",onHide:s,children:Object(S.jsx)("p",{children:"No conditions found in the subsequence you're trying to activate"})})})},me=s(2201),pe=s(107);var ve=e=>{var t;let{sequenceId:s,subsequenceId:n,subsequenceName:a,setSubsequenceName:i,sequence:l,subsequence:o,subsequenceTab:d,navigateToConditionsTab:r,remainingEmailSentLimit:u,verified:b,pausedReasonIdentifier:h,renameSequenceRequestStatus:v,sendPauseResumeSequenceRequest:g,resetPauseResumeSequenceRequestState:x,pauseResumeSequenceRequestStatus:f,sendGetSubsequenceRequest:C,isLoading:N,resetRenameSequenceRequest:R,subsequenceSettings:E,trackingId:I,planName:P}=e;const{t:L}=Object($.b)(),[_,B]=Object(c.useState)(null),[U,W]=Object(c.useState)(!1),[H,z]=Object(c.useState)(!1),[Y,Q]=Object(c.useState)(!1),[K,Z]=Object(c.useState)(!1),[J,X]=Object(c.useState)(!1),[ae,ce]=Object(c.useState)(!1);Object(c.useEffect)((()=>{Object(y.p)({status:f,onSuccess:()=>{x(),w.d.success("Subsequence ".concat(_===m.o.Resume?"activated":"paused"," successfully")),B(null),Q(!1),C(n)},onFailed:()=>{x()}})}),[f]),Object(c.useEffect)((()=>{Object(y.p)({status:v,onSuccess:()=>{s&&w.d.success("Subsequence renamed successfully"),R()},onFailed:()=>{R()}})}),[v]);const ie=Object(c.useMemo)((()=>h?ee.b[h]:""),[h]);return Object(S.jsxs)("div",{className:"subsequence-details-header-container",children:[Object(S.jsx)("div",{className:"subsequence-icon",children:Object(S.jsx)(j.Fb,{})}),Object(S.jsx)("span",{className:"subsequence-title",children:Object(S.jsx)(q.a,{className:"single-sequence-header--title",to:"/sequence/".concat(s,"/subsequence"),children:"Subsequence"})}),Object(S.jsx)("div",{className:"subsequence-chevron-right",children:Object(S.jsx)(j.R,{})}),N?Object(S.jsx)("div",{className:"loading-wrapper",children:Object(S.jsx)(p.l,{width:244,height:28})}):Object(S.jsx)(oe,{title:a,onChange:i,sequenceId:n}),Object(S.jsx)("div",{className:"subsequence-separator"}),N?Object(S.jsx)(p.l,{width:28,height:16}):Object(A.a)(k.a.SEQUENCE_WRITE)&&Object(S.jsx)("div",{className:"subsequence-switch",children:Object(S.jsx)(te.b,{checked:(null===o||void 0===o?void 0:o.progress)===m.s.Active,size:te.a.Small,onChange:e=>{var t,s,n,a;Object(V.a)()?z(!0):Object(A.a)(k.a.SUBSEQUENCE_RESUME)?0===u&&e||(null===l||void 0===l?void 0:l.isSequenceHasOverLimitEmails)?Z(!0):b?(null===o||void 0===o?void 0:o.isConditionsAdded)||(null===E||void 0===E||null===(t=E.conditions)||void 0===t?void 0:t.length)>0?0!==(null===o||void 0===o?void 0:o.totalSteps)?Object(ne.a)(se.a.SEQUENCES_PAUSE_RESUME)&&(s=e?m.o.Resume:m.o.Pause,B(s),Q(!0)):X(!0):ce(!0):W(!0):(e&&(null===(n=window.analytics)||void 0===n||null===(a=n.track)||void 0===a||a.call(n,{userId:I,event:pe.a.TrippedFeature,properties:{feature_type:"Subsequence Activate",current_plan:P}})),z(!0))},placement:O.d.Bottom,tooltip:Object(T.c)(ie,L),overlayTooltipClass:"sequence-switch-tooltip"})}),Object(S.jsx)(re.a,{show:Y,action:_,onSubmit:()=>{if(Object(A.a)(k.a.SEQUENCE_UPDATE_STATUS)||!Object(V.a)())Object(ne.a)(se.a.SEQUENCES_PAUSE_RESUME)&&g(n,_);else{const e="Please upgrade to enable the subsequence",t=["Your account is downgraded to a free plan. Upgrade to a paid plan to enable the subsequence and resume email sending."];G.b.showModal(e,t,!0)}},onClose:()=>Q(!1),isRequestPending:Object(y.G)(f)}),Object(S.jsx)(me.a,{show:H,onClose:()=>z(!1)}),Object(S.jsx)(de.a,{show:K,modalTitle:"Upgrade your plan to resume subsequence",bodyContent:0===u?Object(M.b)():Object(M.c)(),emailBody:Object(F.a)(),onClose:()=>Z(!1)}),Object(S.jsx)(D.a,{show:U,onClose:()=>W(!1)}),Object(S.jsx)(je,{subsequenceId:n,show:J,onClose:()=>X(!1),isAddStepDisabled:!((null===o||void 0===o?void 0:o.isConditionsAdded)||(null===E||void 0===E||null===(t=E.conditions)||void 0===t?void 0:t.length)>0)}),Object(S.jsx)(he,{show:ae,onClose:()=>ce(!1),onAddCondition:()=>{ce(!1),r()},subsequenceTab:d})]})};const ge={sendPauseResumeSequenceRequest:(e,t)=>Object(d.tb)({sequenceId:e,action:t}),resetPauseResumeSequenceRequestState:()=>Object(Y.F)(),sendGetSubsequenceRequest:e=>Object(d.jb)(e),resetRenameSequenceRequest:()=>Object(Y.J)()};var Oe=Object(n.connect)((e=>{var t,s,n,a,c;return{renameSequenceRequestStatus:e.sequence.renameSequenceRequest.status,sequence:e.sequence.sequence,subsequence:e.sequence.subsequence,remainingEmailSentLimit:parseInt(null===(t=e.home.getPostLoadMetaResponse)||void 0===t||null===(s=t.accountUsageQuotaRemaining)||void 0===s?void 0:s["EMAIL.SEND"],10),verified:e.home.verified,subscriptionDetails:e.home.subscription,pausedReasonIdentifier:null===(n=e.sequence.subsequence)||void 0===n?void 0:n.pausedReasonIdentifier,pauseResumeSequenceRequestStatus:e.sequence.pauseResumeSequenceRequest.status,pauseResumeSequenceRequestError:e.sequence.pauseResumeSequenceRequest.error,subsequenceSettings:null===(a=e.sequence)||void 0===a?void 0:a.subsequenceSettings,trackingId:e.home.trackingId,planName:null===(c=e.home.subscription)||void 0===c?void 0:c.planName}}),ge)(ve),Se=s(212),xe=s(175);var qe=e=>{let{title:t,description:s,children:n,layout:a="horizontal"}=e;const c=b()("subsequence-condition-section",{"subsequence-condition-section--horizontal":"horizontal"===a});return Object(S.jsxs)("div",{className:c,children:[Object(S.jsxs)("div",{className:"subsequence-condition-section__header",children:[Object(S.jsx)("h3",{className:"subsequence-condition-section__title",children:t}),Object(S.jsx)("p",{className:"subsequence-condition-section__description",children:s})]}),Object(S.jsx)("div",{className:"subsequence-condition-section__content",children:n})]})},fe=s(81),Ce=s(17);const ye=e=>"Replied"!==e&&"Reply Body Contains"!==e&&"Last Step Completed"!==e&&"Prospect Tag"!==e,Ne=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return"Last Step Completed"===e||"Prospect Tag"===e?"".concat(e," ").concat(t[0]):e};var we=s(2091),Re=s(2126),Ee=s(31);var Ae=e=>{let{value:t=[],onUpdateFilterConditionValue:s,disabled:n=!1,className:a="",validate:i,maxChipsToShow:o,containerRef:d}=e;const r=Object(c.useRef)(null),[u,b]=Object(c.useState)(""),[j,h]=Object(c.useState)(!1),m=Object(c.useCallback)((()=>{h(!0)}),[]),v=Object(c.useCallback)((()=>{h(!1)}),[]),g=e=>{const n=t.filter(((t,s)=>s!==e));s(n)},O=e=>{"Enter"!==e&&"Blur"!==e?"Backspace"===e&&t.length>0&&!u&&g(t.length-1):(()=>{const e=u.split(",").map((e=>e.trim())).filter(Boolean).filter((e=>!t.includes(e))),n=()=>{const n=[...t||[],...e];s(n),b("")};e.length>0&&(i?i(e)&&n():n())})()};return Object(S.jsx)("div",Object(l.a)(Object(l.a)({className:"prospect-filters-text-input-container ".concat(a," ").concat(j||(null===t||void 0===t?void 0:t.length)<o?"focused":"")},Object(Ce.a)((()=>{(null===r||void 0===r?void 0:r.current)&&r.current.focus()}))),{},{onFocus:m,onBlur:v,children:Object(S.jsxs)("div",{className:"prospect-filters-text-input-pills",ref:d,children:[j?null===t||void 0===t?void 0:t.map(((e,t)=>Object(S.jsx)(p.i,{theme:"outline",size:"md",label:Object(y.hb)(e||"",36,!1),showCloseIcon:!0,onClose:()=>{n||g(t)}},e))):(()=>{const e=t.slice(0,o),s=t.length-o;return Object(S.jsxs)(S.Fragment,{children:[e.map(((e,t)=>Object(S.jsx)(p.i,{theme:"outline",size:"md",label:Object(y.hb)(e||"",10,!1),showCloseIcon:!0,onClose:()=>{n||g(t)}},e))),s>0&&Object(S.jsx)(p.i,{theme:"outline",size:"md",label:"+".concat(s)},"remaining")]})})(),Object(S.jsx)(Ee.a,{value:u,onChange:e=>{b(e)},autoFocus:!0,placeholder:"Enter text",ref:r,onKeyUp:e=>{O(e.key)},onBlur:()=>{O("Blur")},disabled:n})]})}))};var ke=e=>{let{field:t,operation:s,value:n,onUpdateFilterConditionValue:a,outcomes:l,steps:o,tags:d,isDisabled:r,conditionContainerWidth:u,sendGetProspectOutcomeRequest:b,sendGetStepCompletedRequest:j,sendGetProspectTagRequest:h}=e;const m=i.a.useRef(null),[p,v]=i.a.useState(2);if(Object(c.useEffect)((()=>{(()=>{if(m.current){const e=24,s=ye(null===t||void 0===t?void 0:t.label)?64:48,n=44,a=224,c=ye(null===t||void 0===t?void 0:t.label)?194:0,i=u-(e+s+n+a+c+24+24),l=108,o=50,d=Math.floor((i-o)/l);v(d>0?d:1)}})()}),[u]),Object(c.useEffect)((()=>{(e=>{let{field:t,sendGetProspectOutcomeRequest:s,sendGetStepCompletedRequest:n,sendGetProspectTagRequest:a}=e;"Prospect Outcome"!==t.label?"Last Step Completed"!==t.label?"Prospect Tag"===t.label&&a():n():s()})({field:t,sendGetProspectOutcomeRequest:b,sendGetStepCompletedRequest:j,sendGetProspectTagRequest:h})}),[t]),(e=>"is any"===e||"is not any"===e)(s))return null;if("Link Click"!==t.label&&(e=>"is"===e||"is not"===e)(s)){if((e=>"Replied"===e.label)(t))return Object(S.jsx)(we.a,{className:"date-input-select-box w-100",selectClassName:"date-input-dropdown",options:[{key:"1",value:"Yes"},{key:"0",value:"No"}],placeholder:"Select Yes/No",selectedOptionKey:(e=>{return void 0===n?null:Array.isArray(n)&&0!==(null===n||void 0===n?void 0:n.length)?null===(t=Number(null===n||void 0===n?void 0:n[0]))||void 0===t?void 0:t.toString():null===(e=Number(n))||void 0===e?void 0:e.toString();var t})(),optionRenderer:e=>Object(S.jsx)("span",{children:null===e||void 0===e?void 0:e.value}),selectedOptionRenderer:e=>Object(S.jsx)("span",{children:null===e||void 0===e?void 0:e.value}),onChange:e=>{a(Boolean(Number(e.key)))},disabled:r});let e=[];return"Prospect Outcome"===t.label?e=l.map((e=>({key:e.id,label:e.name,name:e.name}))):"Last Step Completed"===t.label?e=o.map((e=>({key:e.number,label:"Step ".concat(e.number),name:"Step ".concat(e.number)}))):"Prospect Tag"===t.label&&(e=d.map((e=>({key:e.id,label:e.name,name:e.name})))),Object(S.jsx)(fe.a,{options:e,selectedOptionKey:n,optionRenderer:e=>e.label,selectBarRef:m,selectedOptionRenderer:e=>Object(S.jsx)("div",{className:"d-flex gap-1 w-100",children:Object(Re.a)(e,a,r,p)}),onChange:e=>a(e.map((e=>e.key))),placeholder:"Select",multiSelect:!0,doNotCloseOnSelect:!0,disabled:r})}return"Link Click"===t.label||(e=>"contains"===e)(s)?Object(S.jsx)(Ae,{value:""===n?[""]:n,onUpdateFilterConditionValue:a,className:"set-condition-text-input ".concat(r?"disabled":""),validate:e=>((e,t)=>!t.link||e.every((e=>{try{const t=new URL(e);return!!["http:","https:"].includes(t.protocol)||(w.d.error("Invalid URL protocol. Only http and https are allowed."),!1)}catch(t){return w.d.error("Invalid URL format"),!1}})))(e,{link:"Link Click"===t.label}),disabled:r,maxChipsToShow:p,containerRef:m}):(e=>"greater than"===e||"less than"===e||"equals"===e||"greater than or equals"===e||"less than or equals"===e)(s)?Object(S.jsx)(xe.a,{placeholder:"Count",value:n,onChange:e=>{""!==e&&isNaN(Number(e))||a(e)},min:0,disabled:r,onKeyDown:e=>{["e","E","+","-"].includes(e.key)&&e.preventDefault()}}):null};const Ie=e=>{switch(e){case"is":return"Is";case"is not":return"Is Not";case"is any":return"Is Any";case"is not any":return"Is Not Any";case"greater than":return"Greater than";case"less than":return"Less than";case"equals":return"Equals";case"greater than or equals":return"Greater than or equals";case"less than or equals":return"Less than or equals";case"contains":return"Contains";default:return e}};var Pe=e=>{let{sequenceId:t,subsequenceConditionFields:s,isLoading:n,sequenceConfig:a,conditions:i,setConditions:o,tags:d,outcomes:r,steps:u,sendGetTagsRequest:b,sendGetOutcomesRequest:h,sendGetStepsRequest:v,isSubsequenceSettingsRequestPending:g}=e;const x=Object(c.useRef)(null),[q,f]=Object(c.useState)(0);Object(c.useEffect)((()=>{const e=new ResizeObserver((e=>{for(const t of e)t.contentRect&&f(t.contentRect.width)}));return x.current&&e.observe(x.current),()=>{e.disconnect()}}),[]);const C=Object(c.useMemo)((()=>s.map((e=>Object(l.a)({key:e.label,displayLabel:Ne(e.label,e.operations)},e)))),[s,a]),N=e=>!(!e||0===e.length)&&!e.some((e=>null===e.field)),w=e=>{let{index:t}=e;return Object(S.jsxs)("div",{className:"set-conditions-container__condition d-flex gap-16",children:[Object(S.jsx)("div",{className:"condition-logic",children:Object(S.jsx)(p.l,{width:[30,40,35][t],height:20})}),Object(S.jsx)("div",{className:"condition-field",children:Object(S.jsx)(p.l,{width:[140,130,165][t],height:32})}),Object(S.jsx)("div",{className:"condition-operation",children:Object(S.jsx)(p.l,{width:[170,165,195][t],height:32})}),Object(S.jsx)("div",{className:"condition-value",children:Object(S.jsx)(p.l,{width:[180,200,220][t],height:32})}),Object(S.jsx)("div",{className:"condition-remove",children:Object(S.jsx)(p.l,{width:20,height:20})})]},t)},R=e=>{let{option:t,sequenceConfigR:s}=e;if(!t)return null;let n=!1,a="";if("Link Click"===t.label){var c,i;n="0"===((null===s||void 0===s||null===(c=s.settings)||void 0===c||null===(i=c.find((e=>e.code===m.x.TRACK_LINK_CLICKS)))||void 0===i?void 0:i.value)||"1"),a="Please enable click tracking in the sequence settings to use it."}else if("Email Open Count"===t.label){var l,o;n="0"===((null===s||void 0===s||null===(l=s.settings)||void 0===l||null===(o=l.find((e=>e.code===m.x.TRACK_EMAIL_OPENS)))||void 0===o?void 0:o.value)||"1"),a="Please enable open tracking in the sequence settings to use it."}return Object(S.jsxs)("div",{className:"d-flex justify-content-between align-items-center w-100",children:[Object(S.jsx)("span",{children:Object(y.hb)(t.displayLabel||"",32,!1)}),n&&Object(S.jsx)(O.c,{placement:O.d.Right,text:a,className:"tooltip-sm",children:Object(S.jsx)(j.Mb,{width:16,height:16,color:"#D97706"})})]})},E=!Object(A.a)(k.a.SUBSEQUENCE_CREATE);return Object(S.jsxs)("div",{className:"set-conditions-container",ref:x,children:[Object(S.jsx)("div",{className:"set-conditions-container__conditions",children:g?Array.from({length:3}).map(((e,t)=>Object(S.jsx)(w,{index:t},t))):i.map(((e,s)=>{var c,m;return Object(S.jsxs)("div",{className:"set-conditions-container__condition d-flex gap-16",children:[Object(S.jsx)("div",{className:"condition-logic",children:s>0?"And":"Where"}),Object(S.jsx)("div",{className:"condition-field",children:Object(S.jsx)(fe.a,{options:C,className:"filter-fields-select",placeholder:"Select Field",optionRenderer:e=>Object(S.jsx)(R,{option:e,sequenceConfigR:a}),selectedOptionKey:null===e||void 0===e||null===(c=e.field)||void 0===c?void 0:c.label,selectedOptionRenderer:e=>{let[t]=e;return Object(S.jsx)("span",{children:null===t||void 0===t?void 0:t.displayLabel})},onChange:e=>{let[t]=e;((e,t)=>{o(i.map(((s,n)=>{var a;return n===t?Object(l.a)(Object(l.a)({},s),{},{field:e,operation:(null===e||void 0===e||null===(a=e.operations)||void 0===a?void 0:a[0])||null,value:void 0}):s})))})(t,s)},disabled:n||E})}),e.field&&ye(e.field.label)&&Object(S.jsx)("div",{className:"condition-operation",children:Object(S.jsx)(fe.a,{options:null===e||void 0===e||null===(m=e.field)||void 0===m?void 0:m.operations.map((e=>({key:e,label:e}))),optionRenderer:e=>Object(S.jsx)("span",{children:Ie(null===e||void 0===e?void 0:e.label)}),selectedOptionKey:null===e||void 0===e?void 0:e.operation,selectedOptionRenderer:e=>{let[t]=e;return Object(S.jsx)("span",{children:Ie(null===t||void 0===t?void 0:t.label)})},onChange:e=>{let[t]=e;return((e,t)=>{o(i.map(((s,n)=>{var a;return n===t?Object(l.a)(Object(l.a)({},s),{},{operation:e.key,value:"Email Open Count"===(null===s||void 0===s||null===(a=s.field)||void 0===a?void 0:a.label)?null===s||void 0===s?void 0:s.value:void 0}):s})))})(t,s)},disabled:E})}),Object(S.jsx)("div",{className:"condition-value",children:e.field&&e.operation&&Object(S.jsx)(ke,{field:e.field,operation:e.operation,value:e.value,onUpdateFilterConditionValue:e=>{((e,t)=>{const s=[...i];s[t]=Object(l.a)(Object(l.a)({},s[t]),{},{value:e}),o(s)})(e,s)},outcomes:r,steps:u,tags:d,sendGetProspectOutcomeRequest:h,sendGetStepCompletedRequest:()=>v(t.toString()),sendGetProspectTagRequest:b,isDisabled:E,conditionContainerWidth:q})}),Object(S.jsx)("div",Object(l.a)(Object(l.a)({className:"condition-remove"},Object(Ce.a)((()=>{E||(e=>{0===e&&1===i.length?o([{field:null,operation:null,value:void 0}]):o(i.filter(((t,s)=>s!==e)))})(s)}))),{},{children:Object(S.jsx)(j.eb,{width:20,height:20,color:"#6B7280"})}))]},s)}))}),g?Object(S.jsx)("div",{className:"set-conditions-container__add-condition",children:Object(S.jsx)(p.l,{width:120,height:24})}):Object(S.jsxs)("div",Object(l.a)(Object(l.a)({className:"set-conditions-container__add-condition".concat(!N(i)||E?" disabled":"")},Object(Ce.a)((()=>{N(i)&&!E&&o([...i,{field:null,operation:null,value:void 0}])}))),{},{children:[Object(S.jsx)(j.qc,{width:16,height:16,color:"#4B5563"}),Object(S.jsx)("span",{children:"Add Condition"})]}))]})},Te=s(25),Le=s(129);const Fe={sendGetTagsRequest:()=>Object(Te.Q)(),sendGetOutcomesRequest:()=>Object(Le.d)(),sendGetStepsRequest:e=>Object(Te.O)(e)};var Me=Object(n.connect)((e=>({subsequenceConditionFields:e.sequence.subsequenceConditionFields,sequenceConfig:e.sequence.sequenceConfig,getSubsequenceConditionFieldsRequestStatus:e.sequence.getSubsequenceConditionFieldsRequest.status,getSubsequenceConditionFieldsRequestError:e.sequence.getSubsequenceConditionFieldsRequest.error,tags:e.prospect.tags,outcomes:e.customOutcome.outcomes,steps:e.prospect.stepsDetails})),Fe)(Pe);var _e=e=>{let{schedules:t,scheduleId:s,onSelectSchedule:n,sendGetScheduleRequest:a,isSchedulesLoading:i,isSubsequenceSettingsRequestPending:o}=e;const d=Object(c.useMemo)((()=>{var e;return(null===t||void 0===t||null===(e=t.map)||void 0===e?void 0:e.call(t,(e=>Object(l.a)(Object(l.a)({},e),{},{key:e.id}))))||[]}),[t]),r=e=>e.toString().length<2?"0".concat(e.toString()):"".concat(e.toString());return Object(c.useEffect)((()=>{t&&0!==(null===t||void 0===t?void 0:t.length)||i||a()}),[t]),Object(S.jsxs)("div",{className:"d-flex align-items-center gap-8",children:[o?Object(S.jsx)("div",{className:"schedule-select",children:Object(S.jsx)(p.l,{width:310,height:32})}):Object(S.jsx)(fe.a,{options:d,selectedOptionKey:s,optionRenderer:e=>Object(S.jsx)("span",{children:null===e||void 0===e?void 0:e.name}),showOptionsSeparator:!0,selectedOptionRenderer:e=>{let[t]=e;return Object(S.jsx)("span",{children:null===t||void 0===t?void 0:t.name})},onChange:e=>{let[t]=e;return(e=>{n(e)})(t)},className:"schedule-select",placeholder:"Select Schedule",disabled:!Object(A.a)(k.a.SUBSEQUENCE_CREATE)}),Object(S.jsx)(O.c,{rootClose:!0,text:(()=>{const e=[];return t.forEach((t=>{if(t.id===s){JSON.parse(t.timeSlots).forEach((t=>{const s=[];t.slots.length>0&&(t.slots.forEach((e=>{s.push(Object(S.jsx)("span",{children:"".concat(r(e.start.hour.toString()),":").concat(r(e.start.minute.toString())," - ").concat(r(e.end.hour.toString()),":").concat(r(e.end.minute.toString())," ")}))})),e.push(Object(S.jsxs)("div",{className:"schedule-day",children:[Object(S.jsx)("p",{children:y.m[t.day]}),Object(S.jsx)("p",{}),Object(S.jsx)("p",{children:s})]})))}));const s=Object(y.K)(t.timezone).split("("),n="(".concat(s[1]," ").concat(s[0]);e.unshift(Object(S.jsx)("div",{className:"schedule-timezone font-semibold",children:n}))}})),e})(),className:"tooltip-schedule tooltip-lg",placement:O.d.Left,children:Object(S.jsx)("div",{className:"info-icon ml-1","aria-describedby":"tooltip-i09oB4y2M",children:Object(S.jsx)(j.Mb,{className:"info-circle-schedule",color:"#9CA3AF"})})})]})};var De=e=>{let{show:t,onSubmit:s,onClose:n,isLoading:a,isDisabled:c}=e;return Object(S.jsx)(ue.a,{show:t,className:"show-conditions-modal",title:Object(S.jsxs)("div",{className:"d-flex align-items-center gap-10",children:[Object(S.jsx)(j.d,{width:20,height:20,color:"#FAAD14"}),Object(S.jsx)("span",{className:"line-height-1",children:"Save the conditions to proceed"})]}),onHide:n,primaryBtnLabel:"Save & Continue",secondaryBtnLabel:"Cancel",primaryBtnClickedHandler:s,secondaryBtnClickedHandler:n,primaryBtnLoading:a,primaryBtnDisabled:a||c,children:Object(S.jsx)("p",{children:"You haven't saved the condition. Please save it before proceeding to the next action"})})},Be=s(2124),Ge=s(201);const Ve=e=>{if(1===(null===e||void 0===e?void 0:e.length)){const{field:t}=e[0];if(!t)return!0}return e.some((e=>{const{field:t,operation:s,value:n}=e;return!!t&&(!(!t||s)||(!!(t&&s&&(void 0===n||null===n||""===n||Array.isArray(n)&&0===n.length)&&s!==Ge.c.IS_EMPTY&&s!==Ge.c.IS_NOT_EMPTY&&s!==Ge.c.IS_ANY&&s!==Ge.c.IS_NOT_ANY)||!(!t||s!==Ge.c.BETWEEN||Array.isArray(n)&&2===n.length&&""!==n[0]&&""!==n[1]&&!isNaN(Number(n[0]))&&!isNaN(Number(n[1])))))}))},Ue=e=>e.some((e=>{var t,s,n;return!!(null===e||void 0===e?void 0:e.field)&&("Email Open Count"===(null===e||void 0===e||null===(t=e.field)||void 0===t?void 0:t.label)&&("less than"===(null===e||void 0===e?void 0:e.operation)||"less than or equals"===(null===e||void 0===e?void 0:e.operation))||("Link Click"===(null===e||void 0===e||null===(s=e.field)||void 0===s?void 0:s.label)&&("is not"===(null===e||void 0===e?void 0:e.operation)||"is not any"===(null===e||void 0===e?void 0:e.operation))||"Replied"===(null===e||void 0===e||null===(n=e.field)||void 0===n?void 0:n.label)&&!(null===e||void 0===e?void 0:e.value)))}));var We=e=>{let{show:t,onSubmit:s,onClose:n}=e;return Object(S.jsxs)(ue.a,{show:t,className:"show-conditions-modal save-conditions-warning-modal",title:Object(S.jsxs)("div",{className:"d-flex align-items-center gap-10",children:[Object(S.jsx)(j.d,{width:20,height:20,color:"#FAAD14"}),Object(S.jsx)("span",{className:"line-height-1",children:"Heads Up! Prospect may enter immediately in Subsequence"})]}),onHide:n,primaryBtnLabel:"Yes, Continue",secondaryBtnLabel:"Cancel",primaryBtnClickedHandler:s,secondaryBtnClickedHandler:n,children:[Object(S.jsxs)("p",{children:["You're using a negative condition"," ",Object(S.jsx)("span",{className:"font-medium",children:"(e.g., Reply is No, Open count < 3, Link not clicked)."})]}),Object(S.jsx)("p",{children:"With such conditions, a prospect can meet the rule and be added to this subsequence immediately after completing the first step in the parent sequence."}),Object(S.jsxs)("div",{className:"imp-points",children:[Object(S.jsx)("p",{className:"font-semibold",children:"To avoid unintended movements:"}),Object(S.jsxs)("p",{children:[Object(S.jsx)(j.L,{}),Object(S.jsx)("span",{children:'Add a condition like "Last step completed = X"'})]}),Object(S.jsxs)("p",{children:[Object(S.jsx)(j.L,{}),Object(S.jsx)("span",{children:"Start a subsequence with non-automated task so prospect runs through follow-ups after manual review"})]}),Object(S.jsxs)("p",{children:[Object(S.jsx)(j.L,{}),Object(S.jsx)("span",{children:"Combine with other conditions and longer delay for better control"})]})]}),Object(S.jsx)("p",{children:"Do you want to proceed with this setup?"})]})};var He=e=>{let{show:t,onSubmit:s,onClose:n}=e;return Object(S.jsxs)(ue.a,{show:t,className:"show-conditions-modal",title:Object(S.jsxs)("div",{className:"d-flex align-items-center gap-10",children:[Object(S.jsx)(j.d,{width:20,height:20,color:"#faad14"}),Object(S.jsx)("span",{className:"line-height-1",children:"Are you sure you want to update conditions?"})]}),onHide:n,primaryBtnLabel:"Yes, Continue",secondaryBtnLabel:"Cancel",primaryBtnClickedHandler:s,secondaryBtnClickedHandler:n,children:[Object(S.jsx)("p",{children:"Modifying conditions in an active sequence may affect future emails, causing schedule changes or delivery disruptions."}),Object(S.jsx)("p",{children:"Prospects may also be moved to the newly applied condition immediately"})]})};var ze=e=>{let{sequenceId:t,subsequenceId:s,schedules:n,subsequence:i,sendGetScheduleRequest:o,getSubsequenceConditionFieldsRequestStatus:d,sendGetSubsequenceConditionFieldsRequest:r,resetGetSubsequenceConditionFieldsRequest:u,updateSubsequenceSettingsRequestStatus:b,updateSubsequenceSettingsRequestError:h,sendUpdateSubsequenceSettingsRequest:v,resetUpdateSubsequenceSettingsRequest:g,isDirty:x,setIsDirty:q,getSubsequenceSettingsRequestStatus:f,subsequenceSettings:C,subsequenceConditionFields:N,showSaveConditionsModal:R,onHideSaveConditionModal:E,handleTabChange:I,getSchedulesRequestStatus:P}=e;const T=Object(a.g)(),L=Object(c.useRef)({firstStepRelativeDays:1,scheduleId:null,conditions:[{field:null,operation:null,value:void 0}]}),[F,M]=Object(c.useState)(1),[_,D]=Object(c.useState)(null),[B,G]=Object(c.useState)([{field:null,operation:null,value:void 0}]),[V,U]=Object(c.useState)({firstStepRelativeDays:"",conditions:!1}),[W,H]=Object(c.useState)(!1),[z,Y]=Object(c.useState)(!1),Q=()=>{W&&H(!1),z&&Y(!1);const{firstStepRelativeDays:e,scheduleId:n,conditions:a}=L.current;v(Object(l.a)(Object(l.a)(Object(l.a)({sequenceId:t,subsequenceId:s},JSON.stringify(B)!==JSON.stringify(a)?{conditions:B.filter((e=>e.field)).map((e=>{var t;return{conditionId:e.conditionId,name:null===(t=e.field)||void 0===t?void 0:t.label,operation:e.operation,value:e.value}}))}:{}),F!==e?{firstStepRelativeDays:F}:{}),_!==n?{scheduleId:_}:{}))},K=()=>{(null===i||void 0===i?void 0:i.progress)!==m.s.Active?Ue(B)?H(!0):Q():Y(!0)};Object(c.useEffect)((()=>(N&&0!==(null===N||void 0===N?void 0:N.length)||Object(y.G)(d)||r(),()=>{M(1),D(null),G([{field:null,operation:null,value:void 0}]),U({firstStepRelativeDays:"",conditions:!1})})),[]),Object(c.useEffect)((()=>{Object(y.p)({status:d,onSuccess:()=>{u()},onFailed:()=>{u()}})}),[d]),Object(c.useEffect)((()=>{Object(y.p)({status:b,onSuccess:()=>{g(),E(),I(),q(!1),w.d.success("Conditions saved successfully")},onFailed:()=>{g(),E(),Object(y.o)({error:h,onError:()=>{w.d.error(h.message)}})}})}),[b]),Object(c.useEffect)((()=>{Object(y.p)({status:f,onSuccess:()=>{let e=[{field:null,operation:null,value:void 0}];C.conditions.length>0&&(e=C.conditions.map((e=>{let{conditionId:t,operation:s,value:n,name:a}=e;const c=N.find((e=>e.label===a));return{conditionId:t,operation:s,value:null!==n&&void 0!==n?n:void 0,field:null!==c&&void 0!==c?c:null}}))),G(e),M(C.firstStepRelativeDays),D(C.scheduleId),L.current={firstStepRelativeDays:C.firstStepRelativeDays,scheduleId:C.scheduleId,conditions:e}},onFailed:()=>{}})}),[f]),Object(c.useEffect)((()=>{if(null===L||void 0===L?void 0:L.current){const{firstStepRelativeDays:e,scheduleId:t,conditions:s}=L.current,n=B.map((e=>{var t;return{fieldKey:null===(t=e.field)||void 0===t?void 0:t.label,operation:e.operation,value:e.value}})),a=s.map((e=>{var t;return{fieldKey:null===(t=e.field)||void 0===t?void 0:t.label,operation:e.operation,value:e.value}}));if(F!==e||_!==t||JSON.stringify(n)!==JSON.stringify(a))return void q(!0)}q(!1)}),[F,B,_]),Object(c.useEffect)((()=>{U(Object(l.a)(Object(l.a)({},V),{},{conditions:Ve(B)}))}),[B]);const Z=Object(c.useMemo)((()=>Object(y.G)(f)),[f]);return Object(S.jsxs)("div",{className:"subsequence-conditions",children:[Object(S.jsx)("div",{className:"subsequence-conditions__banner",children:Object(S.jsx)(p.b,{description:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("span",{children:["All settings will be inherited from the main sequence, and emails will be sent from the Email Accounts linked to the parent sequence."," "]}),Object(S.jsx)("span",Object(l.a)(Object(l.a)({className:"subsequence-conditions__banner-link"},Object(Ce.a)((()=>{T.push("/sequence/".concat(t,"/settings"))}))),{},{children:"View Settings"}))]}),size:"sm",variant:"info",icon:j.Mb})}),Object(S.jsxs)("div",{className:"subsequence-conditions__content",children:[Object(S.jsx)(qe,{title:"Set Condition",description:"Select a trigger for when the prospect will be added to the subsequence.",layout:"vertical",children:Object(S.jsx)(Me,{sequenceId:t,isLoading:Object(y.G)(d),conditions:B,setConditions:G,isSubsequenceSettingsRequestPending:Z})}),Object(S.jsx)(qe,{title:"Delay",description:"After meeting the condition, when should the first step be executed",children:Object(S.jsxs)("div",{className:"subsequence-condition-section__content-delay",children:[Object(S.jsx)("p",{className:"content-delay-label",children:"Start first step on day"}),Z?Object(S.jsx)(p.l,{width:62,height:30}):Object(S.jsx)(xe.a,{id:"days",name:"relativeDays",className:"content-delay-input",variant:V.firstStepRelativeDays&&xe.a.Variant.Error,min:Se.d.MinDay,max:Se.d.MaxDay,value:F,onChange:e=>{const t=Object(Be.a)(e,Se.d.MinDay);M(Number(e)),U(t?Object(l.a)(Object(l.a)({},V),{},{firstStepRelativeDays:t}):Object(l.a)(Object(l.a)({},V),{},{firstStepRelativeDays:""}))},disabled:!Object(A.a)(k.a.SEQUENCE_STEP_RELATIVE_DAYS_UPDATE)||!Object(A.a)(k.a.SUBSEQUENCE_CREATE)}),Object(S.jsx)(O.c,{text:"This step will be scheduled as soon as the sequence is activated.",placement:O.d.Bottom,children:Object(S.jsx)("div",{className:"content-delay-tooltip",children:Object(S.jsx)(j.Mb,{color:"#9CA3AF"})})})]})}),Object(S.jsx)(qe,{title:"Schedule Settings",description:"Choose the schedule for sending emails from this sequence.",children:Object(S.jsx)(_e,{schedules:n,scheduleId:_,onSelectSchedule:e=>{D(e.id)},sendGetScheduleRequest:o,isSubsequenceSettingsRequestPending:Z,isSchedulesLoading:Object(y.G)(P)})}),Object(S.jsx)("div",{className:"subsequence-conditions__save-btn",children:Z?Object(S.jsx)(p.l,{width:100,height:32}):Object(S.jsx)(p.d,{onClick:K,isLoading:Object(y.G)(b),disabled:Object(y.G)(b)||!x||!!V.firstStepRelativeDays||V.conditions||!Object(A.a)(k.a.SUBSEQUENCE_CREATE),loadingText:"Saving...",children:"Save"})})]}),Object(S.jsx)(De,{show:R,onClose:E,onSubmit:K,isLoading:Object(y.G)(b),isDisabled:!x||!!V.firstStepRelativeDays||V.conditions||!Object(A.a)(k.a.SUBSEQUENCE_CREATE)}),Object(S.jsx)(We,{show:W,onSubmit:Q,onClose:()=>H(!1)}),Object(S.jsx)(He,{show:z,onSubmit:()=>{Ue(B)?(H(!0),Y(!1)):Q()},onClose:()=>Y(!1)})]})};const Ye={sendGetSubsequenceConditionFieldsRequest:()=>Object(d.gb)(),resetGetSubsequenceConditionFieldsRequest:()=>Object(Y.x)(),sendGetScheduleRequest:()=>Object(d.O)(),sendUpdateSubsequenceSettingsRequest:e=>Object(d.Ob)(e),resetUpdateSubsequenceSettingsRequest:()=>Object(Y.kb)(),sendGetSubsequenceSettings:e=>Object(d.kb)(e)};var Qe=Object(n.connect)((e=>{var t,s;return{subsequence:e.sequence.subsequence,subsequenceConditionFields:e.sequence.subsequenceConditionFields,schedules:e.sequence.schedules,defaultSequenceScheduleId:null===(t=e.sequence.sequenceConfig)||void 0===t||null===(s=t.schedule)||void 0===s?void 0:s.id,getSubsequenceConditionFieldsRequestStatus:e.sequence.getSubsequenceConditionFieldsRequest.status,getSubsequenceConditionFieldsRequestError:e.sequence.getSubsequenceConditionFieldsRequest.error,updateSubsequenceSettingsRequestStatus:e.sequence.updateSubsequenceSettingsRequest.status,updateSubsequenceSettingsRequestError:e.sequence.updateSubsequenceSettingsRequest.error,getSubsequenceSettingsRequestStatus:e.sequence.getSubsequenceSettingsRequest.status,subsequenceSettings:e.sequence.subsequenceSettings,getSchedulesRequestStatus:e.sequence.getSchedulesRequest.status}}),Ye)(ze),Ke=s(2307),Ze=s(2308),Je=s(2225);const Xe=[{title:"Full Rule Match",desc:"Prospects enter the subsequence immediately after they meet all the defined conditions."},{title:"Delay Before Action",desc:"The delay sets how long after entry the first step will be triggered."},{title:"Condition Re-check",desc:"Each step checks the conditions again; if no longer met, the prospect is marked finished."},{title:"Entry to Other Subsequence",desc:"A prospect can enter a new subsequence once their status in the current one is Completed, Finished, or Inactive."},{title:"Subsequence Takes Over",desc:"Prospects will not receive any more steps from the parent sequence after entering a subsequence."}],$e=e=>{let{index:t,title:s,desc:n}=e;return Object(S.jsxs)("div",{className:"content-row",children:[Object(S.jsx)("div",{className:"content-row-number",children:Object(S.jsx)("span",{children:t+1})}),Object(S.jsxs)("div",{className:"content-row-details",children:[Object(S.jsx)("h1",{children:s}),Object(S.jsx)("p",{children:n})]})]})};var et=()=>Object(S.jsx)("div",{className:"subsequence-info-tooltip-content",children:Xe.map(((e,t)=>Object(S.jsx)($e,{index:t,title:e.title,desc:e.desc},t)))}),tt=s(2152),st=s(240);var nt=e=>{let{sequenceId:t,subsequenceId:s,subsequence:n,getSubsequenceRequestStatus:i,sendGetSubsequenceRequest:o,sendRenameSequenceRequest:d,subsequenceSettings:u,getSubsequenceSettingsRequestStatus:b,getSubsequenceSettingsRequestError:h,sendGetSubsequenceSettingsRequest:p,sequenceConfig:v,sendGetSequenceConfigRequest:g,resetGetSubsequenceRequest:q,updateSubsequenceSettingsRequestStatus:f,sendGetSubsequenceStatsCountRequest:C,subsequenceStatsCounts:N,getSubsequenceStatsCountRequestStatus:R,progress:E,sendGetSubsequenceStatsRequest:k}=e;const I=Object(a.g)(),P=Object(c.useRef)(""),{subsequenceActiveTab:T}=Object(a.i)(),[L,F]=Object(c.useState)(X.a.Conditions),[M,_]=Object(c.useState)(new Set),[D,B]=Object(c.useState)(""),[G,V]=Object(c.useState)(!1),[U,W]=Object(c.useState)(!1),H=Object(c.useMemo)((()=>Object(st.c)(i)),[i]),z=Object(c.useMemo)((()=>Object(st.c)(R)),[R]),Y=()=>{V(!1)},Q=e=>{F(e),I.location.search?I.push("/sequence/".concat(t,"/subsequence/").concat(s,"/").concat(e).concat(I.location.search)):I.push("/sequence/".concat(t,"/subsequence/").concat(s,"/").concat(e))},K=e=>{if(U)return P.current=e,void V(!0);Q(e)},Z=(e,n,a)=>{const c=E!==m.s.Draft;return Object(S.jsx)(r.a,{className:"sequence-single-tab",tab:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(x,{tab:Object(l.a)(Object(l.a)({},e),{},{isCompleted:M.has(e.key)}),isSequenceOnboardingCompeted:c,count:e.key===X.a.Steps||e.key===X.a.Prospects?Object(tt.c)(e.key,N):0,isDisabled:!1,isLoading:a}),!c&&n<1&&Object(S.jsx)("div",{className:"chevron-right-icon-container",children:Object(S.jsx)(j.R,{})})]}),children:(i=e.key,i===X.a.Conditions?Object(S.jsx)(Qe,{sequenceId:t,subsequenceId:s,isDirty:U,setIsDirty:W,showSaveConditionsModal:G,onHideSaveConditionModal:Y,handleTabChange:()=>{(null===P||void 0===P?void 0:P.current)&&(Q(P.current),p(s))}}):i===X.a.Steps?Object(S.jsx)(Ke.default,{tabId:i}):i===X.a.Prospects?Object(S.jsx)(Ze.default,{tabId:i,onTabChange:K}):i===X.a.Emails?Object(S.jsx)(Je.default,{id:1}):null)},a?n:e.key);var i};return Object(c.useEffect)((()=>{T&&T!==L&&K(T)}),[]),Object(c.useEffect)((()=>{s&&(p(s),C(s),k(s))}),[s]),Object(c.useEffect)((()=>{var e;v&&0!==(null===v||void 0===v||null===(e=v.settings)||void 0===e?void 0:e.length)||g(t.toString())}),[v]),Object(c.useEffect)((()=>{Object(y.p)({status:b,onFailed:()=>{Object(y.o)({error:h,onError:()=>{w.d.error(h.message)}})}})}),[b]),Object(c.useEffect)((()=>{Object(y.p)({status:f,onSuccess:()=>{s&&p(s)}})}),[f]),Object(c.useEffect)((()=>{var e;const t=(null===n||void 0===n?void 0:n.isConditionsAdded)||(null===u||void 0===u||null===(e=u.conditions)||void 0===e?void 0:e.length)>0,s=(null===n||void 0===n?void 0:n.totalSteps)>0;_(new Set([...t?[X.a.Conditions]:[],...s?[X.a.Steps]:[]]))}),[n,u]),Object(c.useEffect)((()=>{Object(y.p)({status:i,onSuccess:()=>{B(null===n||void 0===n?void 0:n.title),q()},onFailed:()=>{q()}})}),[i]),Object(c.useEffect)((()=>{s&&o(s)}),[]),Object(S.jsxs)("div",{className:"subsequence-details",children:[Object(S.jsx)(Oe,{sequenceId:t,subsequenceId:s,subsequenceName:D,setSubsequenceName:e=>{B(e),d(s,e)},isLoading:H,subsequenceTab:L,navigateToConditionsTab:()=>{L!==X.a.Conditions&&Q("conditions")}}),Object(S.jsx)(r.b,{activeKey:L,defaultActiveKey:X.a.Conditions,prefixCls:"bs-tabs",className:"bs-tabs-small left-side-tabs",id:"sequence-single-tabs",onChange:K,tabBarExtraContent:Object(S.jsx)(O.b,{placement:O.d.BottomEnd,content:Object(S.jsx)(et,{}),trigger:O.i.Hover,className:"subsequence-info-tooltip-popover",children:Object(S.jsxs)("div",{className:"subsequence-info-tooltip-wrapper",children:[Object(S.jsx)(j.Mb,{}),Object(S.jsx)("span",{children:"How Does This Work?"})]})}),children:(e=>{const t=Object(tt.b)(),s=E!==m.s.Draft;return t.filter((e=>!!s||e.key!==X.a.Prospects&&e.key!==X.a.Emails)).map(((t,s)=>(null===t||void 0===t?void 0:t.permission)?Object(A.a)(t.permission)?Z(t,s,e):null:Z(t,s,e)))})(z)})]})};const at={sendGetSequenceRequest:e=>Object(d.Y)(e),sendGetSubsequenceStatsRequest:e=>Object(d.mb)(e),sendRenameSequenceRequest:(e,t)=>Object(d.wb)({sequenceId:e,title:t}),sendGetSubsequenceRequest:e=>Object(d.jb)(e),sendGetSubsequenceSettingsRequest:e=>Object(d.kb)(e),sendGetSequenceConfigRequest:e=>Object(d.R)({sequenceId:e}),resetGetSubsequenceRequest:()=>Object(Y.y)(),sendGetSubsequenceStatsCountRequest:e=>Object(d.lb)(e),resetSubsequenceStatsCountsRequest:()=>Object(Y.jb)()};var ct=Object(n.connect)((e=>{var t,s;return{subsequence:e.sequence.subsequence,subsequenceSettings:e.sequence.subsequenceSettings,progress:null===(t=e.sequence)||void 0===t||null===(s=t.subsequence)||void 0===s?void 0:s.progress,sequenceConfig:e.sequence.sequenceConfig,getSubsequenceRequestStatus:e.sequence.getSubsequenceRequest.status,getSubsequenceSettingsRequestStatus:e.sequence.getSubsequenceSettingsRequest.status,getSubsequenceSettingsRequestError:e.sequence.getSubsequenceSettingsRequest.error,updateSubsequenceSettingsRequestStatus:e.sequence.updateSubsequenceSettingsRequest.status,subsequenceStatsCounts:e.sequence.subsequenceStatsCounts,getSubsequenceStatsCountRequestStatus:e.sequence.getSubsequenceStatsCountsRequest.status}}),at)(nt),it=s(161),lt=s(783),ot=s(350),dt=s(787),rt=s(200),ut=s(542),bt=s(528),jt=s(53),ht=s(108),mt=s(230),pt=s(113),vt=s(2131),gt=s(789),Ot=s(2207);const St=e=>{var t,s,n;let{sequenceScore:a,size:i="1.75rem"}=e;const{pathColor:l,trailColor:o,textColor:d}=Object(c.useMemo)((()=>Object(vt.k)(a)),[a]);return Object(S.jsx)(gt.a,{percentage:(null===a||void 0===a||null===(t=a.total)||void 0===t?void 0:t.score)||0,text:(null===a||void 0===a||null===(s=a.total)||void 0===s||null===(n=s.score)||void 0===n?void 0:n.toString())||0,pathColor:l,trailColor:o,textColor:d,width:i,height:i,textFontSize:"2.5rem",textFontWeight:"600"})},xt=e=>{var t,s;let{sequenceScore:n}=e;const{scoreCategory:a,className:i,content:l,contentExpression:o}=Object(c.useMemo)((()=>{var e;const t=(null===n||void 0===n||null===(e=n.sequenceScore)||void 0===e?void 0:e.score)||0;return Object(vt.j)(t)}),[null===n||void 0===n||null===(t=n.sequenceScore)||void 0===t?void 0:t.score]),d=Object(c.useMemo)((()=>[{scoreSetupName:"Email Account Setup",score:(null===n||void 0===n?void 0:n.emailAccountSetUpScore)||null},{scoreSetupName:"Sequence Setup",score:(null===n||void 0===n?void 0:n.sequenceSetupScore)||null},{scoreSetupName:"Email Writing Setup",score:(null===n||void 0===n?void 0:n.emailWritingSetupScore)||null}]),[n]);return Object(S.jsxs)("div",{className:"sequence-score-header__hover-card",children:[Object(S.jsxs)("div",{className:"d-flex score-items ".concat(i),children:[Object(S.jsx)("div",{className:"left-panel",children:d.map(((e,t)=>{let{scoreSetupName:s,score:n}=e;const a="sequence-score-card-".concat(s,"-").concat(t);return Object(S.jsxs)("div",{className:"progress-item",children:[Object(S.jsx)(St,{sequenceScore:n,size:"2rem"}),Object(S.jsx)("div",{className:"regular-1 font-4 font-medium line-height-16 gray-txt-15",children:s})]},a)}))}),Object(S.jsxs)("div",{className:"right-panel",children:[Object(S.jsx)(Ot.a,{score:(null===n||void 0===n||null===(s=n.sequenceScore)||void 0===s?void 0:s.score)||0,style:{className:"popup-score-radical-chart",grid:{padding:{top:-25,left:-20,right:-20,bottom:0}}}}),Object(S.jsxs)("div",{className:"score-block",children:[Object(S.jsx)("span",{className:"score-block__text",children:"Your sequence score is"}),Object(S.jsx)("span",{className:"score-block__value ".concat(i),children:a})]})]})]}),Object(S.jsxs)("div",{className:"d-flex justify-content-between align-items-start scorebased-content",children:[o&&Object(S.jsx)("span",{className:"regular-1 line-height-18 scorebased-content__emoji",children:o}),Object(S.jsx)("span",{className:"regular-1 line-height-18 scorebased-content__content",children:l})]})]})};var qt=e=>{var t;let{sequenceScore:s,isDisabled:n,getSequenceScoreRequestStatus:i,sendGetSequenceScoreRequest:o}=e;const{sequenceId:d}=Object(a.i)(),r=Object(l.a)(Object(l.a)({},null===s||void 0===s?void 0:s.sequenceSetupScore),{},{total:{score:null===s||void 0===s||null===(t=s.sequenceScore)||void 0===t?void 0:t.score}}),[u,b]=Object(c.useState)(!1),j=()=>{n||Object(y.G)(i)||b(!0)},h=()=>{b(!1)};return Object(c.useEffect)((()=>{o({sequenceId:d})}),[]),Object(S.jsxs)("div",{className:"sequence-score-header__hover-container",onMouseEnter:j,onMouseLeave:h,children:[Object(S.jsxs)("div",{className:"d-flex align-items-center pointer sequence-score-header__hover-txt ".concat(n&&"sequence-score-header__disabled"),children:[Object(S.jsx)("div",{className:"mr-2 hover-text",onMouseEnter:j,onMouseLeave:h,children:Object(S.jsx)(St,{sequenceScore:r})}),Object(S.jsx)("span",{className:"regular-2 font-medium line-height-20 gray-txt-15 sequence-score__text",children:"Sequence Score"})]}),u&&Object(S.jsx)(xt,{sequenceScore:s})]})};const ft={sendGetSequenceScoreRequest:e=>Object(d.Z)(e)};var Ct=Object(n.connect)((e=>({isFirstRequest:!e.sequence.sequence,profileProgress:e.home.profileProgress,sequenceScore:e.sequence.sequenceScore,getSequenceScoreRequestStatus:e.sequence.getSequenceScoreRequest.status})),ft)(qt),yt=s(803),Nt=s(753),wt=s(2208),Rt=s(2205),Et=s(2203),At=s(21),kt=s(91),It=s(76);var Pt=()=>{const e=[{dataField:"senderEmail",text:"Sender Email",cellClasses:"sequence-settings--email-address",headerLoadingSkeleton:Object(S.jsx)(p.l,{width:84,height:14}),cellLoadingSkeleton:Object(S.jsxs)("div",{children:[Object(S.jsx)(p.l,{width:72,height:14}),Object(S.jsx)(p.l,{width:100,height:8})]})},{dataField:"tags",text:"Tags",headerAlign:"left",cellClasses:"tag-detail",headerLoadingSkeleton:Object(S.jsx)(p.l,{width:29,height:14}),cellLoadingSkeleton:Object(S.jsxs)("div",{className:"d-flex",children:[Object(S.jsx)(p.l,{width:84,height:24}),Object(S.jsx)("div",{className:"ml-2",children:Object(S.jsx)(p.l,{width:64,height:24})})]})},Object(A.a)(k.a.EMAIL_ACCOUNT_SETTINGS_GENERAL_SETTING_UPDATE)&&{dataField:"isSignaturePresent",text:"Signature",align:"left",cellClasses:"sequence-settings--email-address",headerLoadingSkeleton:Object(S.jsx)(p.l,{width:84,height:14}),cellLoadingSkeleton:Object(S.jsxs)("div",{children:[Object(S.jsx)(p.l,{width:72,height:14}),Object(S.jsx)(p.l,{width:100,height:8})]})},{dataField:"activeSequence",text:"Active Sequence",cellClasses:"sequence-settings--email-address",headerLoadingSkeleton:Object(S.jsx)(p.l,{width:84,height:14}),cellLoadingSkeleton:Object(S.jsxs)("div",{children:[Object(S.jsx)(p.l,{width:72,height:14}),Object(S.jsx)(p.l,{width:100,height:8})]})},{dataField:"dailyLimit",text:"Daily Limit",cellClasses:"sequence-settings--email-limit",headerLoadingSkeleton:Object(S.jsx)(p.l,{width:84,height:14}),cellLoadingSkeleton:Object(S.jsxs)("div",{children:[Object(S.jsx)(p.l,{width:72,height:14}),Object(S.jsx)(p.l,{width:100,height:8})]})},{dataField:"emailHealthScore",text:"Setup Score",cellClasses:"sequence-settings--email-address",headerLoadingSkeleton:Object(S.jsx)(p.l,{width:84,height:14}),cellLoadingSkeleton:Object(S.jsxs)("div",{children:[Object(S.jsx)(p.l,{width:72,height:14}),Object(S.jsx)(p.l,{width:100,height:8})]})},{dataField:"client",text:"Client Associated",headerAlign:"start",cellClasses:"sequence-email-account-client-associated",headerStyle:()=>({minWidth:"10.5rem",width:"10.5rem"}),headerLoadingSkeleton:Object(S.jsx)(p.l,{width:68,height:14}),cellLoadingSkeleton:Object(S.jsx)(p.l,{width:76,height:14})},{dataField:"owner",text:"Owner",cellClasses:"sequence-settings--owner",headerLoadingSkeleton:Object(S.jsx)(p.l,{width:84,height:14}),cellLoadingSkeleton:Object(S.jsxs)("div",{children:[Object(S.jsx)(p.l,{width:72,height:14}),Object(S.jsx)(p.l,{width:100,height:8})]})},{dataField:"action",text:"",cellClasses:"sequence-settings--action",headerLoadingSkeleton:Object(S.jsx)(p.l,{width:84,height:14}),cellLoadingSkeleton:Object(S.jsxs)("div",{children:[Object(S.jsx)(p.l,{width:72,height:14}),Object(S.jsx)(p.l,{width:100,height:8})]})}];return Object(S.jsxs)("div",{className:"settings-content d-flex h-100",children:[Object(S.jsx)("div",{className:"settings-content__left-container skeleton-height-1",children:Object(S.jsx)("div",{className:"sequence-settings-sidebar",children:Array.from({length:4}).map(((e,t)=>Object(S.jsx)("div",{className:"sequence-settings-sidebar__item",children:Object(S.jsx)(p.l,{width:109,height:18})},t)))})}),Object(S.jsx)("div",{className:"settings-content__right-container w-100 ml-4",children:Object(S.jsxs)("div",{children:[Object(A.a)(k.a.CLIENT_READ)&&Object(At.J)()&&Object(S.jsx)("div",{className:"skeleton-height-1",id:"associate-client",children:Object(S.jsx)("div",{className:"card associate-client",children:Object(S.jsxs)("div",{className:"card-body",children:[Object(S.jsx)("h3",{className:"mb-2",children:Object(S.jsx)(p.l,{width:109,height:18})}),Object(S.jsx)("p",{children:Object(S.jsx)(p.l,{width:390,height:16})}),Object(S.jsx)("div",{className:"content",children:Object(S.jsx)(p.l,{width:480,height:36})}),Object(S.jsx)(p.l,{width:65,height:32,className:"mt-4"})]})})}),Object(S.jsx)("div",{className:"card mt-4",children:Object(S.jsxs)("div",{className:"card-body",children:[Object(S.jsxs)("div",{className:"d-flex justify-content-between skeleton-height-1",children:[Object(S.jsxs)("div",{className:"d-flex flex-column",children:[Object(S.jsxs)("div",{className:"d-flex mb-1",children:[Object(S.jsx)(p.l,{width:105,height:16}),Object(S.jsx)(p.l,{width:140,height:25,borderRadius:50,className:"ml-2"})]}),Object(S.jsx)(p.l,{width:360,height:16})]}),Object(S.jsx)("div",{className:"py-2 px-3",children:Object(S.jsx)(p.l,{width:182,height:16})})]}),Object(S.jsx)("div",{className:"mt-4",children:Object(S.jsx)(kt.a,{data:[],columns:e,pagination:It.b.HIDE,paginationOptions:{options:{page:1,limit:10,totalElements:10}},isLoading:!0,tableWrapperClasses:"sequence-email-account-table-list",bodyWrapperClasses:"sequence-email-account-table-body"})})]})})]})})]})},Tt=s(802);var Lt=()=>Object(S.jsx)("div",{className:"subsequence-components",children:Object(S.jsxs)("div",{className:"subsequence-list-container",children:[Object(S.jsxs)("div",{className:"subsequence-filter-bar skeleton-height-1",children:[Object(S.jsxs)("div",{className:"subsequence-filter-bar-left",children:[Object(S.jsx)(p.l,{width:202,height:32}),Object(S.jsx)(p.l,{width:126,height:32})]}),Object(S.jsx)("div",{children:Object(S.jsx)(p.l,{width:147,height:32})})]}),Object(S.jsx)(Tt.a,{})]})});class Ft extends i.a.Component{constructor(e){super(e),this.shouldValidateIsSettingsTabCompleted=void 0,this.invalidateEmailsTabCache=void 0,this.lazyComponents={},this.closeModal=()=>{this.setState({isAiSequenceGeneratorBanner:!1})},this.renderTab=(e,t,s)=>{const{completedTabs:n}=this.state,a=Object(lt.b)().find((t=>{let{key:s}=t;return s===e}));return Object(S.jsx)(x,{tab:Object(l.a)(Object(l.a)({},a),{},{isCompleted:n.has(a.key)}),isSequenceOnboardingCompeted:t,count:Object(lt.c)(a.key,s),isDisabled:a.key===m.G.Subsequence&&!n.has(m.G.Steps)})},this.renderChevron=e=>e?null:Object(S.jsx)("div",{className:"chevron-right-icon-container",children:Object(S.jsx)(j.R,{})}),this.state={emailTabId:0,settingsTabId:0,completedTabs:new Set,showUpgradePlanErrorModal:!1,isAiSequenceGeneratorBanner:!0},this.shouldValidateIsSettingsTabCompleted=!1,this.invalidateEmailsTabCache=!1,this.onTabChange=this.onTabChange.bind(this),this.createSubsequence=this.createSubsequence.bind(this),this.hideUpgradePlanErrorModal=this.hideUpgradePlanErrorModal.bind(this)}componentDidMount(){const{match:{params:e},activeTab:t,sendGetEspMatchingDetails:s}=this.props,n=Number(e.sequenceId);this.getSequenceSingleStats(),t===m.G.Settings&&s(n)}componentDidUpdate(e){const{getScheduleRequestError:t,getScheduleRequestStatus:s,getConnectedEmailsRequestError:n,getConnectedEmailsRequestStatus:a,getSequenceRequestStatus:c,getSequenceRequestError:i,hideLoadingBar:o,showLoadingBar:d,history:r,activeTab:u,sequenceProspectsFilters:b,setSequenceProspectsFilters:j,totalSteps:h,contacts:p,linkedEmailAccounts:v,sequenceStatsCounts:g,sendUpdateSequenceSettingsRequest:O,updateSequenceSettingsRequestStatus:S,resetSequenceSettingUpdateRequestStatus:x,match:{params:q}}=this.props;if(u!==e.activeTab){if(u===m.G.Steps&&this.getSequenceSingleStats(),e.activeTab===m.G.Prospects){j(Object(l.a)(Object(l.a)({},b),{},{status:b.status.filter((e=>!(null===e||void 0===e?void 0:e.isHeaderFilter)))}))}u===m.G.Settings&&(this.getSequenceSettingsVisitedValue()||(O(q.sequenceId,{settings:[{code:m.x.SEQUENCE_SETTING_VISITED,value:"1"}]}),this.shouldValidateIsSettingsTabCompleted=!0))}Object(P.c)({status:S,prevStatus:e.updateSequenceSettingsRequestStatus,onSuccess:()=>{if(this.getSequenceSettingsVisitedValue()&&this.shouldValidateIsSettingsTabCompleted){var e;x();const{completedTabs:t}=this.state,s=(null===v||void 0===v||null===(e=v.filter((e=>e.status===ot.b.Active)))||void 0===e?void 0:e.length)>0||Object(lt.c)(m.G.Settings,g)>0;this.setState({completedTabs:new Set([...Array.from(t),...s?[m.G.Settings]:[]])}),this.shouldValidateIsSettingsTabCompleted=!1}}});const f=()=>{d()},y=()=>{o()};Object(P.c)({status:c,prevStatus:e.getSequenceRequestStatus,onPending:f,onSuccess:y,onFailed:()=>{y(),i&&(r.push("/sequence"),Object(C.a)(i.message))}}),Object(P.c)({status:s,prevStatus:e.getScheduleRequestStatus,onPending:f,onSuccess:y,onFailed:()=>{y(),t&&Object(C.a)(t.message)}}),Object(P.c)({status:a,prevStatus:e.getConnectedEmailsRequestStatus,onPending:f,onSuccess:y,onFailed:()=>{y(),n&&Object(C.a)(n.message)}}),g===e.sequenceStatsCounts&&h===e.totalSteps&&p===e.contacts&&v===e.linkedEmailAccounts||this.updateCompletedTabs()}componentDidCatch(e,t){{const{email:s}=this.props;h.b(e,{tags:{component:"SequenceSingleContent",action:"unexpectedError"},extra:{email:s,errorInfo:t}}),Object(y.Z)("/sequence")}}componentWillUnmount(){const{resetSequenceProspectsFilters:e,resetSequenceEmailsFilters:t}=this.props;e("all"),t("all")}onTabChange(e){const{emailTabId:t,settingsTabId:s,completedTabs:n}=this.state,a=n.has(m.G.Steps);if((e===m.G.SequenceScore||e===m.G.Subsequence)&&!a)return;const{match:{params:c},activeTab:i,onTabChange:l,getSequenceStatsCountRequest:o,sendGetEspMatchingDetails:d,handleInvalidateCacheForEmailsTab:r}=this.props,u=Number(c.sequenceId);l(e),i===m.G.Emails&&this.invalidateEmailsTabCache&&(r(),this.invalidateEmailsTabCache=!1),e===m.G.Emails?this.setState({emailTabId:t+1}):e===m.G.Settings&&(this.setState({settingsTabId:s+1}),d(u)),e!==m.G.Steps&&setTimeout((()=>{o(u)}),100)}getLazyComponent(e){if(!this.lazyComponents[e])switch(e){case m.G.Steps:this.lazyComponents[e]=i.a.lazy((()=>Object(J.a)((()=>Promise.resolve().then(s.bind(null,2307))))));break;case m.G.Prospects:this.lazyComponents[e]=i.a.lazy((()=>Object(J.a)((()=>Promise.resolve().then(s.bind(null,2308))))));break;case m.G.Emails:this.lazyComponents[e]=i.a.lazy((()=>Object(J.a)((()=>Promise.resolve().then(s.bind(null,2225))))));break;case m.G.Settings:this.lazyComponents[e]=i.a.lazy((()=>Object(J.a)((()=>Promise.all([s.e(3),s.e(26)]).then(s.bind(null,2320))))));break;case m.G.Subsequence:this.lazyComponents[e]=i.a.lazy((()=>Object(J.a)((()=>s.e(29).then(s.bind(null,2340))))));break;case m.G.SequenceScore:this.lazyComponents[e]=i.a.lazy((()=>Object(J.a)((()=>s.e(24).then(s.bind(null,2327))))));break;default:return null}return this.lazyComponents[e]}getSequenceSettingsVisitedValue(){const{sequenceSettings:e}=this.props,t=null===e||void 0===e?void 0:e.find((e=>{let{code:t}=e;return t===m.x.SEQUENCE_SETTING_VISITED}));return!!t&&Boolean(Number(t.value))}getSequenceSingleStats(){const{match:{params:e},sendGetSequenceRequest:t,sendGetSequenceStatsRequest:s,getSequenceStatsCountRequest:n,activeTab:a}=this.props,c=Number(e.sequenceId);t(c),n(c),a===m.G.Steps&&s(c)}getCustomTabClassNames(){const{activeTab:e,client:t,progress:s,match:{params:n},subsequence:a}=this.props;let c=s!==m.s.Draft;(null===n||void 0===n?void 0:n.subsequenceId)&&a&&(c=(null===a||void 0===a?void 0:a.progress)!==m.s.Draft);let i="lg";return e===m.G.Emails&&(i="xl"),b()("custom-tab-container","custom-tab-container-".concat(i),{"left-side-tabs":t&&Object.keys(t).length>0||e===m.G.Subsequence,onboardingCompleted:c})}updateCompletedTabs(){var e;const{sequenceStatsCounts:t,totalSteps:s,contacts:n,linkedEmailAccounts:a}=this.props,c=s>0||Object(lt.c)(m.G.Steps,t)>0,i=(null===n||void 0===n?void 0:n.length)>0||Object(lt.c)(m.G.Prospects,t)>0,l=this.getSequenceSettingsVisitedValue()&&((null===a||void 0===a||null===(e=a.filter((e=>e.status===ot.b.Active)))||void 0===e?void 0:e.length)>0||Object(lt.c)(m.G.Settings,t)>0);this.setState({completedTabs:new Set([...c?[m.G.Steps]:[],...i?[m.G.Prospects]:[],...l?[m.G.Settings]:[]])})}createSubsequence(e){const{sendCreateSubsequenceRequest:t,match:{params:s}}=this.props,n=Number(s.sequenceId);Object(A.a)(k.a.SEQUENCE_WRITE)?Object(dt.a)()?this.setState({showUpgradePlanErrorModal:!0}):Object(A.a)(k.a.SEQUENCE_WRITE)&&t(e,n):Object(A.a)(k.a.ACCOUNT_SUBSCRIPTION_READ)?Object(rt.a)(2002):Object(rt.a)(3002)}hideUpgradePlanErrorModal(){this.setState({showUpgradePlanErrorModal:!1})}render(){const{activeTab:e,isFirstRequest:t,match:{params:s},updateSetGenerateAiSeqModal:n,updateRequestStatus:a,isSequenceEmailSending:c,progress:i,title:l,sequenceStatsCounts:o,isStepsListEmpty:d,featureUsages:u,isDealValueSet:b}=this.props,{completedTabs:j,showUpgradePlanErrorModal:h,isAiSequenceGeneratorBanner:p,emailTabId:v,settingsTabId:g}=this.state;if(t)return Object(S.jsx)(Nt.a,{});if(null===s||void 0===s?void 0:s.subsequenceId)return Object(S.jsx)("div",{className:"single-sequence-tab-container",children:Object(S.jsx)("div",{className:this.getCustomTabClassNames(),children:Object(S.jsx)(ct,{sequenceId:Number(s.sequenceId),subsequenceId:Number(s.subsequenceId)})})});const O=j.has(m.G.Steps)&&j.has(m.G.Prospects)&&j.has(m.G.Settings),x=i!==m.s.Draft,q=Object(lt.c)(m.G.Subsequence,o),f=null===u||void 0===u?void 0:u.some((e=>(null===e||void 0===e?void 0:e.featureCode)===mt.a.AI_CREDITS));return Object(S.jsxs)("div",{className:"single-sequence-tab-container",children:[f&&p&&d&&Object(S.jsx)(ut.a,{variant:bt.a.Primary,pageHeaderBannerMessage:"Not sure where to begin ? Let our AI Generate a high-converting sequence for you.",ctaSecondaryBtnText:"Generate sequence with AI",Icon:Object(S.jsx)(jt.U,{}),ctaSecondaryBtnClick:()=>{n({isOpen:!0,currentStep:ht.a.INITIATE_AI_SEQUENCE}),a()},className:"ai-sequence-generator-banner",onBannerClose:()=>this.closeModal(),customBannerClass:"ai-sequence-generator-banner-custom",closeBtnClassName:"cross-class"}),Object(S.jsx)("div",{className:this.getCustomTabClassNames(),children:Object(S.jsxs)(r.b,{activeKey:e,defaultActiveKey:"steps",prefixCls:"bs-tabs",className:"bs-tabs-small",id:"sequence-single-tabs",onChange:this.onTabChange,tabBarExtraContent:Object(S.jsx)("div",{className:"sequence-single-header-action",children:Object(S.jsx)(Z,{currentTab:e,onTabChange:this.onTabChange,isAllStepsCompleted:O,handleInvalidateEmailsTabCache:()=>{this.invalidateEmailsTabCache=!0}})}),children:[Object(S.jsx)(r.a,{tab:Object(S.jsxs)(S.Fragment,{children:[this.renderTab(m.G.Steps,x,o),this.renderChevron(x)]}),children:Object(S.jsx)(pt.a,{fallback:Object(S.jsx)(yt.a,{}),children:(()=>{const t=this.getLazyComponent(m.G.Steps);return t?Object(S.jsx)(t,{tabId:e}):null})()})},m.G.Steps),Object(A.a)(k.a.SEQUENCE_PROSPECT_READ)&&Object(S.jsx)(r.a,{tab:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{id:it.a.SequenceProspectsTab,children:this.renderTab(m.G.Prospects,x,o)}),this.renderChevron(x)]}),children:Object(S.jsx)(pt.a,{fallback:Object(S.jsx)(Et.a,{isDealValueSet:b}),children:(()=>{const t=this.getLazyComponent(m.G.Prospects);return t?Object(S.jsx)(t,{tabId:e,onTabChange:this.onTabChange}):null})()})},m.G.Prospects),Object(A.a)(k.a.SEQUENCE_EMAIL_READ)&&x&&Object(S.jsx)(r.a,{tab:this.renderTab(m.G.Emails,x,o),children:Object(S.jsx)(pt.a,{fallback:Object(S.jsx)(Rt.a,{}),children:(()=>{const e=this.getLazyComponent(m.G.Emails);return e?Object(S.jsx)(e,{id:v}):null})()})},m.G.Emails),Object(A.a)(k.a.SEQUENCE_SETTING_READ)&&Object(S.jsx)(r.a,{tab:Object(S.jsx)("div",{id:it.a.SequenceSettingsTab,children:this.renderTab(m.G.Settings,x,o)}),children:Object(S.jsx)(pt.a,{fallback:Object(S.jsx)(Pt,{}),children:(()=>{const e=this.getLazyComponent(m.G.Settings);return e?Object(S.jsx)(e,{id:g,isSequenceEmailSending:c}):null})()})},m.G.Settings),Object(A.a)(k.a.SUBSEQUENCE_SHOW)&&(Object(A.a)(k.a.SUBSEQUENCE_CREATE)||q>0)&&Object(S.jsx)(r.a,{tab:this.renderTab(m.G.Subsequence,x,o),children:Object(S.jsx)(pt.a,{fallback:Object(S.jsx)(Lt,{}),children:(()=>{const e=this.getLazyComponent(m.G.Subsequence);return e?Object(S.jsx)(e,{sequenceId:Number(s.sequenceId),sequenceName:l}):null})()})},m.G.Subsequence),Object(A.a)(k.a.SEQUENCE_SCORE_READ)&&e!==m.G.Subsequence&&Object(S.jsx)(r.a,{tab:Object(S.jsx)(pt.a,{children:Object(S.jsx)(Ct,{isDisabled:!j.has(m.G.Steps)})}),children:Object(S.jsx)(pt.a,{fallback:Object(S.jsx)(wt.a,{}),children:(()=>{const t=this.getLazyComponent(m.G.SequenceScore);return t?Object(S.jsx)(t,{tabId:e}):null})()})},m.G.SequenceScore)]})}),Object(S.jsx)(I.a,{show:h,onClose:this.hideUpgradePlanErrorModal,planName:"starter",restrictionOn:"subsequence"})]})}}var Mt=Ft,_t=s(502);const Dt={sendGetSequenceRequest:e=>Object(d.Y)(e),sendGetSequenceStatsRequest:e=>Object(d.bb)(e),sendGetScheduleRequest:()=>Object(d.O)(),sendGetConnectedEmailRequest:()=>Object(d.B)(),sequenceSendEmailStatus:e=>Object(d.Gb)({sequenceId:e}),sendUpgradeOnboardingStepRequest:e=>Object(W.s)(e),getSequenceStatsCountRequest:e=>Object(d.ab)(e),resetSequenceStatsCountsRequest:()=>Object(Y.eb)(),showLoadingBar:()=>Object(o.showLoading)(),hideLoadingBar:()=>Object(o.hideLoading)(),setSequenceProspectsFilters:e=>Object(Y.Cb)(e),resetSequenceProspectsFilters:e=>Object(Y.ab)(e),sendGetEspMatchingDetails:e=>Object(d.H)(e),resetSequenceEmailsFilters:e=>Object(Y.S)(e),sendUpdateSequenceSettingsRequest:(e,t)=>Object(d.Jb)(Object(l.a)({sequenceId:e},t)),resetSequenceSettingUpdateRequestStatus:()=>Object(Y.bb)(),sendCreateSubsequenceRequest:(e,t)=>Object(d.q)({title:e,sequenceId:t}),sendGetContactStatusCountRequest:(e,t)=>Object(d.F)(Object(l.a)({sequenceId:null===e||void 0===e?void 0:e.toString()},t)),updateSetGenerateAiSeqModal:e=>Object(Y.rb)(e),updateRequestStatus:()=>Object(Y.K)(),handleInvalidateCacheForEmailsTab:()=>_t.a.util.resetApiState()},Bt=Object(n.connect)((e=>{var t,s,n,a,c,i,l,o;return{getScheduleRequestStatus:e.sequence.getSchedulesRequest.status,getScheduleRequestMessage:e.sequence.getSchedulesRequest.message,getScheduleRequestError:e.sequence.getSchedulesRequest.error,getConnectedEmailsRequestStatus:e.sequence.getConnectedEmailsRequest.status,getConnectedEmailsRequestMessage:e.sequence.getConnectedEmailsRequest.message,getConnectedEmailsRequestError:e.sequence.getConnectedEmailsRequest.error,getSequenceRequestStatus:e.sequence.getSequenceRequest.status,getSequenceRequestError:e.sequence.getSequenceRequest.error,getEmailSendRequestStatus:e.sequence.getSequenceEmailSendRequest.status,getEmailSendRequestError:e.sequence.getSequenceEmailSendRequest.error,isSequenceEmailSending:e.sequence.isSequenceMailSending,isStepsListEmpty:0===(null===(t=e.sequence.sequence)||void 0===t||null===(s=t.steps)||void 0===s?void 0:s.length),meta:e.home.meta,isFirstRequest:!e.sequence.sequence,progress:null===(n=e.sequence.sequence)||void 0===n?void 0:n.progress,sequenceSettings:null===(a=e.sequence.sequence)||void 0===a?void 0:a.settings,isDealValueSet:null===(c=e.sequence.sequence)||void 0===c?void 0:c.isDealValueSet,updateSequenceSettingsRequestStatus:e.sequence.updateSequenceSettingsRequest.status,getSequenceStatsRequestStatus:e.sequence.getSequenceStatsRequest.status,sequenceProspectsFilters:e.sequence.sequenceProspectsFilters,totalSteps:(null===(i=e.sequence.sequence)||void 0===i?void 0:i.totalSteps)||0,contacts:e.sequence.contacts||[],linkedEmailAccounts:(null===(l=e.sequence.getLinkedEmailAccountsResponse)||void 0===l?void 0:l.responseWithActiveSequences)||[],profileProgress:e.home.profileProgress,client:e.home.client,title:null===(o=e.sequence.sequence)||void 0===o?void 0:o.title,email:e.home.email,subsequence:e.sequence.subsequence,featureUsages:e.home.featureUsages}}),Dt);var Gt=Object(a.j)(Bt(Mt));class Vt extends i.a.Component{constructor(){super(...arguments),this.onTabChange=e=>{const{match:t,history:s}=this.props,{sequenceId:n}=t.params;s.push("/sequence/".concat(n,"/").concat(e))}}componentWillUnmount(){const{resetSequence:e,resetPauseResumeSequenceState:t}=this.props;e(),t()}render(){const{match:e,sequenceStatsCounts:t}=this.props,{activeTab:s}=e.params;return Object(S.jsx)("div",{className:"sequence-components",children:Object(S.jsx)(Gt,{activeTab:s,onTabChange:this.onTabChange,sequenceStatsCounts:t})})}}var Ut=Vt;const Wt={resetSequence:()=>Object(Y.P)(),resetPauseResumeSequenceState:()=>Object(Y.G)()};var Ht=Object(n.connect)((e=>({isFirstRequest:!e.sequence.sequence,sequenceStatsCounts:e.sequence.sequenceStatsCounts})),Wt)(Object(a.j)(Ut))}}]);
//# sourceMappingURL=sequence-single.ebbf062e.chunk.js.map